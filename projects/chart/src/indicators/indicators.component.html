<window-header [window]="this"></window-header>
<div class="layout">
  <div class="menu">
    <div class="menu-list">
      <ul>
        <li *ngFor="let item of indicators"
            (click)="selectIndicator(item)"
            [class.selected]="isSelected(item)"><i class="icon-visible"></i>{{item.name}}
          <i (click)="$event.stopPropagation(); removeIndicator(item)" class="icon-minus ml-auto"></i>
        </li>
      </ul>
    </div>
    <div class="bottom-menu">
      <button (click)="addIndicator()" class="add-button">ADD</button>
      <span [class.is-removable]="indicators.length" class="remove-all-text" (click)="removeAll()">remove all</span>
    </div>
  </div>
  <div class="form-layout">
      <cdk-virtual-scroll-viewport itemSize="">
        <formly-form
          *ngIf="selectedIndicator"
          [form]="form"
          [(model)]="selectedIndicator.settings"
          [fields]="selectedIndicator.config">
        </formly-form>
      </cdk-virtual-scroll-viewport>
  </div>


</div>
