/**
 * StockChartX Web & Mobile
 * @version v2.22.2
 * @link http://www.modulusfe.com/products/web-mobile-stock-chart-library/stockchartx-html5-web-mobile/
 * @license Copyright 2012 to 2017 by Modulus Financial Engineering, Inc., Scottsdale, AZ USA
 * http://www.modulusfe.com
 * 
 * Your license agreement requires the use of the Modulus LicensePing.com licensing mechanism.
 * The mechanism monitors the usage and distribution patterns of our intellectual property.
 * If the usage or distribution patterns indicate that our licensing mechanism has either
 * been removed, altered, tampered with or that our intellectual property may be misused in
 * any form, our legal team may initiate contact with you to investigate the matter further.
 * 
 * Removal or modification of this license mechanism by any means whatsoever (editing the code,
 * removing the LicensePing.com URL reference, etc.) constitutes willful and criminal copyright
 * infringement in addition to giving rise to claims by Modulus Financial Engineering, Inc.
 * against you, as the developer, and your company as a whole for, among others:
 * 
 * (1) Copyright Infringement;
 * (2) False Designation of Origin;
 * (3) Breach of Contract;
 * (4) Misappropriation of Trade Secrets;
 * (5) Interference with Contract; and
 * (6) Interference with Prospective Business Relations.
 * 
 * 17 USC � 506 - Criminal offenses
 * (a) Criminal Infringement.
 * Any person who willfully infringes a copyright shall be punished as provided under section
 * 2319 of title 18, if the infringement was committed for purposes of commercial advantage
 * or private financial gain.
 * 
 * 18 USC � 2319 - Criminal infringement of a copyright
 * (a) Any person who commits an offense under section 506 (a)(1)(A) of title 17 shall be imprisoned
 * not more than 5 years, or fined in the amount set forth in this title (up to $150,000), or both,
 * if the offense consists of the reproduction or distribution, including by electronic means, during
 * any 180-day period, of at least 10 copies, of 1 or more copyrighted works, which have a total retail
 * value of more than $2,500.
 * 
 * For more information, review the license agreement associated with this software and source
 * code at http://www.modulusfe.com/tos or contact us at legal@modulusfe.com.
 */
!function(n){"use strict";n.DataSeriesSuffix={DATE:".date",OPEN:".open",HIGH:".high",LOW:".low",CLOSE:".close",VOLUME:".volume",TICKS_COUNT:".ticks_count",DETAILS:".details",HEIKIN_ASHI:".heikin_ashi",RENKO:".renko",LINE_BREAK:".line_break",POINT_AND_FIGURE:".point_and_figure",KAGI:"kagi",MEDIAN:".median",TYPICAL:".typical",WEIGHTED:".weighted"},Object.freeze(n.DataSeriesSuffix);var t=(Object.defineProperty(o.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t||""},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"values",{get:function(){return this._values},set:function(t){if(!Array.isArray(t))throw new TypeError("An array of values expected.");this._values=t||[]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"nameSuffix",{get:function(){var t=this.name,e=t.lastIndexOf(".");return 0<=e?t.substr(e):null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isValueDataSeries",{get:function(){return this.nameSuffix!==n.DataSeriesSuffix.DATE},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isDateDataSeries",{get:function(){return this.nameSuffix===n.DataSeriesSuffix.DATE},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"firstValue",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"lastValue",{get:function(){var t=this._values;return 0<t.length?t[t.length-1]:null},enumerable:!0,configurable:!0}),o.prototype.valueAtIndex=function(t,e){var i=this._values,o=i[t];return void 0!==e&&(i[t]=e),o},o.prototype.initialize=function(t,e){this._name=e,this.recordCount=t,this._values=new Array(t+1);for(var i=0;i<this._values.length;i++)this._values[i]=0},o.prototype.setValue=function(t,e){this._values[t]=e},o.prototype.value=function(t){return 0<=t&&t<this._values.length?this._values[t]:n.nullValue},o.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this._values;Array.isArray(t)?n.JsUtil.flattenedArray(t,function(t){return i.push(t)}):i.push(t)},o.prototype.addArray=function(t){this._values.push(t)},o.prototype.insert=function(t,e){var i=this._values;Array.isArray(e)?i.splice.apply(i,[t,0].concat(e)):i.splice(t,0,e)},o.prototype.updateLast=function(t){var e=this._values;0<e.length&&(e[e.length-1]=t)},o.prototype.clear=function(){this._values.length=0},o.prototype.trim=function(t){var e=this._values,t=e.length-Math.max(t,0);return 0<t?e.splice(0,t):t=0,t},o.prototype.itemsCountBetweenValues=function(t,e){for(var i=0,o=0,r=this._values;o<r.length;o++){var n=r[o];null!=n&&t<=n&&n<=e&&i++}return i},o.prototype.minMaxValues=function(t,e){var i=this._values;(null==t||t<0||t>=i.length-1)&&(t=0),null==e&&(e=i.length-t);for(var o,r=Math.min(t+e-1,i.length-1),n={min:1/0,max:-1/0},a=t;a<=r;a++)null!=(o=i[a])&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o));return n},o.prototype.floorIndex=function(t){var e=this.binaryIndexOf(t);if(0===e){var i=this._values;if(0===i.length)return-1;if(i[0]>t)return-1}return 0<=e?e:~e-1},o.prototype.ceilIndex=function(t){t=this.binaryIndexOf(t);return 0<=t?t:~t},o.prototype.binaryIndexOf=function(t){var e=this._values;if(0===e.length)return-1;for(var i=0,o=e.length-1;i<=o;){var r=(i+o)/2|0,n=e[r];if(n<t)i=1+r;else{if(!(t<n))return r;o=r-1}}return e[o]<t?~i:~Math.max(o,0)},o.prototype.leftNearestVisibleValueIndex=function(t){for(var e=this._values,i=t=Math.min(t,e.length-1);0<=i;i--)if(null!=e[i])return i;return 0},o.prototype.rightNearestVisibleValueIndex=function(t){for(var e=this._values,i=e.length,o=t;o<i;o++)if(null!=e[o])return o;return i-1},o.fromField=function(t,e){var i=new o;return i.fromField(t,e),i},o.prototype.toField=function(t){var e=new o;return e.name=t||this.name,e.recordCount=this._values.length,e._values=[0].concat(this._values),e._values.push(0),e},o.prototype.fromField=function(t,e){for(var i=t.recordCount,o=t._values.slice(1,e+i),r=0;r<e-1;r++)o[r]=null;for(;r<i;)o[r]===n.nullValue&&(o[r]=null),r++;this._values=o},o);function o(t){var e,i;if(this.recordCount=0,this._m_values=[],t)if("string"==typeof t)e=t;else{if("object"!=typeof t)throw new TypeError("Unknown config.");e=t.name,i=t.values}else;this.name=e,this.values=i||[]}n.DataSeries=t}(StockChartX=StockChartX||{});var __extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){"use strict";n.nullValue=-987653421;var r,t=(r=n.DataSeries,__extends(a,r),Object.defineProperty(a.prototype,"dataAgregator",{get:function(){return this._dataAgregator},set:function(t){this._dataAgregator=t},enumerable:!0,configurable:!0}),a.prototype.value=function(t,e){var i=this.values,o=i[t];return void 0!==e&&(i[t]=e),null!=o?o:n.nullValue},a.prototype.fill=function(t,e,i){for(var o=t;o<e;o++)this.value(o,i)},a.fromDataSeries=function(t,e){if(!t)return null;e=new a(e||t.name,t.recordCount||t.values.length);return e.values=[0].concat(t.values),e.values.push(0),e},a.prototype.toDataSeries=function(t){for(var e=new a(this.name,this.recordCount),i=this.recordCount,o=this.values.slice(1,t+i),r=0;r<t-1;r++)o[r]=null;for(;r<i;)o[r]===n.nullValue&&(o[r]=null),r++;return e.values=o,e},a.prototype.average=function(t,e){for(var i=0,o=t+e,r=t;r<o;r++)i+=this.value(r);return i/e},a.prototype.set=function(t){this.setLastValue(0,t)},a.prototype.get=function(t){return this.value(this.getIndex(t))},a.prototype.setLastValue=function(t,e){this.value(this.getIndex(t),e)},a.prototype.reset=function(t){this.recordCount=t},a.prototype.getIndex=function(t,e){return e?e-t:this._dataAgregator?this._dataAgregator.currentBar-t:0},a);function a(t,e){var i=r.call(this)||this;i.name=t,e instanceof n.Indicator?(i._dataAgregator=e,i.recordCount=e.chart.recordCount):null!=e&&(i.recordCount=e),i.values=new Array(i.recordCount+1);for(var o=0;o<i.values.length;o++)i.values[o]=0;return i}n.TADataSeries=t}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(Object.defineProperty(i.prototype,"high",{get:function(){return this.multiBars.high},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"low",{get:function(){return this.multiBars.low},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"close",{get:function(){return this.multiBars.close},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"open",{get:function(){return this.multiBars.open},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"volume",{get:function(){return this.multiBars.volume},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"details",{get:function(){return this.multiBars.details},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"input",{get:function(){return this.multiBars.input},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"input2",{get:function(){return this.multiBars.input2},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"median",{get:function(){return this.multiBars.median},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"typical",{get:function(){return this.multiBars.typical},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"weighted",{get:function(){return this.multiBars.weighted},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputs",{get:function(){return this.multiBars.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"multiBars",{get:function(){return this._multiBars},set:function(t){this._multiBars=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentBar",{get:function(){return this._currentBar},set:function(t){this._currentBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isFirstTickOfBar",{get:function(){return this._isFirstTickOfBar},set:function(t){this._isFirstTickOfBar=t},enumerable:!0,configurable:!0}),i.prototype.setupIndicator=function(){this.setConfigure(),this._isInitialized=!0},i.prototype.updateIndicator=function(){if(!this._canUpdate())return!1;var t=null===this.parentDataAggregator||this.parentDataAggregator===this;if(this._isInUpdate=!0,t||this.currentBar===this.parentDataAggregator.currentBar||(this.currentBar=this.parentDataAggregator.currentBar),this.currentBar===this._prevBar?this._isFirstTickOfBar=!1:this._isFirstTickOfBar=!0,this._prevBar=this.currentBar,this.childrenIndicator&&this.childrenIndicator.onBarUpdate(),this.onBarUpdate(),this._isInUpdate=!1,!t&&this.currentBar>=this.parentDataAggregator.currentBar)return!1;this.currentBar++},i.prototype.setDefaults=function(){},i.prototype.setConfigure=function(){},i.prototype.onBarUpdate=function(){},i.prototype.equalInput=function(t){return this.input===t},i.prototype._canUpdate=function(){return!(this._isInUpdate||!this._isInitialized)},i.prototype.getAverage=function(t,e){for(var i=0,o=e-1;0<=o;o--)i+=t.value(o);return i/e},i);function i(){this.parentDataAggregator=null,this._currentBar=0}t.DataAgregator=e}(StockChartX=StockChartX||{}),function(t){var e=(i.prototype.add=function(t){var e=t.name;this._objectsByType.containsKey(e)||this._objectsByType.add(e,this._values),this._values.push(t)},i.prototype.get=function(t,e){var i=this._objectsByType.get(e);if(!Array.isArray(i))return i?t(i)?i:void 0:null;for(var o=0,r=i;o<r.length;o++){var n=r[o];if(e===n.name&&t(n))return n}},i);function i(){this._objectsByType=new t.Dictionary,this._values=[]}t.ObjectCache=e}(StockChartX=StockChartX||{}),function(r){"use strict";var e;(t=e=r.InputSeriesKind||(r.InputSeriesKind={})).close=".close",t.volume=".volume",t.high=".high",t.low=".low",t.open=".open",t.weighted=".weighted",t.median=".median",t.typical=".typical",t.details=".details";var t=(Object.defineProperty(i.prototype,"instrument",{get:function(){return this._instrument},set:function(t){this._instrument=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"timeFrame",{get:function(){return this._timeFrame},set:function(t){this._timeFrame=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"input",{get:function(){return this._input},set:function(t){this._input=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"input2",{get:function(){return this._input2},set:function(t){this._input2=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputs",{get:function(){return this._inputs},set:function(t){this._inputs=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"barsArray",{get:function(){return this._barsArray},set:function(t){this._barsArray=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"high",{get:function(){return this._high},set:function(t){this._high=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"low",{get:function(){return this._low},set:function(t){this._low=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"close",{get:function(){return this._close},set:function(t){this._close=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"open",{get:function(){return this._open},set:function(t){this._open=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"details",{get:function(){return this._details},set:function(t){this._details=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"median",{get:function(){return this._median},set:function(t){this._median=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"typical",{get:function(){return this._typical},set:function(t){this._typical=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"weighted",{get:function(){return this._weighted},set:function(t){this._weighted=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"recordCount",{get:function(){return this._recordCount},set:function(t){this._recordCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),i.prototype._init=function(){if(this._chart){var t=this._chart;if(this._computedDataSeries=new r.ComputedDataSeries(t),this._barsArray=t.barDataSeries(),this._instrument=t.instrument,Array.isArray(this._indicator.inputSeriesKind)){this._inputs=new r.DataSeriesCollection;for(var e=0,i=this._indicator.inputSeriesKind;e<i.length;e++){var o=i[e],o=this._setInput(o);o.dataAgregator=this._indicator,this._inputs.add(o)}}this._input=this._setInput(this._indicator.inputSeriesKind),this._input&&(this._input.dataAgregator=this._indicator),this._input2=this._setInput(this._indicator.inputSeriesKind2),this._input2&&(this._input2.dataAgregator=this._indicator),this._open=this._createOpenTADataSeries(),this._open.dataAgregator=this._indicator,this._high=this._createHighTADataSeries(),this._high.dataAgregator=this._indicator,this._low=this._createLowTADataSeries(),this._low.dataAgregator=this._indicator,this._close=this._createCloseTADataSeries(),this._close.dataAgregator=this._indicator,this._volume=this._createVolumeTADataSeries(),this._volume.dataAgregator=this._indicator,this._details=this._createDetailsTADataSeries(),this._details.dataAgregator=this._indicator,this._median=this._createMedianTADataSeries(),this._median.dataAgregator=this._indicator,this._typical=this._createTypicalTADataSeries(),this._typical.dataAgregator=this._indicator,this._weighted=this._createWeightedTADataSeries(),this._weighted.dataAgregator=this._indicator,this.recordCount=(this._input||this._high).recordCount,this.name=(this._input||this._high).name}},i.prototype._setInput=function(t){switch(t){case e.high:return this._createHighTADataSeries();case e.low:return this._createLowTADataSeries();case e.close:return this._createCloseTADataSeries();case e.open:return this._createOpenTADataSeries();case e.volume:return this._createVolumeTADataSeries();case e.details:return this._createDetailsTADataSeries();case e.weighted:return this._createWeightedTADataSeries();case e.median:return this._createMedianTADataSeries();case e.typical:return this._createTypicalTADataSeries()}},i.prototype._createOpenTADataSeries=function(){return this._createTADataSeries(r.DataSeriesSuffix.OPEN,r.IndicatorDataSeries.OPEN)},i.prototype._createHighTADataSeries=function(){return this._createTADataSeries(r.DataSeriesSuffix.HIGH,r.IndicatorDataSeries.HIGH)},i.prototype._createLowTADataSeries=function(){return this._createTADataSeries(r.DataSeriesSuffix.LOW,r.IndicatorDataSeries.LOW)},i.prototype._createCloseTADataSeries=function(){return this._createTADataSeries(r.DataSeriesSuffix.CLOSE,r.IndicatorDataSeries.CLOSE)},i.prototype._createVolumeTADataSeries=function(){return this._createTADataSeries(r.DataSeriesSuffix.VOLUME,r.IndicatorDataSeries.VOLUME)},i.prototype._createDetailsTADataSeries=function(){return this._createTADataSeries(r.DataSeriesSuffix.DETAILS,r.IndicatorDataSeries.DETAILS)},i.prototype._createMedianTADataSeries=function(){var t=this._computedDataSeries.median;return r.TADataSeries.fromDataSeries(t,r.IndicatorDataSeries.MEDIAN)},i.prototype._createWeightedTADataSeries=function(){var t=this._computedDataSeries.weighted;return r.TADataSeries.fromDataSeries(t,r.IndicatorDataSeries.WEIGHTED)},i.prototype._createTypicalTADataSeries=function(){var t=this._computedDataSeries.typical;return r.TADataSeries.fromDataSeries(t,r.IndicatorDataSeries.TYPICAL)},i.prototype._createTADataSeries=function(t,e){if(!t)return null;if(void 0===e)switch(t){case r.DataSeriesSuffix.OPEN:e=r.IndicatorDataSeries.OPEN;break;case r.DataSeriesSuffix.HIGH:e=r.IndicatorDataSeries.HIGH;break;case r.DataSeriesSuffix.LOW:e=r.IndicatorDataSeries.LOW;break;case r.DataSeriesSuffix.CLOSE:e=r.IndicatorDataSeries.CLOSE;break;case r.DataSeriesSuffix.VOLUME:e=r.IndicatorDataSeries.VOLUME;break;case r.DataSeriesSuffix.DETAILS:e=r.IndicatorDataSeries.DETAILS}t=this._indicator._usePrimaryDataSeries?this._chart.primaryDataSeries(t):this._chart.getDataSeries(t);return r.TADataSeries.fromDataSeries(t,e)},i);function i(t){this._indicator=t,this._chart=t.chart,this._init()}r.MultiBars=t}(StockChartX=StockChartX||{}),function(c){"use strict";var t=(Object.defineProperty(e.prototype,"median",{get:function(){return this._calculateMedian(),this._median},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"typical",{get:function(){return this._calculateTypical(),this._typical},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weighted",{get:function(){return this._calculateWeighted(),this._weighted},enumerable:!0,configurable:!0}),e.prototype._calculateMedian=function(){this._median=new c.DataSeries(c.DataSeriesSuffix.MEDIAN),this._median.clear();for(var t=this._chart.primaryBarDataSeries(),e=t.high.values,i=t.low.values,o=e.length,r=this._median.values,n=0;n<o;n++){var a=(e[n]+i[n])/2;r.push(a)}},e.prototype._calculateTypical=function(){this._typical=new c.DataSeries(c.DataSeriesSuffix.TYPICAL),this._typical.clear();for(var t=this._chart.primaryBarDataSeries(),e=t.high.values,i=t.low.values,o=t.close.values,r=e.length,n=this._typical.values,a=0;a<r;a++){var l=(e[a]+i[a]+o[a])/3;n.push(l)}},e.prototype._calculateWeighted=function(){this._weighted=new c.DataSeries(c.DataSeriesSuffix.WEIGHTED),this._weighted.clear();for(var t=this._chart.primaryBarDataSeries(),e=t.high.values,i=t.low.values,o=t.close.values,r=t.open.values,n=e.length,a=this._weighted.values,l=0;l<n;l++){var s=(e[l]+i[l]+o[l]+r[l])/4;a.push(s)}},e);function e(t){this._chart=t}c.ComputedDataSeries=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){"use strict";var e,t=(e=n.DataAgregator,__extends(i,e),i.prototype.getCachedIndicator=function(t,e){return this._cachedIndicators.get(t,e)},i.prototype.cachedIndicator=function(t,e,i,o,r){return t.chart=this.chart,t.setDefaultSettings(),t.parentDataAggregator=this,e instanceof n.Indicator&&(t.childrenIndicator=e,t.multiBars.input=e.values.get(0)),e instanceof n.TADataSeries&&(t.multiBars.input=e),i&&(t.period=i),o&&(t.smooth=o),r&&(t.limitValue=r),t.setupIndicator(),this._cachedIndicators.add(t),t},i.prototype.SMA=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"SMA"))&&t.setConfigure(),t||this.cachedIndicator(new n.SMA,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"SMA"))&&t.setConfigure(),t||this.cachedIndicator(new n.SMA,e,i)},i.prototype.TMA=function(e,i){var t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"TMA");return t&&t.setConfigure(),t||this.cachedIndicator(new n.TMA,e,i)},i.prototype.TEMA=function(e,i){var t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"TEMA");return t&&t.setConfigure(),t||this.cachedIndicator(new n.TEMA,e,i)},i.prototype.CMO=function(e,i){var t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"CMO");return t&&t.setConfigure(),t||this.cachedIndicator(new n.CMO,e,i)},i.prototype.StdDev=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"StdDev"))&&t.setConfigure(),t||this.cachedIndicator(new n.StdDev,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"StdDev"))&&t.setConfigure(),t||this.cachedIndicator(new n.StdDev,e,i)},i.prototype.EMA=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"EMA"))&&t.setConfigure(),t||this.cachedIndicator(new n.EMA,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"EMA"))&&t.setConfigure(),t||this.cachedIndicator(new n.EMA,e,i)},i.prototype.VMA=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"VMA"))&&t.setConfigure(),t||this.cachedIndicator(new n.VMA,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"VMA"))&&t.setConfigure(),t||this.cachedIndicator(new n.VMA,e,i)},i.prototype.WWS=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"WWS"))&&t.setConfigure(),t||this.cachedIndicator(new n.WWS,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"WWS"))&&t.setConfigure(),t||this.cachedIndicator(new n.WWS,e,i)},i.prototype.SUM=function(e,i){var t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"SUM");return t&&t.setConfigure(),t||this.cachedIndicator(new n.SUM,e,i)},i.prototype.ADX=function(e,i){var t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"ADX");return t&&t.setConfigure(),t||this.cachedIndicator(new n.ADX,e,i)},i.prototype.Range=function(){var e=this,t=this.getCachedIndicator(function(t){return t.equalInput(e.high)},"Range");return t&&t.setConfigure(),t||this.cachedIndicator(new n.Range,this.high,null)},i.prototype.MAX=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"MAX"))&&t.setConfigure(),t||this.cachedIndicator(new n.MAX,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"MAX"))&&t.setConfigure(),t||this.cachedIndicator(new n.MAX,e,i)},i.prototype.MIN=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"MIN"))&&t.setConfigure(),t||this.cachedIndicator(new n.MIN,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"MIN"))&&t.setConfigure(),t||this.cachedIndicator(new n.MIN,e,i)},i.prototype.TrueRange=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"TrueRange"))&&t.setConfigure(),t||this.cachedIndicator(new n.TrueRange,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"TrueRange"))&&t.setConfigure(),t||this.cachedIndicator(new n.TrueRange,e,i)},i.prototype.VIDYA=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"VIDYA"))&&t.setConfigure(),t||this.cachedIndicator(new n.VIDYA,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"VIDYA"))&&t.setConfigure(),t||this.cachedIndicator(new n.VIDYA,e,i)},i.prototype.HML=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"HML"))&&t.setConfigure(),t||this.cachedIndicator(new n.HML,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"HML"))&&t.setConfigure(),t||this.cachedIndicator(new n.HML,e,i)},i.prototype.ROC=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"ROC"))&&t.setConfigure(),t||this.cachedIndicator(new n.ROC,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"ROC"))&&t.setConfigure(),t||this.cachedIndicator(new n.ROC,e,i)},i.prototype.LinearRegression=function(e,i){if(e instanceof n.Indicator){var o=e.values.get(0);return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(o)},"LinearRegression"))&&t.setConfigure(),t||this.cachedIndicator(new n.LinearRegression,e,i)}var t;return(t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"LinearRegression"))&&t.setConfigure(),t||this.cachedIndicator(new n.LinearRegression,e,i)},i.prototype.TSF=function(e,i){var t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"TSF");return t&&t.setConfigure(),t||this.cachedIndicator(new n.TSF,e,i)},i.prototype.RSI=function(e,i,o){var t=this.getCachedIndicator(function(t){return t.period===i&&t.smooth===o&&t.equalInput(e)},"RSI");return t&&t.setConfigure(),t||this.cachedIndicator(new n.RSI,e,i,o)},i.prototype.HMA=function(e,i){var t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"HMA");return t&&t.setConfigure(),t||this.cachedIndicator(new n.HMA,e,i)},i.prototype.WMA=function(e,i){var t=this.getCachedIndicator(function(t){return t.period===i&&t.equalInput(e)},"WMA");return t&&t.setConfigure(),t||this.cachedIndicator(new n.WMA,e,i)},i.prototype.LogChange=function(e){var t=this.getCachedIndicator(function(t){return t.equalInput(e)},"LogChange");return t&&t.setConfigure(),t||this.cachedIndicator(new n.LogChange,e,null)},i.prototype.SwingIndex=function(t){var e=this,i=this.getCachedIndicator(function(t){return t.equalInput(e.high)},"SwingIndex");return i&&i.setConfigure(),i||this.cachedIndicator(new n.SwingIndex,this.high,null,null,t)},i);function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._cachedIndicators=new n.ObjectCache,t}n.CachedIndicator=t}(StockChartX=StockChartX||{});var __extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__awaiter=this&&this.__awaiter||function(n,a,l,s){return new(l=l||Promise)(function(t,e){function i(t){try{r(s.next(t))}catch(t){e(t)}}function o(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new l(function(t){t(e.value)}).then(i,o)}r((s=s.apply(n,a||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(n,e[1])).done)return a;switch(n=0,(e=a?[0,a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,n=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],n=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};!function(c){"use strict";var e;(t=e=c.MovingAverageType||(c.MovingAverageType={}))[t.exponentialMovingAverage=0]="exponentialMovingAverage",t[t.hullMovingAverage=1]="hullMovingAverage",t[t.simpleMovingAverage=2]="simpleMovingAverage",t[t.triangularMovingAverage=3]="triangularMovingAverage",t[t.TEMA=4]="TEMA",t[t.weightedMovingAverage=5]="weightedMovingAverage",t[t.variable=6]="variable",t[t.wws=7]="wws",t[t.vidya=8]="vidya";var i,t=(i=c.CachedIndicator,__extends(o,i),Object.defineProperty(o.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"indicatorTheme",{get:function(){return this.chart.theme.plot.indicator},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"levelsTheme",{get:function(){return this.chart.theme.plot.indicator.levels},enumerable:!0,configurable:!0}),o.prototype.hasParameter=function(t){return void 0!==this._options.parameters[t]},o.prototype.getParameterValue=function(t){return this._options.parameters||(this._options.parameters={}),this._options.parameters[t]},o.prototype.setParameterValue=function(t,e){this._options.parameters||(this._options.parameters={}),this._options.parameters[t]=e},o.prototype._addLineParameters=function(t,e,i,o){this._options.parameters||(this._options.parameters={});var r=this._options.parameters,n=this._getLineParametersKeys(t);return r[n[0]]=this.getParameterValue(n[0])||e,r[n[1]]=this.getParameterValue(n[1])||i||1,r[n[2]]=this.getParameterValue(n[2])||o||c.LineStyle.SOLID,r[n[3]]=null==this.getParameterValue(n[3])||this.getParameterValue(n[3]),function(){n.forEach(function(t){delete r[t]})}},o.prototype._getLineParametersKeys=function(t){switch(t){case 0:return[c.IndicatorParam.LINE_COLOR,c.IndicatorParam.LINE_WIDTH,c.IndicatorParam.LINE_STYLE,c.IndicatorParam.LINE_ENABLED];case 1:return[c.IndicatorParam.LINE2_COLOR,c.IndicatorParam.LINE2_WIDTH,c.IndicatorParam.LINE2_STYLE,c.IndicatorParam.LINE2_ENABLED];case 2:return[c.IndicatorParam.LINE3_COLOR,c.IndicatorParam.LINE3_WIDTH,c.IndicatorParam.LINE3_STYLE,c.IndicatorParam.LINE3_ENABLED];case 3:return[c.IndicatorParam.LINE4_COLOR,c.IndicatorParam.LINE4_WIDTH,c.IndicatorParam.LINE4_STYLE,c.IndicatorParam.LINE4_ENABLED];case 4:return[c.IndicatorParam.LINE5_COLOR,c.IndicatorParam.LINE5_WIDTH,c.IndicatorParam.LINE5_STYLE,c.IndicatorParam.LINE5_ENABLED]}},o.prototype._lineTheme=function(t){var e,i,o,r,n,a,l,s;switch(t){case 0:e=c.IndicatorParam.LINE_COLOR,i=c.IndicatorParam.LINE_WIDTH,o=c.IndicatorParam.LINE_STYLE,r=c.IndicatorParam.LINE_ENABLED,n=this.getParameterValue(e)||this.indicatorTheme&&this.indicatorTheme.line1.strokeColor,a=this.getParameterValue(i)||this.indicatorTheme&&this.indicatorTheme.line1.width,s=this.getParameterValue(o)||this.indicatorTheme&&this.indicatorTheme.line1.lineStyle,l=this.getParameterValue(r);break;case 1:e=c.IndicatorParam.LINE2_COLOR,i=c.IndicatorParam.LINE2_WIDTH,o=c.IndicatorParam.LINE2_STYLE,r=c.IndicatorParam.LINE2_ENABLED,n=this.getParameterValue(e)||this.indicatorTheme&&this.indicatorTheme.line2.strokeColor,a=this.getParameterValue(i)||this.indicatorTheme&&this.indicatorTheme.line2.width,s=this.getParameterValue(o)||this.indicatorTheme&&this.indicatorTheme.line2.lineStyle,l=this.getParameterValue(r);break;case 2:e=c.IndicatorParam.LINE3_COLOR,i=c.IndicatorParam.LINE3_WIDTH,o=c.IndicatorParam.LINE3_STYLE,r=c.IndicatorParam.LINE3_ENABLED,n=this.getParameterValue(e)||this.indicatorTheme&&this.indicatorTheme.line3.strokeColor,a=this.getParameterValue(i)||this.indicatorTheme&&this.indicatorTheme.line3.width,s=this.getParameterValue(o)||this.indicatorTheme&&this.indicatorTheme.line3.lineStyle,l=this.getParameterValue(r);break;case 3:e=c.IndicatorParam.LINE4_COLOR,i=c.IndicatorParam.LINE4_WIDTH,o=c.IndicatorParam.LINE4_STYLE,r=c.IndicatorParam.LINE4_ENABLED,n=this.getParameterValue(e)||this.indicatorTheme&&this.indicatorTheme.line4.strokeColor,a=this.getParameterValue(i)||this.indicatorTheme&&this.indicatorTheme.line4.width,s=this.getParameterValue(o)||this.indicatorTheme&&this.indicatorTheme.line4.lineStyle,l=this.getParameterValue(r);break;case 4:e=c.IndicatorParam.LINE5_COLOR,i=c.IndicatorParam.LINE5_WIDTH,o=c.IndicatorParam.LINE5_STYLE,r=c.IndicatorParam.LINE5_ENABLED,n=this.getParameterValue(e)||this.indicatorTheme&&this.indicatorTheme.line5.strokeColor,a=this.getParameterValue(i)||this.indicatorTheme&&this.indicatorTheme.line5.width,s=this.getParameterValue(o)||this.indicatorTheme&&this.indicatorTheme.line5.lineStyle,l=this.getParameterValue(r);break;default:return null}t=this.chart.theme.chart.background;return t.some(c.HtmlUtil.isDarkColor)?"#505050"===n&&(n="white"):t.some(c.HtmlUtil.isDarkColor)||"white"===n&&(n="#505050"),{strokeEnabled:l,width:a,strokeColor:n,lineStyle:s}},o.prototype._addFillParameters=function(t,e){this._options.parameters||(this._options.parameters={});var i=this._options.parameters;i[c.IndicatorParam.FILL_ABOVE]=this.getParameterValue(c.IndicatorParam.FILL_ABOVE)||t||"rgba(24, 172, 8, 0.5)",i[c.IndicatorParam.FILL_BELOW]=this.getParameterValue(c.IndicatorParam.FILL_BELOW)||e||"rgba(255, 0, 0, 0.5)",i[c.IndicatorParam.FILL_ENABLED]=null==this.getParameterValue(c.IndicatorParam.FILL_ENABLED)||this.getParameterValue(c.IndicatorParam.FILL_ENABLED)},o.prototype._addLabelParameters=function(t,e){this._options.parameters||(this._options.parameters={});var i=this._options.parameters;0===t&&(i[c.IndicatorParam.LABEL_COLOR]=this.getParameterValue(c.IndicatorParam.LABEL_COLOR)||e,i[c.IndicatorParam.LABEL_ENABLED]=null==this.getParameterValue(c.IndicatorParam.LABEL_ENABLED)||this.getParameterValue(c.IndicatorParam.LABEL_ENABLED)),1===t&&(i[c.IndicatorParam.LABEL2_COLOR]=this.getParameterValue(c.IndicatorParam.LABEL2_COLOR)||e,i[c.IndicatorParam.LABEL2_ENABLED]=null==this.getParameterValue(c.IndicatorParam.LABEL2_ENABLED)||this.getParameterValue(c.IndicatorParam.LABEL2_ENABLED)),2===t&&(i[c.IndicatorParam.LABEL3_COLOR]=this.getParameterValue(c.IndicatorParam.LABEL3_COLOR)||e,i[c.IndicatorParam.LABEL3_ENABLED]=null==this.getParameterValue(c.IndicatorParam.LABEL3_ENABLED)||this.getParameterValue(c.IndicatorParam.LABEL3_ENABLED)),3===t&&(i[c.IndicatorParam.LABEL4_COLOR]=this.getParameterValue(c.IndicatorParam.LABEL4_COLOR)||e,i[c.IndicatorParam.LABEL4_ENABLED]=null==this.getParameterValue(c.IndicatorParam.LABEL4_ENABLED)||this.getParameterValue(c.IndicatorParam.LABEL4_ENABLED))},o.prototype.shiftInToThePast=function(t,e){if(t.values.length<=e)return t;for(var i=0;i<e;i++)t.add(null);var o=new c.DataSeries(t.name),r=t.values;return r.splice(0,e),o.add(r),o},o.prototype.shiftInToTheFuture=function(t,e){for(var i=new c.DataSeries(t.name),o=0;o<=t.length+e;o++)o<e?i.add(null):i.add(t.values[o-e]);return i},o.prototype._dataSeriesPeriod=function(t){if(!this.period)return t;for(var e=0;e<this.period;e++)t.value(e,null);return t},o.prototype._setTitle=function(i,o){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,c.Localization.localizeText(this.chart,"indicator."+i+".shortName",{defaultValue:i})];case 1:return e=t.sent(),o.text(e),[2]}})})},o.prototype._setlocalizedAtribute=function(i,o){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,c.Localization.localizeText(this.chart,o)];case 1:return e=t.sent(),i.attr("title",e),[2]}})})},o.prototype._getMaTypeString=function(t){switch(t){case e.simpleMovingAverage:return"Simple";case e.exponentialMovingAverage:return"Exponential";case e.triangularMovingAverage:return"Triangular";case e.hullMovingAverage:return"Hull";case e.TEMA:return"TEMA";case e.weightedMovingAverage:return"Weighted";case e.variable:return"Variable";case e.wws:return"Wws";case e.vidya:return"Vidya";default:return""}},o.prototype._titleParameters=function(){var i=this,o=[];return Object.keys(this._options.parameters).map(function(t){var e;(-1===t.indexOf("Line")&&-1===t.indexOf(c.IndicatorParam.FILL_BELOW)&&-1===t.indexOf(c.IndicatorParam.FILL_ABOVE)&&-1===t.indexOf(c.IndicatorParam.FILL_ENABLED)&&t!==c.IndicatorParam.DISPLACEMENT||t===c.IndicatorParam.CONVERSION_PERIODS||t===c.IndicatorParam.BASE_PERIODS)&&(t===c.IndicatorParam.MA_TYPE?(e=i._getMaTypeString(i._options.parameters[t]),o.push(e)):t===c.IndicatorParam.SOURCE?o.push(i.input.name):t===c.IndicatorParam.SOURCE2?o.push(i.input2.name):o.push(i._options.parameters[t]))}),0<o.length&&(this.indicatorHasParameters=!0),o},o.allIndicators=function(){var e=[];return Object.keys(c.Indicator.registeredIndicators).map(function(t){e.push(c.Indicator.registeredIndicators[t].className)}),e||[]},o);function o(){var t=null!==i&&i.apply(this,arguments)||this;return t._options={},t.indicatorHasParameters=!1,t}c.IndicatorBase=t}(StockChartX=StockChartX||{}),function(o){var t=(Object.defineProperty(e.prototype,"dataSeriesArray",{get:function(){return this._dataSeriesArray},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"recordCount",{get:function(){return this.get(0).recordCount},enumerable:!0,configurable:!0}),e.prototype.addNew=function(t,e){t=new o.TADataSeries(t);return this.add(t),t},e.prototype.add=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];o.JsUtil.flattenedArray(t,function(t){e._dataSeriesArray.push(t)})},e.prototype.indexOf=function(t){for(var e=0;e<this._dataSeriesArray.length;e++)if(this._dataSeriesArray[e].name===t)return e;return-1},e.prototype.rename=function(t,e){t=this.indexOf(t);-1!==t&&(this._dataSeriesArray[t].name=e)},e.prototype.remove=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];o.JsUtil.flattenedArray(t,function(t){t=e.indexOf(t);-1!==t&&e._dataSeriesArray.splice(t,1)})},e.prototype.clear=function(){this._dataSeriesArray=[]},e.prototype.get=function(t){if("string"!=typeof t)return-1!==(e=t)&&e<this._dataSeriesArray.length?this._dataSeriesArray[e]:new o.TADataSeries;var e,t=t;return-1!==(e=this.indexOf(t))?this._dataSeriesArray[e]:new o.TADataSeries(t)},e.prototype.copy=function(t,e){e=this.indexOf(e);if(-1!==e)for(var i=this._dataSeriesArray[e],o=i.recordCount,r=1;r<o+1;r++)t.valueAtIndex(r,i.value(r))},e);function e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this;this._dataSeriesArray=[],t&&0!==t.length&&o.JsUtil.flattenedArray(t,function(t){if(!(t instanceof o.TADataSeries))throw new TypeError("DataSeries is not an instance of StockChartX.TADataSeries.");i.add(t)})}o.DataSeriesCollection=t}(StockChartX=StockChartX||{}),function(){"use strict";var t=/\s*[,;]\s*/,t=("INSERT MODULUS CLIENT ID HERE".split(t),"INSERT DOMAIN NAME HERE".split(t),"INSERT VR CODE HERE".split(t),"".split(t).filter(function(t){return t.indexOf("INSERT TRUSTED DOMAINS")<0}));[].concat(t)}(StockChartX=StockChartX||{}),function(t){"use strict";var e;(n=e=t.Browser||(t.Browser={}))[n.UNKNOWN=0]="UNKNOWN",n[n.ie=1]="ie",n[n.firefox=2]="firefox",n[n.opera=3]="opera",n[n.konqueror=4]="konqueror",n[n.iron=5]="iron",n[n.safari=6]="safari",n[n.chrome=7]="chrome",n[n.edge=8]="edge";var i="",o="view/",r="locales/",n=(Object.defineProperty(a.prototype,"root",{get:function(){return this._root||i},set:function(t){this._root=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"view",{get:function(){return this._view||this.root+o},set:function(t){this._view=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"locales",{get:function(){return this._locales||this.root+r},set:function(t){this._locales=t},enumerable:!0,configurable:!0}),a);function a(){}t.Environment={isMobile:!1,isPhone:!1,isIOS:!1,isAndroid:!1,osVersion:"0",browser:e.UNKNOWN,browserVersion:"0",Path:new n},function(){switch(Detectizr.detect({detectDeviceMode:!1,detectScreen:!1,detectOS:!0,detectBrowser:!0,detectPlugins:!1}),Detectizr.os.name){case"ios":t.Environment.isIOS=!0;break;case"android":t.Environment.isAndroid=!0}switch(t.Environment.osVersion=Detectizr.os.major+"."+Detectizr.os.minor,t.Environment.browserVersion=Detectizr.browser.major,Detectizr.browser.name){case"ie":t.Environment.browser=e.ie;break;case"firefox":t.Environment.browser=e.firefox;break;case"opera":t.Environment.browser=e.opera;break;case"konqueror":t.Environment.browser=e.konqueror;break;case"iron":t.Environment.browser=e.iron;break;case"safari":t.Environment.browser=e.safari;break;case"chrome":t.Environment.browser=e.chrome;break;case"edge":t.Environment.browser=e.edge}switch(Detectizr.device.type){case"mobile":t.Environment.isPhone=!0;break;case"tablet":t.Environment.isMobile=!0;break;default:t.Environment.isMobile=!1}}(),Object.freeze(t.Environment)}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(Object.defineProperty(i.prototype,"count",{get:function(){return this._length},enumerable:!0,configurable:!0}),i.prototype.add=function(t,e){if(this.containsKey(t))throw new Error("An item with the same key already exists.");this._dict[t]=e,this._length++},i.prototype.remove=function(t){return!!this.containsKey(t)&&(delete this._dict[t],this._length--,!0)},i.prototype.clear=function(){this._length=0,this._dict={}},i.prototype.containsKey=function(t){return void 0!==this._dict[t]},i.prototype.get=function(t){return this.containsKey(t)?this._dict[t]:null},i);function i(t){if(this._length=0,this._dict={},t)if(Array.isArray(t))for(var e=0,i=t;e<i.length;e++){var o=i[e];this.add(o.key,o.value)}else this.add(t.key,t.value)}t.Dictionary=e}(StockChartX=(StockChartX=StockChartX||{})||{});var __decorate=this&&this.__decorate||function(t,e,i,o){var r,n=arguments.length,a=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var l=t.length-1;0<=l;l--)(r=t[l])&&(a=(n<3?r(a):3<n?r(e,i,a):r(e,i))||a);return 3<n&&a&&Object.defineProperty(e,i,a),a},__awaiter=this&&this.__awaiter||function(n,a,l,s){return new(l=l||Promise)(function(t,e){function i(t){try{r(s.next(t))}catch(t){e(t)}}function o(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new l(function(t){t(e.value)}).then(i,o)}r((s=s.apply(n,a||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(n,e[1])).done)return a;switch(n=0,(e=a?[0,a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,n=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],n=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};!function(t){"use strict";var e=(i.ensureLocalStorageAvailable=function(t,e,i){var o=i.value;return i.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!localStorage)throw new Error("Local storage is not available.");return o.apply(this,t)},i},i.prototype.save=function(e,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return localStorage.setItem(e,i),[2]})})},i.prototype.load=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,localStorage.getItem(e)]})})},i.prototype.clear=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return e?localStorage.removeItem(e):localStorage.clear(),[2]})})},__decorate([i.ensureLocalStorageAvailable],i.prototype,"save",null),__decorate([i.ensureLocalStorageAvailable],i.prototype,"load",null),__decorate([i.ensureLocalStorageAvailable],i.prototype,"clear",null),i);function i(){}t.LocalDataStore=e}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(Object.defineProperty(i.prototype,"registeredItems",{get:function(){return this._constructors},enumerable:!0,configurable:!0}),i.prototype.register=function(t,e){if(!t)throw new Error("Class name is not specified.");if(!e)throw new Error("Constructor is not specified.");if(this._constructors[t])throw new Error("'"+t+"' already registered.");this._constructors[t]=e},i.prototype.resolve=function(t){if(!t)throw new Error("Class name is not specified.");return this._constructors[t]},i.prototype.createInstance=function(t){var e=this.resolve(t);if(!e)throw new Error("'"+t+"' is not registered.");return new e},i);function i(){this._constructors={}}t.ClassRegistrar=e}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(l.isNumber=function(t){return"number"==typeof t},l.isFiniteNumber=function(t){return this.isNumber(t)&&isFinite(t)},l.isFiniteNumberOrNaN=function(t){return this.isNumber(t)&&(isFinite(t)||isNaN(t))},l.isPositiveNumber=function(t){return this.isFiniteNumber(t)&&0<t},l.isNegativeNumber=function(t){return this.isFiniteNumber(t)&&t<0},l.isPositiveNumberOrNaN=function(t){return this.isNumber(t)&&(isNaN(t)||0<t&&isFinite(t))},l.isFunction=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},l.isObject=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},l.shallowClone=function(t){return jQuery.extend(!0,{},t)},l.clone=function(t){var e,i=jQuery.extend(!0,{},t);for(e in i)if(i.hasOwnProperty(e)){var o=i[e];if(Array.isArray(o))for(var r=0,n=o.length;r<n;r++)"object"==typeof o[r]&&(o[r]=this.clone(o[r]))}return i},l.merge=function(t,e,i){null==t&&(t={}),null==e&&(e={});var o,r,n,a=(i=void 0===i?!0:i)?jQuery.extend(!0,{},t,e):t;for(o in a)a.hasOwnProperty(o)&&e.hasOwnProperty(o)&&(r=a[o],n=e[o],Array.isArray(r)?a[o]=n:l.isObject(r)&&(a[o]=l.merge(r,n,!1)));return a},l.extend=function(t,e){function i(){}var o,r=t.prototype;for(o in i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,r)t.prototype[o]=r[o]},l.applyMixins=function(i,t){t.forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(t){Object.getOwnPropertyDescriptor(e,t).enumerable&&"constructor"!==t&&(i[t]=e[t])}),Object.getOwnPropertyNames(e.prototype).forEach(function(t){"constructor"!==t&&(i.prototype[t]=e.prototype[t])})})},l.padStr=function(t,e){for(var i=e.width-t.length,o=0;o<i;o++)t=e.alignLeft?""+t+e.padding:""+e.padding+t;return t},l.filterText=function(t){return $("<div></div>").text(t).html().trim()},l.flattenArray=function(t){var i=this;return t.reduce(function(t,e){return Array.isArray(e)?t.concat(i.flattenArray(e)):t.concat(e)},[])},l.flattenedArray=function(t,e){if(Array.isArray(t))for(var i=0,o=t;i<o.length;i++){var r=o[i];this.flattenedArray(r,e)}else e(t)},l.sort=function(t,e){for(var i=!0,o=0,r=t.length;i;){i=!1,o++;for(var n=0;n<r-o;n++){var a=t[n],l=t[n+1];0<e(a,l)&&(t[n]=l,t[n+1]=a,i=!0)}}},l.binarySearch=function(t,e){var i=t;if(0===i.length)return-1;for(var o=0,r=i.length-1;o<=r;){var n=(o+r)/2|0,a=i[n];if(a<e)o=1+n;else{if(!(e<a))return n;r=n-1}}return i[r]<e?~o:~Math.max(r,0)},l.log=function(t){return Math.log(t)},l.approxCompare=function(t,e){return Math.abs(t-e)<2220446049250313e-31?0:e<t?1:-1},l.equals=function(t,e){return Math.abs(t-e)<1e-10},l.calculateDigitsOnTickSize=function(t){if(.9999999999999998<=t)return 0;for(var e=0;t*=10,++e,1e-8<Math.abs(this.truncateEx(t)-t););return e=Math.min(e,15)},l.truncateEx=function(t){var e=Math.trunc(t),i=Math.ceil(e+1);return Math.abs(t-i)<1e-8?i:e},l.debug=function(t){var e=new URL(window.location.href).searchParams.get("debug");return!!e&&e.split(",").includes(t)},l);function l(){}t.JsUtil=e,Math.roundToDecimals=function(t,e){return Number(Math.round(t+"E"+e).toString()+"E-"+e)},Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)})}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(i.mixColors=function(t,e,i){void 0===i&&(i=.5);for(var o="#",r=0;r<3;r++){var n=t.substring(1+2*r,3+2*r),a=e.substring(1+2*r,3+2*r),n=parseInt(n,16),a=parseInt(a,16);o+=("0"+Math.floor(n*(1-i)+a*i).toString(16)).slice(-2)}return o},i.hexToRgba=function(t,e){void 0===e&&(e=1);t=t.match(/\w\w/g).map(function(t){return parseInt(t,16)});return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"},i);function i(){}t.ColorUtil=e}(StockChartX=StockChartX||{}),function(i){"use strict";i.TimeSpan={MILLISECONDS_IN_YEAR:31556926e3,MILLISECONDS_IN_MONTH:2629743830,MILLISECONDS_IN_WEEK:6048e5,MILLISECONDS_IN_DAY:864e5,MILLISECONDS_IN_HOUR:36e5,MILLISECONDS_IN_MINUTE:6e4,MILLISECONDS_IN_SECOND:1e3},Object.freeze(i.TimeSpan),i.Periodicity={TICK:"t",RENKO:"r",VOLUME:"v",RANGE:"range",REVS:"revs",SECOND:"s",MINUTE:"",HOUR:"h",DAY:"d",WEEK:"w",MONTH:"m",YEAR:"y"},Object.freeze(i.Periodicity);var t=(e.prototype.toString=function(){return this.interval+" "+e.periodicityToString(this.periodicity)},e.periodicityToString=function(t){switch(t){case i.Periodicity.TICK:return"tick";case i.Periodicity.RANGE:return"range";case i.Periodicity.VOLUME:return"volume";case i.Periodicity.RENKO:return"renko";case i.Periodicity.REVS:return"revs";case i.Periodicity.SECOND:return"second";case i.Periodicity.MINUTE:return"minute";case i.Periodicity.HOUR:return"hour";case i.Periodicity.DAY:return"day";case i.Periodicity.WEEK:return"week";case i.Periodicity.MONTH:return"month";case i.Periodicity.YEAR:return"year";default:throw new Error("Unsupported periodicity: "+t)}},e.periodicityToShortString=function(t){switch(t){case i.Periodicity.TICK:return"tick";case i.Periodicity.SECOND:return"sec";case i.Periodicity.MINUTE:return"min";case i.Periodicity.HOUR:return"hr";case i.Periodicity.DAY:return"day";case i.Periodicity.WEEK:return"wk";case i.Periodicity.MONTH:return"mo";case i.Periodicity.YEAR:return"yr";default:throw new Error("Unsupported periodicity: "+t)}},e.timeFrameToTimeInterval=function(t){switch(t.periodicity){case i.Periodicity.TICK:case i.Periodicity.REVS:case i.Periodicity.RANGE:case i.Periodicity.VOLUME:case i.Periodicity.RENKO:return t.interval;case i.Periodicity.SECOND:return t.interval*i.TimeSpan.MILLISECONDS_IN_SECOND;case i.Periodicity.MINUTE:return t.interval*i.TimeSpan.MILLISECONDS_IN_MINUTE;case i.Periodicity.HOUR:return t.interval*i.TimeSpan.MILLISECONDS_IN_HOUR;case i.Periodicity.DAY:return t.interval*i.TimeSpan.MILLISECONDS_IN_DAY;case i.Periodicity.WEEK:return t.interval*i.TimeSpan.MILLISECONDS_IN_WEEK;case i.Periodicity.MONTH:return t.interval*i.TimeSpan.MILLISECONDS_IN_MONTH;case i.Periodicity.YEAR:return t.interval*i.TimeSpan.MILLISECONDS_IN_YEAR;default:return 0}},e.timeIntervalToTimeFrame=function(t){if(t>=i.TimeSpan.MILLISECONDS_IN_YEAR)return new e(i.Periodicity.YEAR,t/i.TimeSpan.MILLISECONDS_IN_YEAR);if(t>=i.TimeSpan.MILLISECONDS_IN_MONTH)return new e(i.Periodicity.MONTH,t/i.TimeSpan.MILLISECONDS_IN_MONTH);if(t>=i.TimeSpan.MILLISECONDS_IN_WEEK&&t%i.TimeSpan.MILLISECONDS_IN_WEEK==0)return new e(i.Periodicity.WEEK,t/i.TimeSpan.MILLISECONDS_IN_WEEK);if(t>=i.TimeSpan.MILLISECONDS_IN_DAY)return new e(i.Periodicity.DAY,t/i.TimeSpan.MILLISECONDS_IN_DAY);if(t>=i.TimeSpan.MILLISECONDS_IN_HOUR)return new e(i.Periodicity.HOUR,t/i.TimeSpan.MILLISECONDS_IN_HOUR);if(t>=i.TimeSpan.MILLISECONDS_IN_MINUTE)return new e(i.Periodicity.MINUTE,t/i.TimeSpan.MILLISECONDS_IN_MINUTE);if(t>=i.TimeSpan.MILLISECONDS_IN_SECOND)return new e(i.Periodicity.SECOND,t/i.TimeSpan.MILLISECONDS_IN_SECOND);throw new Error("Unsupported time interval: "+t)},e);function e(t,e){this.periodicity=t||i.Periodicity.MINUTE,this.interval=i.JsUtil.isFiniteNumber(e)?e:1}i.TimeFrame=t}(StockChartX=(StockChartX=StockChartX||{})||{}),function(t){"use strict";var e=(Object.defineProperty(i,"registeredFormatters",{get:function(){return this._registrar.registeredItems},enumerable:!0,configurable:!0}),i.register=function(t,e){"string"==typeof t?this._registrar.register(t,e):this._registrar.register(t.className,t)},i.deserialize=function(t){if(!t)return null;var e=this._registrar.createInstance(t.className);return e.loadState(t),e},i._registrar=new t.ClassRegistrar,i);function i(){}var o=(Object.defineProperty(r,"className",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale!==t&&(this._locale=t,this._onLocaleChanged&&this._onLocaleChanged())},enumerable:!0,configurable:!0}),r.prototype.saveState=function(){return{className:this.constructor.className,locale:this.locale}},r.prototype.loadState=function(t){this._locale=t&&t.locale},r);function r(t){this._locale=t}t.NumberFormat=o,t.JsUtil.applyMixins(o,[e])}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var o,t=(o=i.NumberFormat,__extends(e,o),Object.defineProperty(e,"className",{get:function(){return"StockChartX.IntlNumberFormat"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._numberFormat.resolvedOptions()},set:function(t){this._createFormat(t)},enumerable:!0,configurable:!0}),e.prototype._onLocaleChanged=function(){this._createFormat()},e.prototype._createFormat=function(t){var e=this.locale||"en";t=t||this._numberFormat&&this._numberFormat.resolvedOptions(),this._numberFormat=new Intl.NumberFormat(e,t||void 0)},e.prototype.format=function(t){return this._numberFormat.format(t)},e.prototype.setDecimalDigits=function(t){if(i.JsUtil.isNegativeNumber(t))throw new Error("Value must be greater or equal to zero.");var e=this._numberFormat.resolvedOptions();e.minimumFractionDigits=e.maximumFractionDigits=t,this._createFormat(e)},e.prototype.saveState=function(){var t=o.prototype.saveState.call(this);return t.options=i.JsUtil.clone(this.options),t},e.prototype.loadState=function(t){o.prototype.loadState.call(this,t),this._createFormat(t&&t.options)},e);function e(t,e){t=o.call(this,t)||this;return t._createFormat(e),t}i.IntlNumberFormat=t,i.NumberFormat.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(l){"use strict";var i,t=(i=l.NumberFormat,__extends(e,i),Object.defineProperty(e,"className",{get:function(){return"StockChartX.CustomNumberFormat"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatString",{get:function(){return this._formatString},set:function(t){this._formatString=t,this._parseFormat()},enumerable:!0,configurable:!0}),e.prototype._parseFormat=function(){var t=this.formatString;if(!t||"string"!=typeof t)throw new TypeError("Format specifier must be a string.");t=/%(\+)?([0 ]|'(.))?(-)?([0-9]+)?(\.([0-9]+))?([bcdfoxXeEgG])/g.exec(t);this._options={sign:"+"===t[1],padding:null==t[2]?" ":"'"===t[2].substring(0,1)?t[3]:t[2],alignLeft:"-"===t[4],width:null!=t[5]&&t[5],precision:null!=t[7]&&t[7],type:t[8]}},e.prototype.format=function(t){var e=Number(t),i=this._options,o="";switch(i.type){case"b":o=e.toString(2);break;case"c":o=String.fromCharCode(e);break;case"d":o=parseInt(e,10).toString();break;case"f":o=!1===i.precision?t.toString():e.toFixed(i.precision);break;case"o":o=e.toString(8);break;case"x":o=e.toString(16).toLowerCase();break;case"X":o=e.toString(16).toUpperCase();break;case"e":case"E":o=!1===i.precision?e.toExponential():e.toExponential(i.precision),o="e"===i.type?o.toLowerCase():o.toUpperCase();break;case"g":case"G":var r=!1===i.precision?t.toString():e.toFixed(i.precision),n=!1===i.precision?e.toExponential():e.toExponential(i.precision),o=r.length<n.length?r:n;o="g"===i.type?o.toLowerCase():o.toUpperCase();break;default:throw new Error('Unknown value type "'+i.type+'" detected.')}var a=!1!==i.width&&i.width>o.length;switch(a&&!i.alignLeft&&" "!==i.padding&&(o=l.JsUtil.padStr(o,i),a=!1),i.type){case"d":case"f":case"e":case"E":case"g":case"G":t<0?"-"!==o[0]&&(o="-"+o):i.sign&&(o="+"+o)}return o=a?l.JsUtil.padStr(o,i):o},e.prototype.saveState=function(){var t=i.prototype.saveState.call(this);return t.formatString=this.formatString,t},e.prototype.loadState=function(t){i.prototype.loadState.call(this,t),this.formatString=t&&t.formatString},e);function e(t){var e=i.call(this)||this;return e.formatString=t||"%f",e}l.CustomNumberFormat=t,l.NumberFormat.register(t)}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(Object.defineProperty(i,"registeredFormatters",{get:function(){return this._formatters.registeredItems},enumerable:!0,configurable:!0}),i.register=function(t,e){"string"==typeof t?this._formatters.register(t,e):this._formatters.register(t.className,t)},i.deserialize=function(t){if(!t)return null;var e=this._formatters.createInstance(t.className);return e.loadState(t),e},i._formatters=new t.ClassRegistrar,i);function i(){}var o=(Object.defineProperty(r,"className",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale!==t&&(this._locale=t,this._onLocaleChanged&&this._onLocaleChanged())},enumerable:!0,configurable:!0}),r.prototype.saveState=function(){return{className:this.constructor.className,locale:this.locale}},r.prototype.loadState=function(t){this.locale=t.locale},r);function r(){}t.DateTimeFormat=o,t.JsUtil.applyMixins(o,[e])}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var i,e=(i=t.DateTimeFormat,__extends(o,i),Object.defineProperty(o,"className",{get:function(){return"StockChartX.CustomDateTimeFormat"},enumerable:!0,configurable:!0}),o.prototype.format=function(t,e){if("none"===(e=e||this.formatString))return"";t=moment(t);return moment.locale(this.locale),t.format(e)},o.prototype.saveState=function(){var t=i.prototype.saveState.call(this);return t.formatString=this.formatString,t},o.prototype.loadState=function(t){i.prototype.loadState.call(this,t),this.formatString=t.formatString},o);function o(t){var e=i.call(this)||this;return e.formatString=null,e.formatString=t,e}t.CustomDateTimeFormat=e,t.DateTimeFormat.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(o){"use strict";o.DateTimeFormatName={YEAR_MONTH:"year-month",MONTH_DAY:"month-day",DATE:"date",SHORT_DATE_TIME:"short_date_time",LONG_DATE_TIME:"long_date_time",SHORT_TIME:"short_time",LONG_TIME:"long_time"};var i,t=(i=o.DateTimeFormat,__extends(e,i),Object.defineProperty(e,"className",{get:function(){return"StockChartX.TimeIntervalDateTimeFormat"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeInterval",{get:function(){return this._timeInterval},set:function(t){if(!o.JsUtil.isPositiveNumber(t))throw new Error("Time interval must be a positive number.");this._timeInterval=t},enumerable:!0,configurable:!0}),e.prototype._onLocaleChanged=function(){this._clearFormatters()},e.prototype._clearFormatters=function(){this._formatters={}},e.prototype._createFormatter=function(t){var e=this.locale||"en";return new IntlPolyfill.DateTimeFormat(e,t)},e.prototype.format=function(t){var e=this._timeInterval;if(e>=o.TimeSpan.MILLISECONDS_IN_YEAR)return t.getFullYear().toString();var i=o.DateTimeFormatName;return(e>=o.TimeSpan.MILLISECONDS_IN_MONTH?this.formatter(i.YEAR_MONTH):e>=o.TimeSpan.MILLISECONDS_IN_DAY?this.formatter(i.DATE):e>=o.TimeSpan.MILLISECONDS_IN_MINUTE||e>=o.TimeSpan.MILLISECONDS_IN_SECOND?this.formatter(i.SHORT_DATE_TIME):this.formatter(i.LONG_DATE_TIME)).format(t)},e.prototype.formatWithFormatter=function(t,e){return this.formatter(e).format(t)},e.prototype.formatter=function(t){var e=this._formatters[t];if(e)return e;var i=o.DateTimeFormatName;switch(t){case i.YEAR_MONTH:e=this._createFormatter({year:"numeric",month:"short"});break;case i.MONTH_DAY:e=this._createFormatter({month:"short",day:"2-digit"});break;case i.DATE:e=this._createFormatter({year:"numeric",month:"short",day:"2-digit"});break;case i.SHORT_DATE_TIME:e=this._createFormatter({year:"numeric",month:"short",day:"2-digit",hour:"2-digit",hour12:!1,minute:"2-digit"});break;case i.LONG_DATE_TIME:e=this._createFormatter({year:"numeric",month:"short",day:"2-digit",hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"});break;case i.SHORT_TIME:e=this._createFormatter({hour:"2-digit",hour12:!1,minute:"2-digit"});break;case i.LONG_TIME:e=this._createFormatter({hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"});break;default:throw new Error("Unknown formatter name: "+t)}return this._formatters[t]=e},e.prototype.saveState=function(){var t=i.prototype.saveState.call(this);return t.timeInterval=this.timeInterval,t},e.prototype.loadState=function(t){i.prototype.loadState.call(this,t),this._timeInterval=t&&t.timeInterval},e);function e(t){var e=i.call(this)||this;return e._formatters={},e._timeInterval=t,e}o.TimeIntervalDateTimeFormat=t,o.DateTimeFormat.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var o,t=(o=i.DateTimeFormat,__extends(e,o),Object.defineProperty(e,"className",{get:function(){return"StockChartX.CustomTimeIntervalDateTimeFormat"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeInterval",{get:function(){return this._timeInterval},set:function(t){if(!i.JsUtil.isPositiveNumber(t))throw new Error("Time interval must be a positive number.");this._timeInterval=t},enumerable:!0,configurable:!0}),e.prototype._onLocaleChanged=function(){this._formatter.locale=this.locale||"en"},e.prototype.format=function(t){return this._formatter.formatString=this._findFormat(),this._formatter.format(t)},e.prototype._findFormat=function(){var t=this._timeInterval;return t>=i.TimeSpan.MILLISECONDS_IN_YEAR?"YYYY":t>=i.TimeSpan.MILLISECONDS_IN_MONTH?"MMM YYYY":t>=i.TimeSpan.MILLISECONDS_IN_DAY?"D MMM YYYY":t>=i.TimeSpan.MILLISECONDS_IN_MINUTE?"D MMM YYYY HH:mm":t>=i.TimeSpan.MILLISECONDS_IN_SECOND?"D MMM YYYY HH:mm:ss":"D MMM YYYY HH:mm:ss.SSS"},e.prototype.saveState=function(){var t=o.prototype.saveState.call(this);return t.timeInterval=this.timeInterval,t},e.prototype.loadState=function(t){o.prototype.loadState.call(this,t),this._timeInterval=t&&t.timeInterval},e);function e(t){var e=o.call(this)||this;return e._formatter=new i.CustomDateTimeFormat,e._timeInterval=t,e}i.CustomTimeIntervalDateTimeFormat=t,i.DateTimeFormat.register(t)}(StockChartX=StockChartX||{}),function(h){"use strict";var t=(e.prototype.onRequstCanceled=function(t){0===this._requests.count&&t.chart.hideWaitingBar()},e.prototype.onRequestCompleted=function(t,e){var i=t.chart,o=i.dataManager,r=i.firstVisibleRecord,n=i.lastVisibleRecord,a=t.kind===h.RequestKind.MORE_BARS?i.primaryBarDataSeries().low.length:0,l=t.instrument;switch(t.kind){case h.RequestKind.BARS:o.clearBarDataSeries(l),o.appendInstrumentBars(l,e);break;case h.RequestKind.MORE_BARS:o.insertInstrumentBars(l,0,e);break;default:throw new Error("Unknown request kind: "+t.kind)}i.updateComputedDataSeries();var s,c=i.primaryBarDataSeries().low.length-a;l&&(c=Math.round(i.lastVisibleIndex-i.firstVisibleIndex)),t.kind===h.RequestKind.BARS?!h.Environment.isMobile&&0<c&&(i.barsCount?(s=Math.min(c,n*c/i.barsCount),a=Math.max(0,s-(n-r)),i.recordRange(a,s)):i.recordRange(c)):t.kind!==h.RequestKind.MORE_BARS||l||(i.firstVisibleRecord=c<0?0:r+c,i.lastVisibleRecord=n+Math.abs(c)),i.barsCount=c,i.fireValueChanged(h.ChartEvent.HISTORY_LOADED,t),this._requests.remove(t.id),i.hideWaitingBar(),i.updateIndicators(),i.setNeedsAutoScale(),i.setNeedsUpdate(!0),i.dateScale.onMoreHistoryRequestCompleted()},e.nextRequestId=function(){return++this._requestId},e.prototype.send=function(t){this._requests.add(t.id,t),t.chart.showWaitingBar()},e.prototype.cancel=function(t){this._requests.remove(t.id)},e.prototype.destroy=function(){this._requests.clear()},e.prototype.isRequestAlive=function(t){return this._requests.containsKey(t.id)},e._requestId=0,e);function e(){this._requests=new h.Dictionary}h.Datafeed=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(o){"use strict";var i,t=(i=o.Datafeed,__extends(e,i),e.prototype.send=function(t){i.prototype.send.call(this,t),this._loadData(t)},e.prototype._buildUrl=function(t){if(!this._urlBuilder)throw new Error("Url builder is not provided.");return this._urlBuilder(t)},e.prototype._loadData=function(e){var i=this,t=this._buildUrl(e);$.get(t,function(t){i.isRequestAlive(e)&&i._processResult(t,e)}).fail(function(){i.onRequstCanceled(e),o.UI.Notification.error("Unable to load data file.",e.chart)})},e.prototype._processResult=function(t,e){t=this._parseBars(t,e);this.onRequestCompleted(e,t)},e.prototype._parseBars=function(t,e){var i=[],o=t.split("\n"),t=(this._dateFormat(e),moment.locale()),r=0;moment.locale("en");for(var n=0,a=o;n<a.length;n++){var l=a[n].split(this.separator),s=new Date;if(s.setMinutes(o.length-1-r),e.endDate&&s>=e.endDate)break;o.length-r==8&&(l[2]="2");l={date:s,open:this._round(parseFloat(l[1])),high:this._round(parseFloat(l[2])),low:this._round(parseFloat(l[3])),close:this._round(parseFloat(l[4])),volume:this._round(parseInt(l[5],10))};l.details=this._generateDetails(l,r++),i.push(l)}return 1<i.length&&i[0].date.getTime()>i[1].date.getTime()&&i.reverse(),moment.locale(t),i},e.prototype._generateDetails=function(t,e){for(var i=t.high,o=t.low,r=t.volume.toFixed(0),n=r.length-1,a=[],l=o,s=0;l<=i;l+=this._priceStep){var c=n-s,h=Math.max(1,s),u=Math.max(1,c),c=+(r[s]+r[c]);a.push({bidInfo:{volume:Math.round(c/h),tradesCount:Math.round(c/h),price:l},askInfo:{volume:Math.round(c/u),tradesCount:Math.round(c/u),price:l},volume:c,tradesCount:c,price:l}),++s>n&&(s=0)}return a},e.prototype._round=function(t){return Math.round(4*t)/4},e);function e(t){var e=i.call(this)||this;return e._priceStep=.25,e._dateFormat=t.dateFormat,e._urlBuilder=t.urlBuilder,e.separator=t.separator||",",e}o.CsvDatafeed=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(l){"use strict";var i,t=(i=l.Datafeed,__extends(e,i),e.prototype.send=function(t){this._loadData(t),i.prototype.send.call(this,t)},e.prototype._loadData=function(t){this.dataServer.getHistory(this._processResult.bind(this,t),t)},e.prototype._processResult=function(t,e){var i=this._bars.get(t.id)||[];i.push.apply(i,this._convertBars(e.Bars,t)),!1!==e.IsTail&&(this.subscribe(t),this.onRequestCompleted(t,i),this._bars.remove(t.id)),this._bars.containsKey(t.id)||this._bars.add(t.id,i)},e.prototype.subscribe=function(t){var e=t.chart.instrument;e&&this.dataServer.subscribeQuote(this._processMainQuote.bind(this,t.chart),e),t.instrument&&this.dataServer.subscribeQuote(this._processQuote.bind(this,t.chart),t.instrument)},e.prototype._processMainQuote=function(t,e){if((e=this._convertQuote(e)).symbol.symbol===t.instrument.symbol){var i,o=this._getLastBar(t);if(o&&(i=(r=o.date.getTime())+t.timeInterval,!(e.date.getTime()<r||0===e.price)))if(new Date(e.date)>=new Date(i)||null===o){for(null===o&&e.date<i&&(i=r);e.date>=i+t.timeInterval;)i+=t.timeInterval;var r={open:e.price,high:e.price,low:e.price,close:e.price,volume:e.volume,date:new Date(i)};t.appendBars(r),t.dateScale.applyAutoScroll(l.BarsUpdateKind.NEW_BAR)}else o.close=e.price,o.volume=o.volume+e.volume/1e3,o.high<e.price&&(o.high=e.price),o.low>e.price&&(o.low=e.price),this._updateLastBar(o,t),t.dateScale.applyAutoScroll(l.BarsUpdateKind.TICK)}},e.prototype._processQuote=function(t,e){var i,o=(e=this._convertQuote(e)).symbol||t.instrument,r=+t.timeInterval,n=this._getLastBar(t,o);if(n&&(i=(a=n.date.getTime())+r,!(e.date.getTime()<a||0===e.price)))if(new Date(e.date)>=new Date(i)||null===n){for(null===n&&e.date<i&&(i=a);e.date>=i+r;)i+=r;var a={open:e.price,high:e.price,low:e.price,close:e.price,volume:e.volume,date:new Date(i)};t.dataManager.appendInstrumentBars(o,a),t.dateScale.applyAutoScroll(l.BarsUpdateKind.NEW_BAR)}else n.close=e.price,n.volume=n.volume+e.volume/1e3,n.high<e.price&&(n.high=e.price),n.low>e.price&&(n.low=e.price),this._updateLastBar(n,t,o),t.dateScale.applyAutoScroll(l.BarsUpdateKind.TICK)},e.prototype._updateLastBar=function(t,e,i){i=i&&i.symbol!==e.instrument.symbol?i.symbol:"",i=e.dataManager.barDataSeries(i);i.open.updateLast(t.open),i.high.updateLast(t.high),i.low.updateLast(t.low),i.close.updateLast(t.close),i.volume.updateLast(t.volume),i.date.updateLast(t.date),e.setNeedsUpdate(!0)},e.prototype._getLastBar=function(t,e){e=e&&e.symbol||"",e=t.dataManager.barDataSeries(e,!0);return 0===e.date.values.length?null:{open:e.open.lastValue,high:e.high.lastValue,low:e.low.lastValue,close:e.close.lastValue,volume:e.volume.lastValue,date:e.date.lastValue}},e.prototype._convertQuote=function(t){return{symbol:{symbol:t.Symbol.Symbol,company:t.Symbol.Company,exchange:t.Symbol.Exchange,type:t.Symbol.Type},price:t.Price,bid:t.Bid,bidSize:t.BidSize,ask:t.Ask,askSize:t.AskSize,volume:t.Volume,date:new Date(t.Date)}},e.prototype._convertBars=function(t,o){var r=[],e=moment.locale();return moment.locale("en"),$.each(t,function(t,e){var i=moment(e.Date).toDate();o.endDate&&i>=o.endDate||(e={open:e.Open,close:e.Close,high:e.High,low:e.Low,volume:e.Volume,date:new Date(e.Date)},r.push(e))}),1<r.length&&r[0].date.getTime()>r[1].date.getTime()&&r.reverse(),moment.locale(e),r},e);function e(t){var e=i.call(this)||this;return e._bars=new l.Dictionary,e.dataServer=t,e}l.DataServerDatafeed=t}(StockChartX=StockChartX||{}),function(){"use strict";(StockChartX||(StockChartX={})).RequestKind={BARS:"bars",MORE_BARS:"moreBars"}}(),function(s){!function(t){"use strict";var e=(l.generateUniqueEventID=function(){var t=String.fromCharCode(Math.floor(25*Math.random()+65));do{var e=Math.floor(42*Math.random()+48)}while((e<58||64<e)&&(t+=String.fromCharCode(e)),t.length<32);return t},l.prototype.subscribe=function(t,e){var i=l.generateUniqueEventID();return this.messageSubscribers[t][i]=e,i},l.prototype.notify=function(t,e,i){return(null!=e&&null!==this.messageSubscribers[t][e]||null!==(e=l.getFirstSubscriberId(this.messageSubscribers[t])))&&("history"===t&&!1===i.IsTail?this.messageSubscribers[t][e](i):(this.messageSubscribers[t][e](i),delete this.messageSubscribers[t][e]),!0)},l.prototype.connect=function(){var l=this;if(null!=this.ws&&1===this.ws.readyState)return!1;var t="MozWebSocket"in window?"MozWebSocket":"WebSocket"in window?"WebSocket":null;return null!=t&&(this.ws=new window[t]("ws://"+this.config.SERVER_HOST+":"+this.config.SERVER_PORT+"/"),this.ws.onopen=function(){l.loggingIn&&l.sendQuery({MsgType:"LoginRequest",Login:l.userCredentials.login,Password:l.userCredentials.password})},this.ws.onclose=function(){l.loggingOut||(l.loggingIn=!1)},this.ws.onmessage=function(t){var e=jQuery.parseJSON(t.data);switch(e.MsgType){case"LoginResponse":null!==e.Error?l.notify("login",null,{Success:!1,Reason:e.Error}):l.notify("login",null,{Success:!0});break;case"LogoutResponse":l.loggingOut=!1,l.disconnect();break;case"DataFeedListResponse":l.notify("dataFeeds",null,e.DataFeeds);break;case"HistoryResponse":l.notify("history",e.ID,{ID:e.ID,Bars:e.Bars,IsTail:e.Tail});break;case"NewTickResponse":for(var i=0,o=e.Tick;i<o.length;i++){var r,n=o[i],a=l.messageSubscribers.quotes[n.Symbol.Symbol];for(r in a)a.hasOwnProperty(r)&&a[r](n)}}},!0)},l.prototype.disconnect=function(){null!=this.ws&&1===this.ws.readyState&&(this.ws.close(),this.ws=null)},l.prototype.sendQuery=function(t){this.ws&&1===this.ws.readyState&&this.ws.send(JSON.stringify(t))},l.prototype.doLogin=function(t,e){this.subscribe("login",t),this.userCredentials.login=e.Login,this.userCredentials.password=e.Password,this.loggingIn=!0,this.connect()},l.prototype.doLogout=function(){this.loggingOut=!0,this.sendQuery({MsgType:"LogoutRequest"}),this.disconnect()},l.getFirstSubscriberId=function(t){for(var e in t)if(t.hasOwnProperty(e))return e;return null},l.prototype.getDataFeeds=function(t){this.subscribe("dataFeeds",t),this.sendQuery({MsgType:"DataFeedListRequest"})},l.prototype.subscribeQuote=function(t,e){var i="quotes",o=this._dataFeedOptionsSelect(this.dataFeedOption.val());this.messageSubscribers[i][e.symbol],this.messageSubscribers[i][e.symbol]=[],this.messageSubscribers[i][e.symbol].push(t),this.sendQuery({MsgType:"SubscribeRequest",Symbol:{DataFeed:o,Exchange:e.exchange,Symbol:e.symbol,Company:e.company,Type:1}})},l.prototype.unsubscribeQuote=function(t,e){var i=this._dataFeedOptionsSelect(this.dataFeedOption.val()),o=this.messageSubscribers.quotes[e.symbol];if(o){for(var r in o)o.hasOwnProperty(r)&&o[r]===t&&o.splice(r,1);0===o.length&&delete this.messageSubscribers.quotes[e.symbol],this.sendQuery({MsgType:"UnsubscribeRequest",Symbol:{DataFeed:i,Exchange:e.exchange,Symbol:e.symbol,Company:e.company,Type:1}})}},l.prototype.getHistory=function(t,e){var i,o=this.subscribe("history",t),r=e.chart,n=this._dataFeedOptionsSelect(this.dataFeedOption.val()),t=l.convertPeriodicity(r.timeFrame.periodicity);e.kind===s.RequestKind.MORE_BARS&&(a=e.endDate,i=4628592e5);var a={MsgType:"HistoryRequest",Selection:{Id:o,Symbol:{DataFeed:n,Exchange:r.instrument.exchange,Symbol:(e.instrument?e:r).instrument.symbol,Company:r.instrument.company,Type:1},Periodicity:t,Interval:r.timeFrame.interval,barsCount:e.count,From:i,To:a}};return this.sendQuery(a),o},l.convertPeriodicity=function(t){switch(t){case s.Periodicity.SECOND:return 0;case s.Periodicity.MINUTE:return 1;case s.Periodicity.HOUR:return 2;case s.Periodicity.DAY:return 3;case s.Periodicity.WEEK:return 4;case s.Periodicity.MONTH:return 5;case s.Periodicity.YEAR:return 6}},l.prototype._dataFeedOptionsSelect=function(t){switch(t){case"0":return"DDF";case"1":return"Simulation DataFeed"}},l);function l(t){this.ws=null,this.loggingIn=null,this.loggingOut=null,this.userCredentials={login:"",password:""},this.messageSubscribers={login:[],logout:[],dataFeeds:[],quotes:[],history:[]},this.dataFeedOption=$("#scxDataFeedDropDown"),this.config=$.extend({SERVER_HOST:null,SERVER_PORT:null},t)}t.DataServer=e}(s.DataServer||(s.DataServer={}))}(StockChartX=StockChartX||{}),function(r){"use strict";var a=jQuery;a.fn.extend({scxGetFrame:function(t){var e,i=this.outerWidth(),o=this.outerHeight();return t?(t=t.offset(),(e=this.offset()).left-=t.left,e.top-=t.top):e=this.position(),new r.Rect({left:e.left,top:e.top,width:i,height:o})},scxSize:function(){return{width:this.outerWidth(),height:this.outerHeight()}},scxContentSize:function(){return{width:this.innerWidth(),height:this.innerHeight()}},scxAppendCanvas:function(){return a("<canvas></canvas>").css("position","absolute").appendTo(this)},scxAppend:function(t,e){var i=a("<"+t+"></"+t+">").appendTo(this);if(e)if("string"==typeof e)i.addClass(e);else for(var o=0,r=e;o<r.length;o++){var n=r[o];i.addClass(n)}return i},scxPrepend:function(t,e){var i=a("<"+t+"></"+t+">").prependTo(this);if(e)if("string"==typeof e)i.addClass(e);else for(var o=0,r=e;o<r.length;o++){var n=r[o];i.addClass(n)}return i},scxFrame:function(t){this.css("left",t.left).css("top",t.top).outerWidth(t.width).outerHeight(t.height)},scxPosition:function(t,e){return this.css("left",t).css("top",e),this},scxClientToLocalPoint:function(t,e){var i=this.offset();return{x:Math.round(t-i.left),y:Math.round(e-i.top)}},scxLocalToClientPoint:function(t,e){var i=this.offset();return{x:Math.round(t+i.left),y:Math.round(e+i.top)}},scxTextStyle:function(t){return this.css("color",t.fillColor).css("font-size",t.fontSize+"px").css("font-family",t.fontFamily).css("font-style",t.fontStyle)},scxBorder:function(t,e){return this.css(t,e.width+"px "+e.lineStyle+" "+e.strokeColor)},scxFill:function(t){return!1===t.fillEnabled?this:this.css("background-color",t.fillColor)},scxLocalize:function(t,e){return e&&this.text(e),this.attr("data-i18n",t)}})}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(a.getLineWidth=function(t){return t&&!1===t.strokeEnabled?0:t&&t.width||1},a.getFontSize=function(t){return t&&t.fontSize||12},a.isDarkColor=function(t){return tinycolor(t).isDark()},a.toRgbString=function(t){return tinycolor(t).toRgbString()},a.toRgba=function(t){return tinycolor(t).toRgb()},a.toHexString=function(t){return tinycolor(t).toHexString()},a.lighten=function(t,e){void 0===e&&(e=0);var i=a.toRgbString(t).replace(/[^0-9a-f]/gi,"");i.length<6&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);for(var o,r="#",n=0;n<3;n++)o=parseInt(i.substr(2*n,2),16),r+=("00"+(o=Math.round(Math.min(Math.max(0,o+255*e),255)).toString(16))).substr(o.length);return r},a.setVisibility=function(t,e){t&&t.css("visibility",e?"visible":"hidden")},a.setBackground=function(t,e){if(Array.isArray(e)){if(0===e.length)throw new Error("Invalid theme: 'background' must be a color or array of colors.");1===e.length?a.setBackgroundColor(t,e[0]):a.setGradientBackground(t,e)}else a.setBackgroundColor(t,e)},a.isFullscreenEnabled=function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},a.enterFullscreen=function(t){t=t||document.body;if(t.requestFullscreen)t.requestFullscreen();else if(t.msRequestFullscreen)t.msRequestFullscreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else{if(!t.webkitRequestFullscreen)throw new Error("Fullscreen mode is not supported.");t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}},a.exitFullscreen=function(){document.fullscreenElement?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},a.setGradientBackground=function(t,e){var i="startColorstr="+a.toHexString(e[1]),o="endColorstr="+a.toHexString(e[0]);t.css("background","-webkit-gradient(linear,left bottom,left top,color-stop(0, "+e[0]+"), color-stop(1, "+e[1]+"))").css("background","linear-gradient(to top, "+e[0]+", "+e[1]+")").css("filter","progid:DXImageTransform.Microsoft.gradient(GradientType=0, "+i+", "+o+")")},a.setBackgroundColor=function(t,e){t.css("background",e)},a.removeUnsecureTags=function(t){for(var e=$(t),i=0,o=["script","embed","object","applet","iframe","frame","frameset"];i<o.length;i++)e.find(o[i]).remove();return e},a.getRandomColorVisibleOn=function(t){var e=Array.isArray(t)?tinycolor.mix(tinycolor(t[0]),tinycolor(t[t.length]),50):tinycolor(t),t=tinycolor.mix(e,tinycolor.random());return(e.isDark()?t.lighten():t.darken()).toRgbString()},a);function a(){}t.HtmlUtil=e}(StockChartX=StockChartX||{});var __assign=this&&this.__assign||Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};!function(i){"use strict";var t,e,o;i.StrokePriority={COLOR:"color"},Object.freeze(i.StrokePriority),i.FillPriority={COLOR:"color"},Object.freeze(i.FillPriority),(e=t=i.LineStyle||(i.LineStyle={})).SOLID="solid",e.DASH="dash",e.DOT="dot",e.DASH_DOT="dash-dot",Object.freeze(t),(o=i.FontStyle||(i.FontStyle={})).Normal="normal",Object.freeze(o),i.FontDefaults={fontFamily:"Arial",fontSize:12,fontStyle:o.Normal,fontVariant:"normal",fontWeight:"normal"},i.DefaultText={fontFamily:"Calibri",fontSize:11,fillColor:"black"},i.StrokeDefaults={strokePriority:"color",strokeColor:"black",width:1,lineStyle:t.SOLID,lineJoin:"miter",lineCap:"butt"},i.DashArray={DOT:[1,7],DASH:[7,7],DASH_DOT:[7,7,1,7]},i.getDefaultWatermarkStyles=function(t){return{symbol:{fontFamily:"Arial",fontSize:70,fontStyle:o.Normal,fillColor:t},details:{fontFamily:"Arial",fontSize:40,fontStyle:o.Normal,fillColor:t}}},i.getDefaultValueMarkerTheme=function(t,e){return{text:__assign({},i.DefaultText,{fillColor:e}),fill:{fillColor:t}}}}(StockChartX=StockChartX||{}),function(t){"use strict";t.Dark={name:"Dark",chart:{background:["#1B1C26"],border:{width:1,strokeColor:"grey",lineStyle:t.LineStyle.SOLID},instrumentWatermark:t.getDefaultWatermarkStyles("white")},splitter:{fillColor:"#292C38",hoverFillColor:"white"},chartPanel:{grid:{width:1,strokeColor:"#292C38"},title:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white"},instrumentWatermark:t.getDefaultWatermarkStyles("white")},tradingPanel:{tradingBarUnit:"pixels",tradingBarLength:40,buyPanelBackground:"rgba(72, 149, 245, 0.3)",sellPanelBackground:"rgba(201, 59, 59, 0.3)",buyMarkerBackground:"rgb(72, 149, 245)",sellMarkerBackground:"rgb(201, 59, 59)",markerFontColor:"#fff"},valueScale:{fill:{fillColor:"#1B1C26"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"rgba(255,255,255, 0.7)"},line:{width:1,strokeColor:"#505050"},border:{width:0,strokeColor:"darkgray",lineStyle:t.LineStyle.SOLID},valueMarker:t.getDefaultValueMarkerTheme("green","black")},dateScale:{fill:{fillColor:"#1B1C26"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"#FFFFFF"},line:{width:1,strokeColor:"#505050"},border:{width:0,strokeColor:"darkgray",lineStyle:t.LineStyle.SOLID},dateMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"#FFFFFF"},fill:{fillColor:"green"},stroke:{strokePriority:"color",strokeColor:"#696969",width:1,lineStyle:t.LineStyle.SOLID,lineJoin:"miter",lineCap:"butt"}},breakLine:{stroke:{strokeColor:"#545454",width:1,lineStyle:t.LineStyle.DASH}}},crossHair:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"#000000"},line:{width:1,strokeColor:"darkgray",lineStyle:t.LineStyle.DASH},fill:{fillColor:"#FFFFFF"}},zoomIn:{border:{width:1,strokeColor:"white",lineStyle:t.LineStyle.SOLID},fill:{fillColor:"rgba(255, 255, 255, 0.5)"}},plot:{point:{dot:{fill:{fillColor:"white"}}},line:{simple:{width:1,strokeColor:"white"},mountain:{line:{width:1,strokeColor:"white"},fill:{linearGradient:["rgba(63, 167, 225, 0.4) ","rgba(63, 167, 225, 0)"]}},step:{width:1,strokeColor:"white"}},histogram:{line:{width:1,strokeColor:"white"},coloredLine:{upBar:{width:1,strokeColor:"grey"},downBar:{width:1,strokeColor:"red"}},column:{line:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"blue"}},coloredColumn:{upBar:{line:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"green"}},downBar:{line:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"red"}}}},bar:{OHLC:{width:1,strokeColor:"white"},HLC:{width:1,strokeColor:"white"},HL:{width:1,strokeColor:"white"},coloredOHLC:{upBar:{width:1,strokeColor:"#3FA7E1"},downBar:{width:1,strokeColor:"#E85050"}},coloredHLC:{upBar:{width:1,strokeColor:"#3FA7E1"},downBar:{width:1,strokeColor:"#E85050"}},coloredHL:{upBar:{width:1,strokeColor:"#3FA7E1"},downBar:{width:1,strokeColor:"#E85050"}},candle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#3FA7E1"},wick:{width:1,strokeColor:"white"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#E85050"},wick:{width:1,strokeColor:"white"}}},heikinAshi:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#3FA7E1"},wick:{width:1,strokeColor:"white"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#E85050"},wick:{width:1,strokeColor:"white"}}},renko:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#3FA7E1"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#E85050"}}},lineBreak:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#3FA7E1"},fill:{fillEnabled:!0,fillColor:"#3FA7E1"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#E85050"},fill:{fillEnabled:!0,fillColor:"#E85050"}}},hollowCandle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#3FA7E1"},wick:{width:1,strokeColor:"white"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#E85050"},wick:{width:1,strokeColor:"white"}},upHollowCandle:{border:{width:1,strokeColor:"#3FA7E1"},wick:{width:1,strokeColor:"#3FA7E1"}},downHollowCandle:{border:{width:1,strokeColor:"#E85050"},wick:{width:1,strokeColor:"#E85050"}}},pointAndFigure:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"#3FA7E1"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"#E85050"}}},kagi:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"#3FA7E1"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"#E85050"}}},candleVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#3FA7E1"},wick:{width:1,strokeColor:"white"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#E85050"},wick:{width:1,strokeColor:"white"}}},equiVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#3FA7E1"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#E85050"}}},equiVolumeShadow:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#3FA7E1"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#E85050"}}}},indicator:{line1:{width:1,lineStyle:t.LineStyle.SOLID,strokeColor:"white"},line2:{width:1,lineStyle:t.LineStyle.SOLID,strokeColor:"#3FA7E1"},line3:{width:1,lineStyle:t.LineStyle.SOLID,strokeColor:"#E85050"},line4:{width:1,lineStyle:t.LineStyle.SOLID,strokeColor:"#0000FF"},line5:{width:1,lineStyle:t.LineStyle.SOLID,strokeColor:"yellow"},histogram:{color:"#32CD32"},blackText:{fontFamily:"Arial",fontSize:10,fontStyle:t.FontStyle.Normal,fillColor:"black"},levels:{line1:{width:1,lineStyle:t.LineStyle.SOLID,strokeColor:"#FF0000"},line2:{width:1,lineStyle:t.LineStyle.SOLID,strokeColor:"#32CD32"},line3:{width:1,lineStyle:t.LineStyle.SOLID,strokeColor:"#FFD500"},line4:{width:1,lineStyle:t.LineStyle.SOLID,strokeColor:"#0000FF"},line5:{width:1,lineStyle:t.LineStyle.SOLID,strokeColor:"#808080"}}}},selectionMarker:{line:{strokeColor:"white",width:1},fill:{fillColor:"black"}},drawing:{note:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},fill:{fillColor:"orange"},centerPointFill:{fillColor:"rgb(68, 68, 68)"}},measure:{line:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},border:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},fill:{fillEnabled:!0,fillColor:"rgba(255, 255, 255, 0.5)"},balloon:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},border:{width:1,strokeColor:"darkgray",strokeEnabled:!0,lineStyle:t.LineStyle.SOLID},fill:{fillEnabled:!0,fillColor:"rgba(255, 255, 255, 0.5)"}}},measureTool:{line:{width:1,strokeColor:"white"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},fill:{fillColor:"rgba(0, 0, 0, 0.8)"}},abstract:{line:{strokeColor:"white",width:1},fill:{fillColor:"rgba(255, 255, 255, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"white",decoration:""}},trendAngle:{line:{strokeColor:"white",width:1},text:{fontFamily:"Calibri",fontSize:12,fillColor:"white",decoration:""},arc:{strokeColor:"white",width:1,lineStyle:t.LineStyle.DOT},horizontalLine:{strokeColor:"white",width:1,lineStyle:t.LineStyle.DOT}},abstractMarker:{fill:{fillColor:"white"}},fibonacci:{trendLine:{strokeColor:"white",width:1,lineStyle:t.LineStyle.DASH},line:{strokeColor:"white",width:1},fill:{fillColor:"rgba(255, 255, 255, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"white"}},arrowUp:{fill:{fillColor:"limegreen"}},arrowDown:{fill:{fillColor:"red"}},text:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"#FFFFFF",decoration:""}},image:{noImage:{line:{strokeColor:"red",width:1}}}},tooltip:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"white",fontWeight:"normal",fontStyle:t.FontStyle.Normal,decoration:""},border:{enabled:!0,width:1,color:"orange",lineStyle:t.LineStyle.SOLID},fill:{enabled:!0,color:"rgb(44, 44, 44)"}},spread:{ask:{line:{width:1,strokeColor:"#00D533"},valueMarker:{fill:{fillColor:"#00D533"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white"}}},bid:{line:{width:1,strokeColor:"#F20500"},valueMarker:{fill:{fillColor:"#F20500"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white"}}}},highlightedColumn:{fill:{fillColor:"rgba(90, 130, 182, 0.45)"}},button:{accept:{fill:{fillColor:"white"},line:{strokeColor:"green",width:1}},cancel:{fill:{fillColor:"white"},line:{strokeColor:"red",width:1}},none:{fill:{fillColor:"white"}}},positionBar:{short:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},long:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},orderBar:{buy:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}},sell:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:t.FontStyle.Normal,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}}}}}(StockChartX=StockChartX||{}),function(t){"use strict";t.Theme={Dark:t.Dark,Light:{name:"Light",scrollingPanelBackgroud:{fill:{fillColor:"#000"}},chart:{background:["#FFFFFF"],border:{width:1,strokeColor:"rgba(21, 22, 29, 0.1)",lineStyle:"solid"},instrumentWatermark:{symbol:{fontFamily:"Arial",fontSize:70,fontStyle:"normal",fillColor:"#0d0d0d"},details:{fontFamily:"Arial",fontSize:40,fontStyle:"normal",fillColor:"#1b1b1b"}}},splitter:{fillColor:"#999",hoverFillColor:"#DDD"},chartPanel:{grid:{width:1,strokeColor:"#CCC"},title:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"},watermark:{text:{fontFamily:"Arial",fontSize:40,fontStyle:"normal",fillColor:"#666"}}},valueScale:{fill:{fillColor:"#FFF"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:0,strokeColor:"#CCC",lineStyle:"solid"},valueMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"}}},dateScale:{fill:{fillColor:"#FFF"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:0,strokeColor:"#CCC",lineStyle:"solid"},dateMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"},stroke:{strokePriority:"color",strokeColor:"#696969",width:1,lineStyle:t.LineStyle.SOLID,lineJoin:"miter",lineCap:"butt"}},breakLine:{stroke:{strokeColor:"#545454",width:1,lineStyle:t.LineStyle.DASH}}},crossHair:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},line:{width:1,strokeColor:"#333",lineStyle:"dashed"},fill:{fillColor:"#15161D"}},zoomIn:{border:{width:1,strokeColor:"darkgray",lineStyle:"solid"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},plot:{point:{dot:{fill:{fillColor:"#555"}}},line:{simple:{width:1,strokeColor:"#555"},mountain:{line:{width:1,strokeColor:"#555"},fill:{linearGradient:["rgba(63, 225, 147, 0.4) ","rgba(63, 225, 147, 0)"]}},step:{width:1,strokeColor:"#555"}},histogram:{line:{width:1,strokeColor:"#555"},coloredLine:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},column:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"blue"}},coloredColumn:{upBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"green"}},downBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"red"}}}},bar:{OHLC:{width:1,strokeColor:"#555"},HLC:{width:1,strokeColor:"#555"},HL:{width:1,strokeColor:"#555"},coloredOHLC:{upBar:{width:1,strokeColor:"#61D07F"},downBar:{width:1,strokeColor:"#E85050"}},coloredHLC:{upBar:{width:1,strokeColor:"#61D07F"},downBar:{width:1,strokeColor:"#E85050"}},coloredHL:{upBar:{width:1,strokeColor:"#61D07F"},downBar:{width:1,strokeColor:"#E85050"}},candle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#61D07F"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#E85050"},wick:{width:1,strokeColor:"#555"}}},heikinAshi:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#61D07F"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#E85050"},wick:{width:1,strokeColor:"#555"}}},renko:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#61D07F"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#E85050"}}},lineBreak:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#61D07F"},fill:{fillEnabled:!0,fillColor:"#61D07F"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#E85050"},fill:{fillEnabled:!0,fillColor:"#E85050"}}},hollowCandle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#61D07F"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#E85050"},wick:{width:1,strokeColor:"#555"}},upHollowCandle:{border:{width:1,strokeColor:"#61D07F"},wick:{width:1,strokeColor:"#61D07F"}},downHollowCandle:{border:{width:1,strokeColor:"#E85050"},wick:{width:1,strokeColor:"#E85050"}}},pointAndFigure:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"#61D07F"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"#E85050"}}},kagi:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"#61D07F"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"#E85050"}}},candleVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#61D07F"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"#E85050"},wick:{width:1,strokeColor:"#555"}}},equiVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#61D07F"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#E85050"}}},equiVolumeShadow:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#61D07F"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#E85050"}}}},indicator:{line1:{width:1,lineStyle:"solid",strokeColor:"#20908A"},line2:{width:1,lineStyle:"solid",strokeColor:"#EBBD79"},line3:{width:1,lineStyle:"solid",strokeColor:"#3452F1"},line4:{width:1,lineStyle:"solid",strokeColor:"#C04672"},line5:{width:1,lineStyle:"solid",strokeColor:"#8F73DC"},histogram:{color:"#32CD32"},blackText:{fontFamily:"Arial",fontSize:10,fontStyle:"normal",fillColor:"black"},levels:{line1:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FFD500"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"#808080"}}}},selectionMarker:{line:{strokeColor:"#777",width:1},fill:{fillColor:"black"}},drawing:{note:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"#15C"},centerPointFill:{fillColor:"white"}},measure:{line:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},border:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"},balloon:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},border:{width:1,strokeColor:"darkgray",strokeEnabled:!0,lineStyle:t.LineStyle.SOLID},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"}}},measureTool:{line:{width:1,strokeColor:"black"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"rgba(255, 255, 255, 0.8)"}},abstract:{line:{strokeColor:"#555",width:1},fill:{fillColor:"rgba(255, 255, 255, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},trendAngle:{line:{strokeColor:"#555",width:1},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""},arc:{strokeColor:"#555",width:1,lineStyle:"dot"},horizontalLine:{strokeColor:"#555",width:1,lineStyle:"dot"}},abstractMarker:{fill:{fillColor:"#555"}},fibonacci:{trendLine:{strokeColor:"black",width:1,lineStyle:"dash"},line:{strokeColor:"black",width:1},fill:{fillColor:"rgba(0, 0, 0, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"black"}},arrowUp:{fill:{fillColor:"limegreen"}},arrowDown:{fill:{fillColor:"red"}},text:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},image:{noImage:{line:{strokeColor:"red",width:1}}}},tooltip:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"black",fontWeight:"normal",fontStyle:"normal",decoration:""},border:{enabled:!0,width:1,color:"#15C",lineStyle:t.LineStyle.SOLID},fill:{enabled:!0,color:"white"}},spread:{ask:{line:{width:1,strokeColor:"#00D533"},valueMarker:{fill:{fillColor:"#00D533"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}},bid:{line:{width:1,strokeColor:"#F20500"},valueMarker:{fill:{fillColor:"#F20500"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}}},highlightedColumn:{fill:{fillColor:"rgba(90, 130, 182, 0.45)"}},button:{accept:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"green",width:1}},cancel:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"red",width:1}},none:{fill:{fillColor:"#BDBDBD"}}},positionBar:{short:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},long:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},orderBar:{buy:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}},sell:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}}}},Beet:{name:"Beet",scrollingPanelBackgroud:{fill:{fillColor:"#000"}},chart:{background:["rgb(255, 255, 255)","rgb(255, 255, 255)"],border:{width:1,strokeColor:"grey",lineStyle:"solid"},instrumentWatermark:{symbol:{fontFamily:"Arial",fontSize:70,fontStyle:"normal",fillColor:"#0d0d0d"},details:{fontFamily:"Arial",fontSize:40,fontStyle:"normal",fillColor:"#1b1b1b"}}},splitter:{fillColor:"#999",hoverFillColor:"#DDD"},chartPanel:{grid:{width:1,strokeColor:"#CCC"},title:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"}},valueScale:{fill:{fillColor:"#dbd0d8"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},valueMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"}}},dateScale:{fill:{fillColor:"#dbd0d8"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},dateMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"},stroke:{strokePriority:"color",strokeColor:"#696969",width:1,lineStyle:t.LineStyle.SOLID,lineJoin:"miter",lineCap:"butt"}},breakLine:{stroke:{strokeColor:"red",width:1,lineStyle:t.LineStyle.DASH}}},crossHair:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},line:{width:1,strokeColor:"#333",lineStyle:"dashed"},fill:{fillColor:"#696969"}},zoomIn:{border:{width:1,strokeColor:"darkgray",lineStyle:"solid"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},plot:{point:{dot:{fill:{fillColor:"#555"}}},line:{simple:{width:1,strokeColor:"#555"},mountain:{line:{width:1,strokeColor:"#555"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},step:{width:1,strokeColor:"#555"}},histogram:{line:{width:1,strokeColor:"#555"},coloredLine:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},column:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"blue"}},coloredColumn:{upBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"green"}},downBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"red"}}}},bar:{OHLC:{width:1,strokeColor:"#555"},HLC:{width:1,strokeColor:"#555"},HL:{width:1,strokeColor:"#555"},coloredOHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHL:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},candle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},heikinAshi:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},renko:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},lineBreak:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"green"},fill:{fillEnabled:!0,fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"red"},fill:{fillEnabled:!0,fillColor:"red"}}},hollowCandle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}},upHollowCandle:{border:{width:1,strokeColor:"green"},wick:{width:1,strokeColor:"green"}},downHollowCandle:{border:{width:1,strokeColor:"red"},wick:{width:1,strokeColor:"red"}}},pointAndFigure:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},kagi:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},candleVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},equiVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},equiVolumeShadow:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#808080"}}}},indicator:{line1:{width:1,lineStyle:"solid",strokeColor:"#505050"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"yellow"},histogram:{color:"#32CD32"},blackText:{fontFamily:"Arial",fontSize:10,fontStyle:"normal",fillColor:"black"},levels:{line1:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FFD500"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"yellow"}}}},selectionMarker:{line:{strokeColor:"#777",width:1},fill:{fillColor:"black"}},drawing:{note:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"#15C"},centerPointFill:{fillColor:"white"}},measure:{line:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},border:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"},balloon:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},border:{width:1,strokeColor:"darkgray",strokeEnabled:!0,lineStyle:t.LineStyle.SOLID},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"}}},measureTool:{line:{width:1,strokeColor:"black"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"rgba(255, 255, 255, 0.8)"}},abstract:{line:{strokeColor:"#555",width:1},fill:{fillColor:"rgba(255, 255, 255, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},trendAngle:{line:{strokeColor:"#555",width:1},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""},arc:{strokeColor:"#555",width:1,lineStyle:"dot"},horizontalLine:{strokeColor:"#555",width:1,lineStyle:"dot"}},abstractMarker:{fill:{fillColor:"#555"}},fibonacci:{trendLine:{strokeColor:"black",width:1,lineStyle:"dash"},line:{strokeColor:"black",width:1},fill:{fillColor:"rgba(0, 0, 0, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"black"}},arrowUp:{fill:{fillColor:"limegreen"}},arrowDown:{fill:{fillColor:"red"}},text:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},image:{noImage:{line:{strokeColor:"red",width:1}}}},tooltip:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"black",fontWeight:"normal",fontStyle:"normal",decoration:""},border:{enabled:!0,width:1,color:"#15C",lineStyle:t.LineStyle.SOLID},fill:{enabled:!0,color:"white"}},spread:{ask:{line:{width:1,strokeColor:"#00D533"},valueMarker:{fill:{fillColor:"#00D533"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}},bid:{line:{width:1,strokeColor:"#F20500"},valueMarker:{fill:{fillColor:"#F20500"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}}},highlightedColumn:{fill:{fillColor:"rgba(90, 130, 182, 0.45)"}},button:{accept:{fill:{fillColor:"#B9B0B6"},line:{strokeColor:"green",width:1}},cancel:{fill:{fillColor:"#B9B0B6"},line:{strokeColor:"red",width:1}},none:{fill:{fillColor:"#B9B0B6"}}},positionBar:{short:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},long:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},orderBar:{buy:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}},sell:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}}}},Cyan:{name:"Cyan",scrollingPanelBackgroud:{fill:{fillColor:"#000"}},chart:{background:["rgb(255, 255, 255)","rgb(255, 255, 255)"],border:{width:1,strokeColor:"grey",lineStyle:"solid"},instrumentWatermark:{symbol:{fontFamily:"Arial",fontSize:70,fontStyle:"normal",fillColor:"#0d0d0d"},details:{fontFamily:"Arial",fontSize:40,fontStyle:"normal",fillColor:"#1b1b1b"}}},splitter:{fillColor:"#999",hoverFillColor:"#DDD"},chartPanel:{grid:{width:1,strokeColor:"#CCC"},title:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"}},valueScale:{fill:{fillColor:"#ebedf0"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},valueMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"}}},dateScale:{fill:{fillColor:"#ebedf0"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},dateMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"},stroke:{strokePriority:"color",strokeColor:"#696969",width:1,lineStyle:t.LineStyle.SOLID,lineJoin:"miter",lineCap:"butt"}},breakLine:{stroke:{strokeColor:"red",width:1,lineStyle:t.LineStyle.DASH}}},crossHair:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},line:{width:1,strokeColor:"#333",lineStyle:"dashed"},fill:{fillColor:"#696969"}},zoomIn:{border:{width:1,strokeColor:"darkgray",lineStyle:"solid"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},plot:{point:{dot:{fill:{fillColor:"#555"}}},line:{simple:{width:1,strokeColor:"#555"},mountain:{line:{width:1,strokeColor:"#555"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},step:{width:1,strokeColor:"#555"}},histogram:{line:{width:1,strokeColor:"#555"},coloredLine:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},column:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"blue"}},coloredColumn:{upBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"green"}},downBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"red"}}}},bar:{OHLC:{width:1,strokeColor:"#555"},HLC:{width:1,strokeColor:"#555"},HL:{width:1,strokeColor:"#555"},coloredOHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHL:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},candle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},heikinAshi:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},renko:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},lineBreak:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"green"},fill:{fillEnabled:!0,fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"red"},fill:{fillEnabled:!0,fillColor:"red"}}},hollowCandle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}},upHollowCandle:{border:{width:1,strokeColor:"green"},wick:{width:1,strokeColor:"green"}},downHollowCandle:{border:{width:1,strokeColor:"red"},wick:{width:1,strokeColor:"red"}}},pointAndFigure:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},kagi:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},candleVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},equiVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},equiVolumeShadow:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#808080"}}}},indicator:{line1:{width:1,lineStyle:"solid",strokeColor:"#505050"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"yellow"},histogram:{color:"#32CD32"},blackText:{fontFamily:"Arial",fontSize:10,fontStyle:"normal",fillColor:"black"},levels:{line1:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FFD500"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"yellow"}}}},selectionMarker:{line:{strokeColor:"#777",width:1},fill:{fillColor:"black"}},drawing:{note:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"#15C"},centerPointFill:{fillColor:"white"}},measure:{line:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},border:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"},balloon:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},border:{width:1,strokeColor:"darkgray",strokeEnabled:!0,lineStyle:t.LineStyle.SOLID},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"}}},measureTool:{line:{width:1,strokeColor:"black"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"rgba(255, 255, 255, 0.8)"}},abstract:{line:{strokeColor:"#555",width:1},fill:{fillColor:"rgba(255, 255, 255, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},trendAngle:{line:{strokeColor:"#555",width:1},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""},arc:{strokeColor:"#555",width:1,lineStyle:"dot"},horizontalLine:{strokeColor:"#555",width:1,lineStyle:"dot"}},abstractMarker:{fill:{fillColor:"#555"}},fibonacci:{trendLine:{strokeColor:"black",width:1,lineStyle:"dash"},line:{strokeColor:"black",width:1},fill:{fillColor:"rgba(0, 0, 0, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"black"}},arrowUp:{fill:{fillColor:"limegreen"}},arrowDown:{fill:{fillColor:"red"}},text:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},image:{noImage:{line:{strokeColor:"red",width:1}}}},tooltip:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"black",fontWeight:"normal",fontStyle:"normal",decoration:""},border:{enabled:!0,width:1,color:"#15C",lineStyle:t.LineStyle.SOLID},fill:{enabled:!0,color:"white"}},spread:{ask:{line:{width:1,strokeColor:"#00D533"},valueMarker:{fill:{fillColor:"#00D533"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}},bid:{line:{width:1,strokeColor:"#F20500"},valueMarker:{fill:{fillColor:"#F20500"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}}},highlightedColumn:{fill:{fillColor:"rgba(90, 130, 182, 0.45)"}},button:{accept:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"green",width:1}},cancel:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"red",width:1}},none:{fill:{fillColor:"#BDBDBD"}}},positionBar:{short:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},long:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},orderBar:{buy:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}},sell:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}}}},Gray:{name:"Gray",scrollingPanelBackgroud:{fill:{fillColor:"#000"}},chart:{background:["rgb(255, 255, 255)","rgb(255, 255, 255)"],border:{width:1,strokeColor:"grey",lineStyle:"solid"},instrumentWatermark:{symbol:{fontFamily:"Arial",fontSize:70,fontStyle:"normal",fillColor:"#0d0d0d"},details:{fontFamily:"Arial",fontSize:40,fontStyle:"normal",fillColor:"#1b1b1b"}}},splitter:{fillColor:"#999",hoverFillColor:"#DDD"},chartPanel:{grid:{width:1,strokeColor:"#CCC"},title:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"}},valueScale:{fill:{fillColor:"#d8d8d8"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},valueMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"}}},dateScale:{fill:{fillColor:"#d8d8d8"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},dateMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"},stroke:{strokePriority:"color",strokeColor:"#696969",width:1,lineStyle:t.LineStyle.SOLID,lineJoin:"miter",lineCap:"butt"}},breakLine:{stroke:{strokeColor:"red",width:1,lineStyle:t.LineStyle.DASH}}},crossHair:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},line:{width:1,strokeColor:"#333",lineStyle:"dashed"},fill:{fillColor:"#696969"}},zoomIn:{border:{width:1,strokeColor:"darkgray",lineStyle:"solid"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},plot:{point:{dot:{fill:{fillColor:"#555"}}},line:{simple:{width:1,strokeColor:"#555"},mountain:{line:{width:1,strokeColor:"#555"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},step:{width:1,strokeColor:"#555"}},histogram:{line:{width:1,strokeColor:"#555"},coloredLine:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},column:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"blue"}},coloredColumn:{upBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"green"}},downBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"red"}}}},bar:{OHLC:{width:1,strokeColor:"#555"},HLC:{width:1,strokeColor:"#555"},HL:{width:1,strokeColor:"#555"},coloredOHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHL:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},candle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},heikinAshi:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},renko:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},lineBreak:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"green"},fill:{fillEnabled:!0,fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"red"},fill:{fillEnabled:!0,fillColor:"red"}}},hollowCandle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}},upHollowCandle:{border:{width:1,strokeColor:"green"},wick:{width:1,strokeColor:"green"}},downHollowCandle:{border:{width:1,strokeColor:"red"},wick:{width:1,strokeColor:"red"}}},pointAndFigure:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},kagi:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},candleVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},equiVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},equiVolumeShadow:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"#808080"}}}},indicator:{line1:{width:1,lineStyle:"solid",strokeColor:"#505050"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"yellow"},histogram:{color:"#32CD32"},blackText:{fontFamily:"Arial",fontSize:10,fontStyle:"normal",fillColor:"black"},levels:{line1:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FFD500"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"yellow"}}}},selectionMarker:{line:{strokeColor:"#777",width:1},fill:{fillColor:"black"}},drawing:{note:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"#15C"},centerPointFill:{fillColor:"white"}},measure:{line:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},border:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"},balloon:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},border:{width:1,strokeColor:"darkgray",strokeEnabled:!0,lineStyle:t.LineStyle.SOLID},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"}}},measureTool:{line:{width:1,strokeColor:"black"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"rgba(255, 255, 255, 0.8)"}},abstract:{line:{strokeColor:"#555",width:1},fill:{fillColor:"rgba(255, 255, 255, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},trendAngle:{line:{strokeColor:"#555",width:1},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""},arc:{strokeColor:"#555",width:1,lineStyle:"dot"},horizontalLine:{strokeColor:"#555",width:1,lineStyle:"dot"}},abstractMarker:{fill:{fillColor:"#555"}},fibonacci:{trendLine:{strokeColor:"black",width:1,lineStyle:"dash"},line:{strokeColor:"black",width:1},fill:{fillColor:"rgba(0, 0, 0, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"black"}},arrowUp:{fill:{fillColor:"limegreen"}},arrowDown:{fill:{fillColor:"red"}},text:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},image:{noImage:{line:{strokeColor:"red",width:1}}}},tooltip:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"black",fontWeight:"normal",fontStyle:"normal",decoration:""},border:{enabled:!0,width:1,color:"#15C",lineStyle:t.LineStyle.SOLID},fill:{enabled:!0,color:"white"}},spread:{ask:{line:{width:1,strokeColor:"#00D533"},valueMarker:{fill:{fillColor:"#00D533"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}},bid:{line:{width:1,strokeColor:"#F20500"},valueMarker:{fill:{fillColor:"#F20500"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}}},highlightedColumn:{fill:{fillColor:"rgba(90, 130, 182, 0.45)"}},button:{accept:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"green",width:1}},cancel:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"red",width:1}},none:{fill:{fillColor:"#BDBDBD"}}},positionBar:{short:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},long:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},orderBar:{buy:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}},sell:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}}}},Olive:{name:"Olive",scrollingPanelBackgroud:{fill:{fillColor:"#000"}},chart:{background:["rgb(255, 255, 255)","rgb(255, 255, 255)"],border:{width:1,strokeColor:"grey",lineStyle:"solid"},instrumentWatermark:{symbol:{fontFamily:"Arial",fontSize:70,fontStyle:"normal",fillColor:"#0d0d0d"},details:{fontFamily:"Arial",fontSize:40,fontStyle:"normal",fillColor:"#1b1b1b"}}},splitter:{fillColor:"#999",hoverFillColor:"#DDD"},chartPanel:{grid:{width:1,strokeColor:"#CCC"},title:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"}},valueScale:{fill:{fillColor:"#e2e7da"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},valueMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"}}},dateScale:{fill:{fillColor:"#e2e7da"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},dateMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"},stroke:{strokePriority:"color",strokeColor:"#696969",width:1,lineStyle:t.LineStyle.SOLID,lineJoin:"miter",lineCap:"butt"}},breakLine:{stroke:{strokeColor:"red",width:1,lineStyle:t.LineStyle.DASH}}},crossHair:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},line:{width:1,strokeColor:"#333",lineStyle:"dashed"},fill:{fillColor:"#696969"}},zoomIn:{border:{width:1,strokeColor:"darkgray",lineStyle:"solid"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},plot:{point:{dot:{fill:{fillColor:"#555"}}},line:{simple:{width:1,strokeColor:"#555"},mountain:{line:{width:1,strokeColor:"#555"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},step:{width:1,strokeColor:"#555"}},histogram:{line:{width:1,strokeColor:"#555"},coloredLine:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},column:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"blue"}},coloredColumn:{upBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"green"}},downBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"red"}}}},bar:{OHLC:{width:1,strokeColor:"#555"},HLC:{width:1,strokeColor:"#555"},HL:{width:1,strokeColor:"#555"},coloredOHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHL:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},candle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},heikinAshi:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},renko:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},lineBreak:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"green"},fill:{fillEnabled:!0,fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"red"},fill:{fillEnabled:!0,fillColor:"red"}}},hollowCandle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}},upHollowCandle:{border:{width:1,strokeColor:"green"},wick:{width:1,strokeColor:"green"}},downHollowCandle:{border:{width:1,strokeColor:"red"},wick:{width:1,strokeColor:"red"}}},pointAndFigure:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},kagi:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},candleVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},equiVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},equiVolumeShadow:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}}},indicator:{line1:{width:1,lineStyle:"solid",strokeColor:"#505050"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"yellow"},histogram:{color:"#32CD32"},blackText:{fontFamily:"Arial",fontSize:10,fontStyle:"normal",fillColor:"black"},levels:{line1:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FFD500"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"#808080"}}}},selectionMarker:{line:{strokeColor:"#777",width:1},fill:{fillColor:"black"}},drawing:{note:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"#15C"},centerPointFill:{fillColor:"white"}},measure:{line:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},border:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"},balloon:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},border:{width:1,strokeColor:"darkgray",strokeEnabled:!0,lineStyle:t.LineStyle.SOLID},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"}}},measureTool:{line:{width:1,strokeColor:"black"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"rgba(255, 255, 255, 0.8)"}},abstract:{line:{strokeColor:"#555",width:1},fill:{fillColor:"rgba(255, 255, 255, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},trendAngle:{line:{strokeColor:"#555",width:1},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""},arc:{strokeColor:"#555",width:1,lineStyle:"dot"},horizontalLine:{strokeColor:"#555",width:1,lineStyle:"dot"}},abstractMarker:{fill:{fillColor:"#555"}},fibonacci:{trendLine:{strokeColor:"black",width:1,lineStyle:"dash"},line:{strokeColor:"black",width:1},fill:{fillColor:"rgba(0, 0, 0, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"black"}},arrowUp:{fill:{fillColor:"limegreen"}},arrowDown:{fill:{fillColor:"red"}},text:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},image:{noImage:{line:{strokeColor:"red",width:1}}}},tooltip:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"black",fontWeight:"normal",fontStyle:"normal",decoration:""},border:{enabled:!0,width:1,color:"#15C",lineStyle:t.LineStyle.SOLID},fill:{enabled:!0,color:"white"}},spread:{ask:{line:{width:1,strokeColor:"#00D533"},valueMarker:{fill:{fillColor:"#00D533"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}},bid:{line:{width:1,strokeColor:"#F20500"},valueMarker:{fill:{fillColor:"#F20500"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}}},highlightedColumn:{fill:{fillColor:"rgba(90, 130, 182, 0.45)"}},button:{accept:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"green",width:1}},cancel:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"red",width:1}},none:{fill:{fillColor:"#BDBDBD"}}},positionBar:{short:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},long:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},orderBar:{buy:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}},sell:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}}}},Orange:{name:"Orange",scrollingPanelBackgroud:{fill:{fillColor:"#000"}},chart:{background:["rgb(255, 255, 255)","rgb(255, 255, 255)"],border:{width:1,strokeColor:"grey",lineStyle:"solid"},instrumentWatermark:{symbol:{fontFamily:"Arial",fontSize:70,fontStyle:"normal",fillColor:"#0d0d0d"},details:{fontFamily:"Arial",fontSize:40,fontStyle:"normal",fillColor:"#1b1b1b"}}},splitter:{fillColor:"#999",hoverFillColor:"#DDD"},chartPanel:{grid:{width:1,strokeColor:"#CCC"},title:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"}},valueScale:{fill:{fillColor:"#f1dcd4"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},valueMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"}}},dateScale:{fill:{fillColor:"#f1dcd4"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},dateMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"},stroke:{strokePriority:"color",strokeColor:"#696969",width:1,lineStyle:t.LineStyle.SOLID,lineJoin:"miter",lineCap:"butt"}},breakLine:{stroke:{strokeColor:"red",width:1,lineStyle:t.LineStyle.DASH}}},crossHair:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},line:{width:1,strokeColor:"#333",lineStyle:"dashed"},fill:{fillColor:"#696969"}},zoomIn:{border:{width:1,strokeColor:"darkgray",lineStyle:"solid"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},plot:{point:{dot:{fill:{fillColor:"#555"}}},line:{simple:{width:1,strokeColor:"#555"},mountain:{line:{width:1,strokeColor:"#555"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},step:{width:1,strokeColor:"#555"}},histogram:{line:{width:1,strokeColor:"#555"},coloredLine:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},column:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"blue"}},coloredColumn:{upBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"green"}},downBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"red"}}}},bar:{OHLC:{width:1,strokeColor:"#555"},HLC:{width:1,strokeColor:"#555"},HL:{width:1,strokeColor:"#555"},coloredOHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHL:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},candle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},heikinAshi:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},renko:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},lineBreak:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"green"},fill:{fillEnabled:!0,fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"red"},fill:{fillEnabled:!0,fillColor:"red"}}},hollowCandle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}},upHollowCandle:{border:{width:1,strokeColor:"green"},wick:{width:1,strokeColor:"green"}},downHollowCandle:{border:{width:1,strokeColor:"red"},wick:{width:1,strokeColor:"red"}}},pointAndFigure:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},kagi:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},candleVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},equiVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},equiVolumeShadow:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}}},indicator:{line1:{width:1,lineStyle:"solid",strokeColor:"#505050"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"yellow"},histogram:{color:"#32CD32"},blackText:{fontFamily:"Arial",fontSize:10,fontStyle:"normal",fillColor:"black"},levels:{line1:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FFD500"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"#808080"}}}},selectionMarker:{line:{strokeColor:"#777",width:1},fill:{fillColor:"black"}},drawing:{note:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"#15C"},centerPointFill:{fillColor:"white"}},measure:{line:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},border:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"},balloon:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},border:{width:1,strokeColor:"darkgray",strokeEnabled:!0,lineStyle:t.LineStyle.SOLID},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"}}},measureTool:{line:{width:1,strokeColor:"black"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"rgba(255, 255, 255, 0.8)"}},abstract:{line:{strokeColor:"#555",width:1},fill:{fillColor:"rgba(255, 255, 255, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},trendAngle:{line:{strokeColor:"#555",width:1},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""},arc:{strokeColor:"#555",width:1,lineStyle:"dot"},horizontalLine:{strokeColor:"#555",width:1,lineStyle:"dot"}},abstractMarker:{fill:{fillColor:"#555"}},fibonacci:{trendLine:{strokeColor:"black",width:1,lineStyle:"dash"},line:{strokeColor:"black",width:1},fill:{fillColor:"rgba(0, 0, 0, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"black"}},arrowUp:{fill:{fillColor:"limegreen"}},arrowDown:{fill:{fillColor:"red"}},text:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},image:{noImage:{line:{strokeColor:"red",width:1}}}},tooltip:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"black",fontWeight:"normal",fontStyle:"normal",decoration:""},border:{enabled:!0,width:1,color:"#15C",lineStyle:t.LineStyle.SOLID},fill:{enabled:!0,color:"white"}},spread:{ask:{line:{width:1,strokeColor:"#00D533"},valueMarker:{fill:{fillColor:"#00D533"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}},bid:{line:{width:1,strokeColor:"#F20500"},valueMarker:{fill:{fillColor:"#F20500"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}}},highlightedColumn:{fill:{fillColor:"rgba(90, 130, 182, 0.45)"}},button:{accept:{fill:{fillColor:"#A07B76"},line:{strokeColor:"green",width:1}},cancel:{fill:{fillColor:"#A07B76"},line:{strokeColor:"red",width:1}},none:{fill:{fillColor:"#A07B76"}}},positionBar:{short:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},long:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},orderBar:{buy:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}},sell:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}}}},Purple:{name:"Purple",scrollingPanelBackgroud:{fill:{fillColor:"#000"}},chart:{background:["rgb(255, 255, 255)","rgb(255, 255, 255)"],border:{width:1,strokeColor:"grey",lineStyle:"solid"},instrumentWatermark:{symbol:{fontFamily:"Arial",fontSize:70,fontStyle:"normal",fillColor:"#0d0d0d"},details:{fontFamily:"Arial",fontSize:40,fontStyle:"normal",fillColor:"#1b1b1b"}}},splitter:{fillColor:"#999",hoverFillColor:"#DDD"},chartPanel:{grid:{width:1,strokeColor:"#CCC"},title:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"}},valueScale:{fill:{fillColor:"#e5dfee"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},valueMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"}}},dateScale:{fill:{fillColor:"#e5dfee"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},dateMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"},stroke:{strokePriority:"color",strokeColor:"#696969",width:1,lineStyle:t.LineStyle.SOLID,lineJoin:"miter",lineCap:"butt"}},breakLine:{stroke:{strokeColor:"red",width:1,lineStyle:t.LineStyle.DASH}}},crossHair:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},line:{width:1,strokeColor:"#333",lineStyle:"dashed"},fill:{fillColor:"#696969"}},zoomIn:{border:{width:1,strokeColor:"darkgray",lineStyle:"solid"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},plot:{point:{dot:{fill:{fillColor:"#555"}}},line:{simple:{width:1,strokeColor:"#555"},mountain:{line:{width:1,strokeColor:"#555"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},step:{width:1,strokeColor:"#555"}},histogram:{line:{width:1,strokeColor:"#555"},coloredLine:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},column:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"blue"}},coloredColumn:{upBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"green"}},downBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"red"}}}},bar:{OHLC:{width:1,strokeColor:"#555"},HLC:{width:1,strokeColor:"#555"},HL:{width:1,strokeColor:"#555"},coloredOHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHL:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},candle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},heikinAshi:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},renko:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},lineBreak:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"green"},fill:{fillEnabled:!0,fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"red"},fill:{fillEnabled:!0,fillColor:"red"}}},hollowCandle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}},upHollowCandle:{border:{width:1,strokeColor:"green"},wick:{width:1,strokeColor:"green"}},downHollowCandle:{border:{width:1,strokeColor:"red"},wick:{width:1,strokeColor:"red"}}},pointAndFigure:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},kagi:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},candleVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},equiVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},equiVolumeShadow:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}}},indicator:{line1:{width:1,lineStyle:"solid",strokeColor:"#505050"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"yellow"},histogram:{color:"#32CD32"},blackText:{fontFamily:"Arial",fontSize:10,fontStyle:"normal",fillColor:"black"},levels:{line1:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FFD500"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"#808080"}}}},selectionMarker:{line:{strokeColor:"#777",width:1},fill:{fillColor:"black"}},drawing:{note:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"#15C"},centerPointFill:{fillColor:"white"}},measure:{line:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},border:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"},balloon:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},border:{width:1,strokeColor:"darkgray",strokeEnabled:!0,lineStyle:t.LineStyle.SOLID},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"}}},measureTool:{line:{width:1,strokeColor:"black"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"rgba(255, 255, 255, 0.8)"}},abstract:{line:{strokeColor:"#555",width:1},fill:{fillColor:"rgba(255, 255, 255, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},trendAngle:{line:{strokeColor:"#555",width:1},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""},arc:{strokeColor:"#555",width:1,lineStyle:"dot"},horizontalLine:{strokeColor:"#555",width:1,lineStyle:"dot"}},abstractMarker:{fill:{fillColor:"#555"}},fibonacci:{trendLine:{strokeColor:"black",width:1,lineStyle:"dash"},line:{strokeColor:"black",width:1},fill:{fillColor:"rgba(0, 0, 0, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"black"}},arrowUp:{fill:{fillColor:"limegreen"}},arrowDown:{fill:{fillColor:"red"}},text:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},image:{noImage:{line:{strokeColor:"red",width:1}}}},tooltip:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"black",fontWeight:"normal",fontStyle:"normal",decoration:""},border:{enabled:!0,width:1,color:"#15C",lineStyle:t.LineStyle.SOLID},fill:{enabled:!0,color:"white"}},spread:{ask:{line:{width:1,strokeColor:"#00D533"},valueMarker:{fill:{fillColor:"#00D533"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}},bid:{line:{width:1,strokeColor:"#F20500"},valueMarker:{fill:{fillColor:"#F20500"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}}},highlightedColumn:{fill:{fillColor:"rgba(90, 130, 182, 0.45)"}},button:{accept:{fill:{fillColor:"#8F809A"},line:{strokeColor:"green",width:1}},cancel:{fill:{fillColor:"#8F809A"},line:{strokeColor:"red",width:1}},none:{fill:{fillColor:"#8F809A"}}},positionBar:{short:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},long:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},orderBar:{buy:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}},sell:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}}}},Sky:{name:"Sky",scrollingPanelBackgroud:{fill:{fillColor:"#000"}},chart:{background:["rgb(255, 255, 255)","rgb(255, 255, 255)"],border:{width:1,strokeColor:"grey",lineStyle:"solid"},instrumentWatermark:{symbol:{fontFamily:"Arial",fontSize:70,fontStyle:"normal",fillColor:"#0d0d0d"},details:{fontFamily:"Arial",fontSize:40,fontStyle:"normal",fillColor:"#1b1b1b"}}},splitter:{fillColor:"#999",hoverFillColor:"#DDD"},chartPanel:{grid:{width:1,strokeColor:"#CCC"},title:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"}},valueScale:{fill:{fillColor:"#d6e2f0"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},valueMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"}}},dateScale:{fill:{fillColor:"#d6e2f0"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},dateMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"},stroke:{strokePriority:"color",strokeColor:"#696969",width:1,lineStyle:t.LineStyle.SOLID,lineJoin:"miter",lineCap:"butt"}},breakLine:{stroke:{strokeColor:"red",width:1,lineStyle:t.LineStyle.DASH}}},crossHair:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},line:{width:1,strokeColor:"#333",lineStyle:"dashed"},fill:{fillColor:"#696969"}},zoomIn:{border:{width:1,strokeColor:"darkgray",lineStyle:"solid"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},plot:{point:{dot:{fill:{fillColor:"#555"}}},line:{simple:{width:1,strokeColor:"#555"},mountain:{line:{width:1,strokeColor:"#555"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},step:{width:1,strokeColor:"#555"}},histogram:{line:{width:1,strokeColor:"#555"},coloredLine:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},column:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"blue"}},coloredColumn:{upBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"green"}},downBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"red"}}}},bar:{OHLC:{width:1,strokeColor:"#555"},HLC:{width:1,strokeColor:"#555"},HL:{width:1,strokeColor:"#555"},coloredOHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHL:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},candle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},heikinAshi:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},renko:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},lineBreak:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"green"},fill:{fillEnabled:!0,fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"red"},fill:{fillEnabled:!0,fillColor:"red"}}},hollowCandle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}},upHollowCandle:{border:{width:1,strokeColor:"green"},wick:{width:1,strokeColor:"green"}},downHollowCandle:{border:{width:1,strokeColor:"red"},wick:{width:1,strokeColor:"red"}}},pointAndFigure:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},kagi:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},candleVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},equiVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},equiVolumeShadow:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}}},indicator:{line1:{width:1,lineStyle:"solid",strokeColor:"#505050"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"yellow"},histogram:{color:"#32CD32"},blackText:{fontFamily:"Arial",fontSize:10,fontStyle:"normal",fillColor:"black"},levels:{line1:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FFD500"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"#808080"}}}},selectionMarker:{line:{strokeColor:"#777",width:1},fill:{fillColor:"black"}},drawing:{note:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"#15C"},centerPointFill:{fillColor:"white"}},measure:{line:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},border:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"},balloon:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},border:{width:1,strokeColor:"darkgray",strokeEnabled:!0,lineStyle:t.LineStyle.SOLID},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"}}},measureTool:{line:{width:1,strokeColor:"black"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"rgba(255, 255, 255, 0.8)"}},abstract:{line:{strokeColor:"#555",width:1},fill:{fillColor:"rgba(255, 255, 255, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},trendAngle:{line:{strokeColor:"#555",width:1},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""},arc:{strokeColor:"#555",width:1,lineStyle:"dot"},horizontalLine:{strokeColor:"#555",width:1,lineStyle:"dot"}},abstractMarker:{fill:{fillColor:"#555"}},fibonacci:{trendLine:{strokeColor:"black",width:1,lineStyle:"dash"},line:{strokeColor:"black",width:1},fill:{fillColor:"rgba(0, 0, 0, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"black"}},arrowUp:{fill:{fillColor:"limegreen"}},arrowDown:{fill:{fillColor:"red"}},text:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},image:{noImage:{line:{strokeColor:"red",width:1}}}},tooltip:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"black",fontWeight:"normal",fontStyle:"normal",decoration:""},border:{enabled:!0,width:1,color:"#15C",lineStyle:t.LineStyle.SOLID},fill:{enabled:!0,color:"white"}},spread:{ask:{line:{width:1,strokeColor:"#00D533"},valueMarker:{fill:{fillColor:"#00D533"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}},bid:{line:{width:1,strokeColor:"#F20500"},valueMarker:{fill:{fillColor:"#F20500"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}}},highlightedColumn:{fill:{fillColor:"rgba(90, 130, 182, 0.45)"}},button:{accept:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"green",width:1}},cancel:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"red",width:1}},none:{fill:{fillColor:"#BDBDBD"}}},positionBar:{short:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},long:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},orderBar:{buy:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}},sell:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}}}},Teal:{name:"Teal",scrollingPanelBackgroud:{fill:{fillColor:"#000"}},chart:{background:["rgb(255, 255, 255)","rgb(255, 255, 255)"],border:{width:1,strokeColor:"grey",lineStyle:"solid"},instrumentWatermark:{symbol:{fontFamily:"Arial",fontSize:70,fontStyle:"normal",fillColor:"#0d0d0d"},details:{fontFamily:"Arial",fontSize:40,fontStyle:"normal",fillColor:"#1b1b1b"}}},splitter:{fillColor:"#999",hoverFillColor:"#DDD"},chartPanel:{grid:{width:1,strokeColor:"#CCC"},title:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"}},valueScale:{fill:{fillColor:"#dee5e5"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},valueMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"}}},dateScale:{fill:{fillColor:"#dee5e5"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"#333"},line:{width:1,strokeColor:"#CCC"},border:{width:1,strokeColor:"#CCC",lineStyle:"solid"},dateMarker:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"green"},stroke:{strokePriority:"color",strokeColor:"#696969",width:1,lineStyle:t.LineStyle.SOLID,lineJoin:"miter",lineCap:"butt"}},breakLine:{stroke:{strokeColor:"red",width:1,lineStyle:t.LineStyle.DASH}}},crossHair:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"white"},line:{width:1,strokeColor:"#333",lineStyle:"dashed"},fill:{fillColor:"#696969"}},zoomIn:{border:{width:1,strokeColor:"darkgray",lineStyle:"solid"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},plot:{point:{dot:{fill:{fillColor:"#555"}}},line:{simple:{width:1,strokeColor:"#555"},mountain:{line:{width:1,strokeColor:"#555"},fill:{fillColor:"rgba(0, 0, 255, 0.5)"}},step:{width:1,strokeColor:"#555"}},histogram:{line:{width:1,strokeColor:"#555"},coloredLine:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},column:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"blue"}},coloredColumn:{upBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"green"}},downBar:{line:{strokeEnabled:!1,width:1,strokeColor:"#555"},fill:{fillColor:"red"}}}},bar:{OHLC:{width:1,strokeColor:"#555"},HLC:{width:1,strokeColor:"#555"},HL:{width:1,strokeColor:"#555"},coloredOHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHLC:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},coloredHL:{upBar:{width:1,strokeColor:"green"},downBar:{width:1,strokeColor:"red"}},candle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},heikinAshi:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},renko:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},lineBreak:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"green"},fill:{fillEnabled:!0,fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"red"},fill:{fillEnabled:!0,fillColor:"red"}}},hollowCandle:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}},upHollowCandle:{border:{width:1,strokeColor:"green"},wick:{width:1,strokeColor:"green"}},downHollowCandle:{border:{width:1,strokeColor:"red"},wick:{width:1,strokeColor:"red"}}},pointAndFigure:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},kagi:{upCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"green"}},downCandle:{border:{strokeEnabled:!0,width:1,strokeColor:"red"}}},candleVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"green"},wick:{width:1,strokeColor:"#555"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"white"},fill:{fillColor:"red"},wick:{width:1,strokeColor:"#555"}}},equiVolume:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}},equiVolumeShadow:{upCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"green"}},downCandle:{border:{strokeEnabled:!1,width:1,strokeColor:"#CCC"},fill:{fillColor:"red"}}}},indicator:{line1:{width:1,lineStyle:"solid",strokeColor:"#505050"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,strokeColor:"#FF0000"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"yellow"},histogram:{color:"#32CD32"},blackText:{fontFamily:"Arial",fontSize:10,fontStyle:"normal",fillColor:"black"},levels:{line1:{width:1,lineStyle:"solid",strokeColor:"#FF0000"},line2:{width:1,lineStyle:"solid",strokeColor:"#32CD32"},line3:{width:1,lineStyle:"solid",strokeColor:"#FFD500"},line4:{width:1,lineStyle:"solid",strokeColor:"#0000FF"},line5:{width:1,lineStyle:"solid",strokeColor:"#808080"}}}},selectionMarker:{line:{strokeColor:"#777",width:1},fill:{fillColor:"black"}},drawing:{note:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"#15C"},centerPointFill:{fillColor:"white"}},measure:{line:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},border:{width:1,strokeColor:"white",strokeEnabled:!0,lineStyle:t.LineStyle.DASH},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"},balloon:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},border:{width:1,strokeColor:"darkgray",strokeEnabled:!0,lineStyle:t.LineStyle.SOLID},fill:{fillEnabled:!0,fillColor:"rgba(0, 0, 255, 0.5)"}}},measureTool:{line:{width:1,strokeColor:"black"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"black"},fill:{fillColor:"rgba(255, 255, 255, 0.8)"}},abstract:{line:{strokeColor:"#555",width:1},fill:{fillColor:"rgba(255, 255, 255, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},trendAngle:{line:{strokeColor:"#555",width:1},text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""},arc:{strokeColor:"#555",width:1,lineStyle:"dot"},horizontalLine:{strokeColor:"#555",width:1,lineStyle:"dot"}},abstractMarker:{fill:{fillColor:"#555"}},fibonacci:{trendLine:{strokeColor:"black",width:1,lineStyle:"dash"},line:{strokeColor:"black",width:1},fill:{fillColor:"rgba(0, 0, 0, 0.3)"},text:{fontFamily:"Calibri",fontSize:12,fillColor:"black"}},arrowUp:{fill:{fillColor:"limegreen"}},arrowDown:{fill:{fillColor:"red"}},text:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"#555",decoration:""}},image:{noImage:{line:{strokeColor:"red",width:1}}}},tooltip:{text:{fontFamily:"Calibri",fontSize:12,fillColor:"black",fontWeight:"normal",fontStyle:"normal",decoration:""},border:{enabled:!0,width:1,color:"#15C",lineStyle:t.LineStyle.SOLID},fill:{enabled:!0,color:"white"}},spread:{ask:{line:{width:1,strokeColor:"#00D533"},valueMarker:{fill:{fillColor:"#00D533"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}},bid:{line:{width:1,strokeColor:"#F20500"},valueMarker:{fill:{fillColor:"#F20500"},text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"white"}}}},highlightedColumn:{fill:{fillColor:"rgba(90, 130, 182, 0.45)"}},button:{accept:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"green",width:1}},cancel:{fill:{fillColor:"#BDBDBD"},line:{strokeColor:"red",width:1}},none:{fill:{fillColor:"#BDBDBD"}}},positionBar:{short:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},long:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},orderBar:{buy:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"green",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"green"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}},sell:{market:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stop:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},limit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}},stopLimit:{pendingSubmit:{line:{strokeColor:"grey",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"grey"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingCancel:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},pendingReplace:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},submitted:{line:{strokeColor:"orange",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fontStyle:"normal",fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"orange"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}},accepted:{line:{strokeColor:"red",width:1},kind:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},quantity:{text:{fontFamily:"Calibri",fontSize:11,fillColor:"black",decoration:""}},price:{fill:{fillColor:"red"},text:{fontFamily:"Calibri",fontSize:11,fillColor:"white",decoration:""}}}}}}}}}(StockChartX=StockChartX||{});__awaiter=this&&this.__awaiter||function(n,a,l,s){return new(l=l||Promise)(function(t,e){function i(t){try{r(s.next(t))}catch(t){e(t)}}function o(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new l(function(t){t(e.value)}).then(i,o)}r((s=s.apply(n,a||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(n,e[1])).done)return a;switch(n=0,(e=a?[0,a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,n=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],n=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};!function(i){"use strict";var t=this,o=jQuery,e="scxThemes",r=(n.save=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,(new i.LocalDataStore).save(e,JSON.stringify(i.Theme))];case 1:return t.sent(),[2]}})})},n.load=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,(new i.LocalDataStore).load(e)];case 1:return[2,t.sent()]}})})},n.autoSave=!1,n);function n(){}i.ThemeStore=r,o(function(){return __awaiter(t,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,r.load()];case 1:return e=t.sent(),i.Theme=o.extend(!0,{},i.Theme,e?JSON.parse(e):null),[3,3];case 2:return t.sent(),i.UI.Notification.error("Themes are not loaded."),[3,3];case 3:return o(window).on("beforeunload.scxThemeStore",function(){r.autoSave&&r.save()}),[2]}})})})}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(Object.defineProperty(i.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),i.prototype.clone=function(){return new i(this)},i.prototype.equals=function(t){return t&&this.left===t.left&&this.top===t.top&&this.width===t.width&&this.height===t.height},i.prototype.toString=function(){return"[left: "+this.left+", top: "+this.top+", width: "+this.width+", height: "+this.height+"]"},i.prototype.containsPoint=function(t){return t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom},i.prototype.cropLeft=function(t){t=t.right;this.left<t&&(this.width=this.right-t,this.left=t)},i.prototype.cropRight=function(t){this.right>=t.left&&(this.width=t.left-1-this.left)},i.prototype.cropTop=function(t){t=t.bottom;this.top<t&&(this.height=this.bottom-t,this.top=t)},i.prototype.cropBottom=function(t){this.bottom>t.top&&(this.height=t.top-this.top)},i.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},i.prototype.applyPadding=function(t){t.left&&(this.left+=t.left,this.width-=t.left),t.top&&(this.top+=t.top,this.height-=t.top),t.right&&(this.width-=t.right),t.bottom&&(this.height-=t.bottom)},i);function i(t){this.left=0,this.top=0,this.width=0,this.height=0,this.left=(t=t||{}).left||0,this.top=t.top||0,this.width=t.width||0,this.height=t.height||0}t.Rect=e}(StockChartX=StockChartX||{}),function(t){"use strict";var r;(r=t.Geometry||(t.Geometry={})).REGULAR_DEVIATION=t.Environment.isMobile?20:5,r.MAGNET_DEVIATION=t.Environment.isMobile?40:15,r.DEVIATION=r.REGULAR_DEVIATION,r.length=function(t,e){var i=Math.abs(e.x-t.x),t=Math.abs(e.y-t.y),t=Math.sqrt(i*i+t*t);return Math.round(t)},r.xProjectionLength=function(t,e){return Math.abs(t.x-e.x)},r.yProjectionLength=function(t,e){return Math.abs(t.y-e.y)},r.isValueNearValue=function(t,e){return Math.abs(t-e)<=r.DEVIATION},r.isValueBetweenOrNearValues=function(t,e,i){return t>=Math.min(e,i)-r.DEVIATION&&t<=Math.max(e,i)+r.DEVIATION},r.isPointNearPoint=function(t,e){if(Array.isArray(e)){for(var i=0,o=e;i<o.length;i++){var r=o[i];if(this.isPointNearPoint(t,r))return!0}return!1}return this.isValueNearValue(t.x,e.x)&&this.isValueNearValue(t.y,e.y)},r.isPointNearRectPoints=function(t,e,i){var o=Math.min(e.x,i.x),r=Math.max(e.x,i.x),n=Math.min(e.y,i.y),i=Math.max(e.y,i.y);return!!this.isPointNearLine(t,{x:o,y:i},{x:o,y:n})||(!!this.isPointNearLine(t,{x:o,y:n},{x:r,y:n})||(!!this.isPointNearLine(t,{x:r,y:n},{x:r,y:i})||this.isPointNearLine(t,{x:r,y:i},{x:o,y:i})))},r.isPointInsideOrNearRect=function(t,e){return this.isValueBetweenOrNearValues(t.x,e.left,e.left+e.width)&&this.isValueBetweenOrNearValues(t.y,e.top,e.top+e.height)},r.isPointInsideOrNearRectPoints=function(t,e,i){var o=Math.min(e.x,i.x),r=Math.max(e.x,i.x),n=Math.min(e.y,i.y),i=Math.max(e.y,i.y);return this.isValueBetweenOrNearValues(t.x,o,r)&&this.isValueBetweenOrNearValues(t.y,n,i)},r.isPointNearCircle=function(t,e,i){return t=this.length(e,t),i="number"==typeof i?i:this.length(e,i),this.isValueNearValue(t,i)},r.isPointInsideOrNearCircle=function(t,e,i){return t=this.length(e,t),i="number"==typeof i?i:this.length(e,i),this.isValueBetweenOrNearValues(t,0,i)},r.isPointNearPolygon=function(t,e){if(e.length<2)return!1;for(var i=0;i<e.length-1;i++)if(this.isPointNearLine(t,e[i],e[i+1]))return!0;return this.isPointNearLine(t,e[e.length-1],e[0])},r.isPointNearLine=function(t,e,i){if(!this.isPointInsideOrNearRectPoints(t,e,i))return!1;if(Math.abs(e.x-i.x)<=r.DEVIATION)return!0;var o=(e.y-i.y)/(e.x-i.x),i=Math.abs(180*Math.atan(o)/Math.PI);if(Math.abs(i-90)<=10||Math.abs(i-270)<=10){i=(t.y-(e.y-e.x*o))/o;return this.isValueNearValue(i,t.x)}return e=e.y+o*(t.x-e.x),this.isValueNearValue(e,t.y)},r.isPointNearPolyline=function(t,e){for(var i=0,o=e.length;i<o-1;i++)if(this.isPointNearLine(t,e[i],e[i+1]))return!0;return!1},r.isPointNearEllipse=function(t,e,i){var o=Math.abs(i.x-e.x),i=Math.abs(i.y-e.y);return this.isPointNearEllipseWithRadiuses(t,e,o,i)},r.isPointNearEllipseWithRadiuses=function(t,e,i,o){var r=t.x-e.x,e=t.y-e.y;return.8<(o=r*r/(i*i)+e*e/(o*o))&&o<1.3},r.intersectionPoints=function(t,e,i,o){var r=(t.x-e.x)*(o.y-i.y)-(t.y-e.y)*(o.x-i.x),o=(t.x-i.x)*(o.y-i.y)-(t.y-i.y)*(o.x-i.x),i=(t.x-e.x)*(t.y-i.y)-(t.y-e.y)*(t.x-i.x),o=0==o&&0==r?0:o/r,r=0==i&&0==r?0:i/r;if(0<=o&&o<=1&&0<=r&&r<=1)return{x:t.x+o*(e.x-t.x),y:t.y+o*(e.y-t.y)}}}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(i.prototype.suppressEvents=function(t){var e=this._suppressEvents;return this._suppressEvents=t=void 0===t?!0:t,e},i.prototype.on=function(t,e,i){return this._eventsDispatcher.on(t,e,i),this},i.prototype.off=function(t,e){return this._eventsDispatcher.off(t,e),this},i.prototype.fire=function(t,e){this._suppressEvents||(e&&(e.sender=this),this._eventsDispatcher.fire(t,e))},i.prototype.fireValueChanged=function(t,e,i){this.fireTargetValueChanged(this,t,e,i)},i.prototype.fireTargetValueChanged=function(t,e,i,o){var r;this._suppressEvents||((r=this._event).target=t||this,r.value=i,r.oldValue=o,this.fire(e,r))},i);function i(){this._eventsDispatcher=new t.EventsDispatcher,this._suppressEvents=!1,this._event={type:null,sender:this,target:this,value:void 0,oldValue:void 0}}t.EventableObject=e}(StockChartX=StockChartX||{}),function(c){"use strict";c.EVENT_DELIMITER=" ";var t=(e.prototype.on=function(t,e,i){for(var t=t.split(c.EVENT_DELIMITER),o=this._listeners,r=0,n=t;r<n.length;r++){var a,l=n[r];l&&(l=(a=l.split("."))[0],a=a[1]||"",o[l]||(o[l]=[]),o[l].push({name:a,handler:e,target:i}))}},e.prototype.off=function(t,e){for(var i=0,o=t.split(c.EVENT_DELIMITER);i<o.length;i++){var r=o[i];if(r){var n=r.split("."),r=n[0],a=n[1]||"";if(r)this._off(r,a,e);else{var l,s=this._listeners;for(l in s)s.hasOwnProperty(l)&&this._off(l,a,e)}}}},e.prototype._off=function(t,e,i){e=e||"";var o=this._listeners[t];if(o){for(var r=0;r<o.length;r++)o[r].name!==e||i&&i!==o[r].target||(o.splice(r,1),r--);0===o.length&&delete this._listeners[t]}},e.prototype.fire=function(t,e){var i=this._listeners[t];if(i){(e=e||{}).type=t;for(var o=0,r=i;o<r.length;o++)r[o].handler(e)}},e);function e(){this._listeners={}}c.EventsDispatcher=t}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(i.prototype.suppressEvents=function(t){var e=this._suppressEvents;return this._suppressEvents=t=void 0===t?!0:t,e},i.prototype.fire=function(t,e,i){var o=this.chart;o&&!this._suppressEvents&&o.fireTargetValueChanged(this,t,e,i)},i);function i(){this._suppressEvents=!1}t.ChartEventsExtender=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__awaiter=this&&this.__awaiter||function(n,a,l,s){return new(l=l||Promise)(function(t,e){function i(t){try{r(s.next(t))}catch(t){e(t)}}function o(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new l(function(t){t(e.value)}).then(i,o)}r((s=s.apply(n,a||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(n,e[1])).done)return a;switch(n=0,(e=a?[0,a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,n=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],n=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};!function(h){"use strict";var c=jQuery,n=30,a=0;h.ViewsPath="view/",h.ChartState={NORMAL:0,RESIZING_PANELS:1,USER_DRAWING:2,ZOOM_IN:3},Object.freeze(h.ChartState),h.ChartEvent={WINDOW_MODE_CHANGED:"chartWindowModeChanged",TOOLBAR_LOADED:"chartToolbarLoaded",SCROLLBAR_LOADED:"chartScrollbarLoaded",STATE_CHANGED:"chartStateChanged",TIME_INTERVAL_CHANGED:"chartTimeIntervalChanged",INDICATOR_ADDED:"chartIndicatorAdded",INDICATOR_REMOVED:"chartIndicatorRemoved",THEME_CHANGED:"chartThemeChanged",GLOBAL_THEME_CHANGED:"chartGlobalThemeChanged",PRICE_STYLE_CHANGED:"chartPriceStyleChanged",HOVER_RECORD_CHANGED:"chartHoverRecordChanged",INSTRUMENT_CHANGED:"chartInstrumentChanged",SYMBOL_ENTERED:"chartSymbolEntered",TIME_FRAME_CHANGED:"chartTimeFrameChanged",CROSS_HAIR_CHANGED:"chartCrossHairChanged",STATE_LOADED:"chartStateLoaded",LOCALE_CHANGED:"chartLocaleChanged",ENABLE_KEYBOARD_EVENTS_CHANGED:"chartEnableKeyboardEventsChanged",ENABLE_MOUSE_EVENTS_CHANGED:"chartEnableMouseEventsChanged",VALUE_SCALE_ADDED:"chartValueScaleAdded",VALUE_SCALE_REMOVED:"chartValueScaleRemoved",USER_DRAWING_STARTED:"chartUserDrawingStarted",USER_DRAWING_FINISHED:"chartUserDrawingFinished",USER_DRAWING_CANCELLED:"chartUserDrawingCancelled",PANEL_ADDED:"chartPanelAdded",PANEL_REMOVED:"chartPanelRemoved",DATE_SCALE_THEME_CHANGED:"dateScaleThemeChanged",FIRST_VISIBLE_RECORD_CHANGED:"firstVisibleRecordChanged",LAST_VISIBLE_RECORD_CHANGED:"lastVisibleRecordChanged",HISTORY_LOADED:"chartHistoryLoaded",MORE_HISTORY_REQUESTED:"chartMoreHistoryRequested",ZOOM_IN_STARTED:"chartZoomInStarted",ZOOM_IN_FINISHED:"chartZoomInFinished",ZOOM_IN_CANCELLED:"chartZoomInCancelled",SHOW_INSTRUMENT_WATERMARK_CHANGED:"chartShowInstrumentWatermarkChanged",HIGHLIGHTED_COLUMN_ADDED:"highlightedColumnAdded",HIGHLIGHTED_COLUMN_REMOVED:"highlightedColumnRemoved",SHOW_WAITING_BAR:"showWaitingBar",HIDE_WAITING_BAR:"hideWaitingBar"},Object.freeze(h.ChartEvent);var t="scxRootContainer",e="scxContainer",o="scxBackground",i="scxUnSelective",r="scxTheme",l={interval:1,periodicity:h.Periodicity.DAY};h.DEFAULT_BARS_COUNT=384,h.DEFAULT_QUANTITY=1;var s=".scxChart",u="localize";h.version="2.22.2";var f,d=(f=h.EventableObject,__extends(p,f),Object.defineProperty(p,"version",{get:function(){return h.version},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"rootDiv",{get:function(){return this._rootDiv},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dateScale",{get:function(){return this._dateScale},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"valueScales",{get:function(){return this._valueScales},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"valueScale",{get:function(){return this._valueScales[0]},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"chartPanelsContainer",{get:function(){return this._chartPanelsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dataManager",{get:function(){return this._dataManager},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"timeInterval",{get:function(){return h.TimeFrame.timeFrameToTimeInterval(this.timeFrame)},set:function(t){t=parseInt(t,10);if(!h.JsUtil.isPositiveNumber(t))throw new Error("Time interval must be greater than 0.");this._timeFrame=h.TimeFrame.timeIntervalToTimeFrame(t),this.fireValueChanged(h.ChartEvent.TIME_INTERVAL_CHANGED,t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"timeFrame",{get:function(){return this._timeFrame},set:function(t){if(!h.JsUtil.isPositiveNumber(t.interval))throw new Error("Time frame must be greater than 0.");this._newBarsRequest={kind:h.RequestKind.BARS,startDate:this._startDate,endDate:this._endDate},this._timeFrame=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"chartPanelsFrame",{get:function(){return this._chartPanelsFrame},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"incomePercentagePrecision",{get:function(){return this._incomePercentagePrecision},set:function(t){if(t<0)throw new Error("Income percentage precision can't be negative");this._incomePercentagePrecision=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"incomePrecision",{get:function(){return this._incomePrecision},set:function(t){if(t<0)throw new Error("Income precision can't be negative");this._incomePrecision=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"instrument",{get:function(){return this._instrument},set:function(t){var e,i=this._instrument;i!==t&&(null==t.precision&&(e=t.tickSize.toString().split(".")[1],t.precision=null!=e?e.length:2),this._instrument=t,this._newBarsRequest={kind:h.RequestKind.BARS,startDate:this._startDate,endDate:this._endDate},this.fireValueChanged(h.ChartEvent.INSTRUMENT_CHANGED,t,i))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"indicators",{get:function(){return this._indicators},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"valueMarker",{get:function(){return this._valueMarker},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dateMarker",{get:function(){return this._dateMarker},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"locale",{get:function(){return this._options.locale},set:function(t){var e=this._options.locale;e!==t&&(this._options.locale=t,this.localize(),this.fireValueChanged(h.ChartEvent.LOCALE_CHANGED,t,e))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"keyboardEventsEnabled",{get:function(){return this._options.enableKeyboardEvents},set:function(t){this._options.enableKeyboardEvents=t,this.fireValueChanged(h.ChartEvent.ENABLE_KEYBOARD_EVENTS_CHANGED,this._options.enableKeyboardEvents)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"mouseEventsEnabled",{get:function(){return this._options.enableMouseEvents},set:function(t){this._options.enableMouseEvents=t,this.fireValueChanged(h.ChartEvent.ENABLE_MOUSE_EVENTS_CHANGED,this._options.enableMouseEvents)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"scrollEnabled",{get:function(){return this._options.scrollEnabled},set:function(t){this._options.scrollEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"zoomEnabled",{get:function(){return this._options.zoomEnabled},set:function(t){this._options.zoomEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"zoomAutoSave",{get:function(){return this._options.zoomAutoSave},set:function(t){this._options.zoomAutoSave=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"scale",{get:function(){return this._options.scale},set:function(t){if(t<=0)throw new Error("Please provide positive values more than 0");if(1===t)throw new Error("\n                    You can set 1 only in the initial config, it depends on canvas restrictions.\n                    https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/scale\n                ");this._options.scale=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"theme",{get:function(){return this._options.theme},set:function(t){var e=this._options.theme;this._options.theme=t,e&&c("body").removeClass(""+r+e.name),t&&t.name&&!h.Theme[t.name]&&(h.Theme[t.name]=t),this.applyTheme(),this.fireValueChanged(h.ChartEvent.THEME_CHANGED,t,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"showBarInfoInTitle",{get:function(){return this._options.showBarInfoInTitle},set:function(t){this._options.showBarInfoInTitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"showInstrumentWatermark",{get:function(){return this._options.showInstrumentWatermark},set:function(t){var e=this.showInstrumentWatermark;t!==e&&(this._options.showInstrumentWatermark=t,this.fireValueChanged(h.ChartEvent.SHOW_INSTRUMENT_WATERMARK_CHANGED,t,e))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"priceStyle",{get:function(){return this._priceStyle},set:function(t){var e,i,o,r,n=this.priceStyle;n!==t&&(r=this.dateRange(),this._priceStyle.destroy(),(t.chart=this)._priceStyle=t,this._priceStyle.apply(),i=(o=(e=this.dateScale).projection).recordByX(o.xByDate(r.startDate,!1),!1),o=o.recordByX(o.xByDate(r.endDate,!1),!1),(r=this.smartPriceStyleHandler)&&r.enabled||(e.canSetVisibleRecord(i)&&e.canSetVisibleRecord(o)?(this.firstVisibleRecord=i,this.lastVisibleRecord=o-1-i>this.recordCount?this.recordCount:o-1,this.lastVisibleRecord-this.firstVisibleRecord<e.minVisibleRecords?this.setNeedsAutoScaleAll():this.setNeedsAutoScale()):this.setNeedsAutoScaleAll()),this.fireValueChanged(h.ChartEvent.PRICE_STYLE_CHANGED,t,n))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"priceStyleKind",{get:function(){var t=this.priceStyle;return t&&t.constructor.className},set:function(t){var e=this.priceStyle,t=this.priceStyle=h.PriceStyle.create(t);e&&(t.showValueLines=e.showValueLines,t.extendValueLines=e.extendValueLines);for(var i=0,o=this.chartPanels;i<o.length;i++)o[i].handleResize()},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"hoveredRecord",{get:function(){return this._hoverRecord},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"crossHair",{get:function(){return this._crossHair},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"sessionBreakLines",{get:function(){return this._sessionBreakLines},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"selectedObject",{get:function(){return this._selectedObject},set:function(t){this._selectedObject=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"selectionMarker",{get:function(){return this._selectionMarker},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"showDrawings",{get:function(){return this._showDrawings},set:function(t){this._showDrawings=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"showDrawingTooltips",{get:function(){return this._showDrawingTooltips},set:function(t){this._showDrawingTooltips=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"stayInDrawingMode",{get:function(){return this._stayInDrawingMode},set:function(t){this._stayInDrawingMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"xGridVisible",{get:function(){return this._options.xGridVisible},set:function(t){this._options.xGridVisible=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"yGridVisible",{get:function(){return this._options.yGridVisible},set:function(t){this._options.yGridVisible=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"state",{get:function(){return this._state},set:function(t){var e=this._state;e!==t&&(this._state=t,this.fireValueChanged(h.ChartEvent.STATE_CHANGED,t,e))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"windowModeHandler",{get:function(){return this._windowModeHandler},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"windowMode",{get:function(){return this._windowModeHandler.mode},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"keyboardHandler",{get:function(){return this._keyboardHandler},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"size",{get:function(){return{width:this._rootDiv.width(),height:this._rootDiv.height()}},set:function(t){this._container.css("width","auto").css("height","auto"),this._rootDiv.width(t.width).height(t.height)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"cssSize",{get:function(){return this._cssSize},set:function(t){this._cssSize=t,this.windowMode===h.WindowMode.NORMAL&&(this._rootDiv.css(this._cssSize),this._container.css("width","").css("height",""))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"mainPanel",{get:function(){return this._priceStyle.chartPanel||this._chartPanelsContainer.panels[0]},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"recordCount",{get:function(){return this.primaryDataSeries(h.DataSeriesSuffix.DATE).length},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"firstVisibleRecord",{get:function(){return this._dateScale.firstVisibleRecord},set:function(t){this._dateScale.firstVisibleRecord=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"lastVisibleRecord",{get:function(){return this._dateScale.lastVisibleRecord},set:function(t){this._dateScale.lastVisibleRecord=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"firstVisibleIndex",{get:function(){return this._dateScale.firstVisibleIndex},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"lastVisibleIndex",{get:function(){return this._dateScale.lastVisibleIndex},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"chartPanels",{get:function(){return this._chartPanelsContainer.panels},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"barsCount",{get:function(){return this._barsCount},set:function(t){this._barsCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"spread",{get:function(){return this._spread},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"highlightedColumns",{get:function(){return this._highlightedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"crossHairType",{get:function(){return this._crossHair.crossHairType},set:function(t){this._crossHair.crossHairType=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"useWaitingBar",{get:function(){return this._useWaitingBar},set:function(t){this._useWaitingBar=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"zoomInView",{get:function(){return this._zoomInView},set:function(t){this._zoomInView=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"datafeed",{get:function(){return this._datafeed},set:function(t){this._datafeed=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"navigation",{get:function(){return this._navigation},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"toolbar",{get:function(){return this._toolbar},set:function(t){this._toolbar=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"scrollbar",{get:function(){return this._scrollbar},set:function(t){this._scrollbar=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"multiChartRootContainer",{get:function(){return this._multiChartRootContainer},set:function(t){this._multiChartRootContainer=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"smartPriceStyleHandler",{get:function(){return this._smartPriceStyleHandler},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"instrumentComparisonHandler",{get:function(){return this._instrumentComparisonHandler},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"readyLoadMoreHistory",{get:function(){return this._currentBarsRequest&&!this.datafeed.isRequestAlive(this._currentBarsRequest)&&this._instrumentComparisonHandler.readyLoadMoreHistory},enumerable:!0,configurable:!0}),p.prototype._handleLocalizeEvent=function(t,e){t.data.localize(e)},p.prototype._handleWindowResizeEvent=function(t,e){var i=t.data,o=i.cssSize;i.setNeedsLayout(),i.updateTradingPanelWidth(),"string"!=typeof o.width&&"string"!=typeof o.height||t.data.setNeedsUpdate(!0),this.scrollEnabled&&null!=this.scrollbar&&this.scrollbar.adjustDimensions(),i.setNeedsUpdate(!0)},p.prototype.updateTradingPanelWidth=function(){var t=this.theme.tradingPanel;t=t.tradingBarUnit===h.TradingPanelUnit.Pixels?t.tradingBarLength:(this.mainPanel.chartPanelsContainer.frame.width-this.valueScale.rightPanel.frame.width)*t.tradingBarLength/100,this.tradingPanelWidth=t/2},p.prototype.updateOHLVData=function(t){this.mainPanel.updateOHLVData(t)},p.prototype.localize=function(t){h.Localization.localize(this,t)},p.prototype.localizeText=function(e,i){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,h.Localization.localizeText(this,e,{replace:i})]})})},p.prototype.setDates=function(t,e){this._startDate=t,this._endDate=e,this._newBarsRequest={startDate:t,endDate:e,kind:h.RequestKind.BARS}},p.prototype.sendBarsRequest=function(){var t=this._newBarsRequest;this._datafeed&&t&&(this._currentBarsRequest&&(this._datafeed.cancel(this._currentBarsRequest),this._currentBarsRequest=null),t.id||(t.id=h.Datafeed.nextRequestId()),(t.chart=this)._currentBarsRequest=t,this._datafeed.send(t),this._newBarsRequest=null)},p.prototype.requestMoreBars=function(){this.readyLoadMoreHistory&&(this._newBarsRequest={kind:h.RequestKind.MORE_BARS,count:h.DEFAULT_BARS_COUNT,endDate:this._dataManager.dateDataSeries.firstValue},this.sendBarsRequest(),this.fireValueChanged(h.ChartEvent.MORE_HISTORY_REQUESTED))},p.prototype.getBounds=function(){return new h.Rect({left:0,top:0,width:this._rootDiv.width(),height:this._rootDiv.height()})},p.prototype.selectObject=function(t){var e=this._selectedObject;return!(!e&&!t)&&((e!==t||!t.selected)&&(e&&(e.selected=!1),t&&(t.selected=!0),this.selectedObject=t,this.setNeedsUpdate(),!0))},p.prototype.addValueScale=function(t){var e=this.valueScales;if(t){for(var i=0,o=e;i<o.length;i++)if(o[i]===t)throw new Error("Value scale has been added already.")}else t=new h.ValueScale({chart:this});return e.push(t),this.fireValueChanged(h.ChartEvent.VALUE_SCALE_ADDED,t),t},p.prototype.removeValueScale=function(t){if(Array.isArray(t))for(var e=0,i=t;e<i.length;e++){var o=i[e];this.removeValueScale(o)}else for(var r=this.valueScales,n=0;n<r.length;n++)if(r[n]===t){if(0===n)throw new Error("Cannot remove main scale.");r.splice(n,1),this.fireValueChanged(h.ChartEvent.VALUE_SCALE_REMOVED,n);break}},p.prototype.addIndicators=function(t){if(Array.isArray(t)){for(var e=[],i=0,o=t;i<o.length;i++){var r=o[i];e.push(this.addIndicators(r))}return e}if((s=t)instanceof h.Indicator){for(var n=this._indicators,a=0,l=n;a<l.length;a++)if((r=l[a])===s)return s;return s.chart=this,n.push(s),s.update(),this.fireValueChanged(h.ChartEvent.INDICATOR_ADDED,s),this.setNeedsLayout(),this.setNeedsUpdate(),s}if("object"!=typeof s)throw new TypeError("Unknown indicator.");var n=c.extend(!0,{chart:this},s),s=h.Indicator.deserialize(n);return this.addIndicators(s)},p.prototype.removeIndicators=function(t,o){var r=this;if(void 0===o&&(o=!0),Array.isArray(t))for(var e=0,i=t;e<i.length;e++)(c=i[e])&&this.removeIndicators(c,o);else for(var n=this._indicators,a=t,l=function(t){var e,i=t.chartPanel;i&&(i.removePlot(t.plots),t.removeLineLevels(),o&&0===i.plots.length&&i!==r.mainPanel&&r._chartPanelsContainer.removePanel(i),((e=i===r.mainPanel)&&0===i.indicators.length||!e&&1===i.indicators.length)&&(i.showIndicatorTitles=!0)),t.destroy(),r.setNeedsUpdate(!0),r.fireValueChanged(h.ChartEvent.INDICATOR_REMOVED,t)},s=0;s<n.length;s++)if(a){if(n[s]===a){n.splice(s,1),l(a);break}}else{var c=n[s];n.splice(s,1),l(c),s--}},p.prototype.updateIndicators=function(){for(var t=0,e=this._indicators;t<e.length;t++)e[t].update()},p.prototype.saveIndicatorsState=function(){for(var t=[],e=this.chartPanels,i=this._indicators,o=0,r=e;o<r.length;o++)for(var n=r[o],a=0,l=i;a<l.length;a++){var s=l[a];s.chartPanel===n&&t.push(s.serialize())}return t},p.prototype.loadIndicatorsState=function(t){"string"==typeof t&&(t=JSON.parse(t)),this.removeIndicators(),t&&this.addIndicators(t)},p.prototype.savePlotsState=function(){for(var t={},e=this.chartPanels,i=this._indicators,o=0,r=e;o<r.length;o++)for(var n=r[o],a=0,l=i;a<l.length;a++){var s=l[a],c=s.plots[0];s.chartPanel===n&&c instanceof h.AdvancedPlot&&(t[s.className]=c.settings)}return t},p.prototype.loadPlotsState=function(t){"string"==typeof t&&(t=JSON.parse(t));for(var e=this.chartPanels,i=this._indicators,o=0,r=e;o<r.length;o++)for(var n=r[o],a=0,l=i;a<l.length;a++){var s=l[a],c=s.plots[0];s.chartPanel===n&&c instanceof h.AdvancedPlot&&(c.settings=t[s.className])}},p.prototype.saveDrawingsState=function(){for(var t=[],e=0,i=this._chartPanelsContainer.panels;e<i.length;e++)for(var o=0,r=i[e].drawings;o<r.length;o++){var n=r[o];t.push(n.saveState())}return t},p.prototype.loadDrawingsState=function(t){if("string"==typeof t&&(t=JSON.parse(t)),this.removeDrawings(),t)for(var e=this._chartPanelsContainer.panels,i=0,o=t;i<o.length;i++){var r=o[i],n=e[r.panelIndex];n&&((r=h.Drawing.deserialize(r))&&n.addDrawings(r))}},p.prototype.removeDrawings=function(){for(var t=0,e=this._chartPanelsContainer.panels;t<e.length;t++)e[t].removeDrawings()},p.prototype.saveState=function(){for(var t=[],e=0,i=this.valueScales;e<i.length;e++){var o=i[e];t.push(o.saveState())}return{chart:c.extend(!0,{},this._options),timeFrame:this._timeFrame,priceStyle:this._priceStyle.saveState(),dateScale:this._dateScale.saveState(),valueScales:t,crossHair:this._crossHair.saveState(),chartPanelsContainer:this._chartPanelsContainer.saveState(),instrumentComparisonHandler:this.instrumentComparisonHandler.saveState(),indicators:this.saveIndicatorsState(),barsCount:this.zoomAutoSave&&this._barsCount,plots:this.savePlotsState(),drawings:this.saveDrawingsState()}},p.prototype.loadState=function(t){if(!t)return this.sendBarsRequest(),void this.localize();"string"==typeof t&&(t=JSON.parse(t)),this.suppressEvents(),this.removeIndicators(),this._loadOptionsState(t.chart),this._dateScale.loadState(t.dateScale),this._restoreValueScales(t),this._crossHair.loadState(t.crossHair),this._chartPanelsContainer.loadState(t.chartPanelsContainer),t.timeFrame&&(this._timeFrame=t.timeFrame),t.priceStyle&&(this._priceStyle=h.PriceStyle.deserialize(t.priceStyle)),(this._priceStyle.chart=this)._priceStyle.apply(!1),this.layout(),this.localize(),this.loadIndicatorsState(t.indicators),this.loadPlotsState(t.plots),this.loadDrawingsState(t.drawings),this.instrumentComparisonHandler.loadState(t.instrumentComparisonHandler),this._barsCount=t.barsCount,this.suppressEvents(!1),this.theme=this.theme,this.fireValueChanged(h.ChartEvent.STATE_LOADED),this.sendBarsRequest()},p.prototype._restoreValueScales=function(t){for(var e=this.valueScales,i=0,o=e;i<o.length;i++)o[i].destroy();for(var r=t.valueScales||[t.valueScale],n=e.length=0;n<r.length;n++){var a=new h.ValueScale({chart:this});e.push(a),a.loadState(r[n])}0===e.length&&e.push(new h.ValueScale({chart:this}))},p.prototype.startUserDrawing=function(t){switch(this.state){case h.ChartState.USER_DRAWING:case h.ChartState.RESIZING_PANELS:this.cancelUserDrawing();break;case h.ChartState.NORMAL:break;default:throw new Error("Unable to start user drawing in this chart state.")}this.state=h.ChartState.USER_DRAWING,this.selectObject(null),this.addCssClass(h.DrawingCursorClass.CREATE),t.startUserDrawing(),this.selectedObject=t,this.fireValueChanged(h.ChartEvent.USER_DRAWING_STARTED,t)},p.prototype.cancelUserDrawing=function(){var t;this.state===h.ChartState.USER_DRAWING&&((t=this._selectedObject.chartPanel)&&t.removeDrawings(this._selectedObject),this.selectObject(null),this.removeCssClass(h.DrawingCursorClass.CREATE),this.state=h.ChartState.NORMAL,this.fireValueChanged(h.ChartEvent.USER_DRAWING_CANCELLED))},p.prototype._finishUserDrawing=function(){var t;this.removeCssClass(h.DrawingCursorClass.CREATE),this.state=h.ChartState.NORMAL,this.fireValueChanged(h.ChartEvent.USER_DRAWING_FINISHED,this._selectedObject),this.stayInDrawingMode&&(t=h.Drawing.deserialize({className:this._selectedObject.className}),this.startUserDrawing(t))},p.prototype.startZoomIn=function(t){this.zoomInView=new h.ZoomInView,this.zoomInView.zoomMode=t,this.state=h.ChartState.ZOOM_IN,this.fireValueChanged(h.ChartEvent.ZOOM_IN_STARTED)},p.prototype.cancelZoomIn=function(){this.zoomInView&&this.state===h.ChartState.ZOOM_IN&&(this.state=h.ChartState.NORMAL,this.fireValueChanged(h.ChartEvent.ZOOM_IN_CANCELLED),this.zoomInView.cancelDraw())},p.prototype.setNeedsAutoScaleAll=function(){this._dateScale.setNeedsAutoScale(),this._chartPanelsContainer.setNeedsAutoScale()},p.prototype.setWindowMode=function(t){this._windowModeHandler.setMode(t)},p.prototype.setNeedsLayout=function(){this.layout()},p.prototype.layout=function(){var t=this.getBounds(),e=this._dateScale.layoutScalePanel(t);this._chartPanelsFrame=this._chartPanelsContainer.layoutScalePanel(e);e=new h.Rect({left:e.left,top:t.top,width:e.width,height:t.height}),t=new h.Rect({left:this._chartPanelsFrame.left,top:t.top,width:this._chartPanelsFrame.width,height:t.height});this._dateScale.layout(e,t),this._chartPanelsContainer.layout(this._chartPanelsFrame),this._crossHair.layout(),this.spread.layout(),this._sessionBreakLines.layout();for(var i=!1,o=0,r=this.chartPanels;o<r.length;o++)if(1===r[o].state){i=!0;break}if(h.JsUtil.sort(this.indicators,function(t,e){return t.zIndex-e.zIndex}),!i)for(var n=0,a=this.indicators;n<a.length;n++){var l=a[n];if(!l.isInitialized&&l.plots.length){this.updateIndicators(),this.setNeedsAutoScale(),this.layout();break}}},p.prototype.draw=function(){this._dateScale.draw(),this._navigation.draw(),this._chartPanelsContainer.draw()},p.prototype.getContentWidth=function(){return this.mainPanel.contentFrame.width+(this.valueScale.rightPanelVisible?this.valueScale.rightPanel.frame.width:0)},p.prototype.getContentRightMargin=function(){var t=this.valueScale;return(t.rightPanelVisible?t.rightPanel.frame.width:0)+this.getTradingPanelWidth()},p.prototype.getTradingPanelWidth=function(){var t=this.mainPanel.tradingPanel;return t&&t.visible?2*this.tradingPanelWidth:0},p.prototype.update=function(){var t=this.size,e=this._prevSize;this.instrumentComparisonHandler&&this.instrumentComparisonHandler.update();e=e.width!==t.width||e.height!==t.height;this._prevSize=t;t=this._needsAutoscale;t&&(this.setNeedsAutoScale(),this._needsAutoscale=!1),(e||t)&&this.layout(),this.draw()},p.prototype.setNeedsUpdate=function(t){this._needsAutoscale=t,this._updateAnimation.start()},p.prototype._onUpdateAnimationCallback=function(){this.update()},p.prototype.updateSplitter=function(t){this._chartPanelsContainer.layoutSplitterPanels(t)},p.prototype.destroy=function(t){void 0===t&&(t=!0),this._unsubscribeEvents(),h.UI.HtmlContainer.instance.reset(),this.toolbar&&(this.toolbar.chart=null),this._keyboardHandler.destroy(),this._windowModeHandler.destroy(),this.stateHandler&&this.stateHandler.destroy(),this._datafeed&&this._datafeed.destroy(),this._priceStyle.destroy(),this._crossHair.destroy(),this._selectionMarker.destroy(),this._chartPanelsContainer.destroy(),this.valueScale.destroy(),this.dateScale.destroy(),this._navigation.destroy(),this._updateAnimation.destroy(),this._highlightedColumns.destroy(),this.scrollbar&&(this.scrollbar.chart=null);for(var e=0,i=this._indicators;e<i.length;e++)i[e].destroy();this._container&&(t?this._container.remove():this._container.empty(),this._container=null)},p.prototype.showWaitingBar=function(t){this.fire(h.ChartEvent.SHOW_WAITING_BAR,{type:h.ChartEvent.SHOW_WAITING_BAR,sender:this,target:this}),this.useWaitingBar&&(this._waitingBar||(this._waitingBar=this._container.scx().waitingBar()),this._waitingBar.show(t))},p.prototype.hideWaitingBar=function(t){this._waitingBar&&this.useWaitingBar&&this._waitingBar.hide(t),this.fire(h.ChartEvent.HIDE_WAITING_BAR,{type:h.ChartEvent.HIDE_WAITING_BAR,sender:this,target:this})},p.prototype._copyDrawing=function(){for(var t,e=0,i=this.chartPanels;e<i.length;e++){for(var o=0,r=i[e].drawings;o<r.length;o++){var n=r[o];if(n.selected){t=n;break}}if(t)break}t&&t.chart&&(this._copyBuffer=t.clone())},p.prototype._pasteDrawing=function(){if(this._copyBuffer){for(var t=this._copyBuffer.chartPanel,e=0,i=this.chartPanels;e<i.length;e++)if(i[e]===t){var o=this._copyBuffer.clone();return t.addDrawings(o),this._translateClonedDrawing(o),void t.setNeedsUpdate()}this._copyBuffer=null}},p.prototype._translateClonedDrawing=function(t){var e,i=t.bounds(),o=n,r=a;i?(e=i.left+i.width,i=this._copyBuffer.chartPanel.contentFrame.width,e+Math.abs(o)<i?t.translate(o,r):t.translate(-o,r)):t.translate(o,r)},p.prototype.handleResize=function(){this.updateTradingPanelWidth()},p.prototype._handleMouseEvents=function(t){var e=t.data,i=t.originalEvent,o=(void 0!==t.pageX?t:i).pageX,r=(void 0!==t.pageY?t:i).pageY,i=i&&i.changedTouches;if(!e.mouseEventsEnabled)return!0;!o&&!r&&i&&0<i.length&&(o=(i=i[i.length-1]).pageX,r=i.pageY);var n={pointerPosition:e._rootDiv.scxClientToLocalPoint(o,r),evt:t};if(e._updateHoverRecord.call(e,n.pointerPosition.x),t.toElement&&c(t.toElement).hasClass("scxTooltip"))return!1;switch(e._dateScale.handleEvent(n)||e._chartPanelsContainer.handleEvent(n),e._highlightedColumns.handleEvent(n),t.type){case"click":case"mousedown":case"touchstart":case"touchend":if(!n.stopPropagation)return!0}return t.preventDefault(),t.stopPropagation(),!1},p.prototype.saveImage=function(t){this.saveImageHandler.saveImage(this._rootDiv,t)},p.prototype._loadOptionsState=function(t){this._options={theme:(t=t||{}).theme||h.Theme.Dark,locale:t.locale||"en",enableKeyboardEvents:void 0===t.enableKeyboardEvents||!!t.enableKeyboardEvents,enableMouseEvents:void 0===t.enableMouseEvents||!!t.enableMouseEvents,showBarInfoInTitle:void 0===t.showBarInfoInTitle||!!t.showBarInfoInTitle,priceStyle:h.CandlePriceStyle.className,showInstrumentWatermark:null==t.showInstrumentWatermark||t.showInstrumentWatermark,xGridVisible:null==t.xGridVisible||t.xGridVisible,yGridVisible:null==t.yGridVisible||t.yGridVisible,scrollEnabled:null==t.scrollEnabled||t.scrollEnabled,zoomEnabled:null==t.zoomEnabled||t.zoomEnabled,zoomAutoSave:null!=t.zoomAutoSave&&t.zoomAutoSave,scale:null!=t.scale?t.scale:2}},p.prototype._layoutHtmlElements=function(){this._container.addClass(t),this._rootDiv=this._container.scxAppend("div",e).addClass(i).css(this.cssSize),this._rootDiv.scxAppend("div",o)},p.prototype.applyTheme=function(){var t=this.theme,e=t.chart,i=""+r+t.name;c("body").hasClass(i)||c("body").addClass(i);i=this._container.find("."+o);h.HtmlUtil.setBackground(i,e.background),this._valueMarker.theme=t.valueScale.valueMarker,this._dateMarker.theme=t.dateScale.dateMarker,this.updateIndicators()},p.prototype._subscribeEvents=function(){var t=this,e=[u,h.ChartEvent.INDICATOR_ADDED,h.ChartEvent.TOOLBAR_LOADED,h.ChartEvent.LOCALE_CHANGED];this._rootDiv.on(["mouseenter","mouseleave","mousedown","mousemove","mouseup","click","dblclick","mousewheel","DOMMouseScroll","contextmenu","touchstart","touchmove","touchend",""].join(s+", "),this,this._handleMouseEvents),this.on(e.join(s+", "),function(){return t.localize()}),c("body").on(u+s,this,this._handleLocalizeEvent),c(window).on("resize"+s,this,this._handleWindowResizeEvent)},p.prototype._unsubscribeEvents=function(){this._rootDiv&&this._rootDiv.off(s),this.off(s),c("body").off(u+s,this._handleLocalizeEvent),c(window).off("resize"+s,this._handleWindowResizeEvent)},p.prototype._updateHoverRecord=function(t){t=this._dateScale.projection.recordByX(t);t!==this._hoverRecord&&(this._hoverRecord=t,this.fireValueChanged(h.ChartEvent.HOVER_RECORD_CHANGED,t))},p.prototype.barDataSeries=function(){return this._dataManager.barDataSeries()},p.prototype.getCommonDataSeries=function(){return this.barDataSeries()},p.prototype.addDataSeries=function(t,e){return this._dataManager.addDataSeries(t,e)},p.prototype.removeDataSeries=function(t){this._dataManager.removeDataSeries(t)},p.prototype.clearDataSeries=function(t){this._dataManager.clearDataSeries(t);for(var e=0,i=this._indicators;e<i.length;e++)i[e].clearDataSeries(t)},p.prototype.trimDataSeries=function(t){this.dataManager.trimDataSeries(t)},p.prototype.getDataSeries=function(t){return this._dataManager.getDataSeries(t)},p.prototype.primaryDataSeries=function(t,e){void 0===e&&(e="");var i=this.priceStyle.primaryDataSeriesSuffix(t);return this.getDataSeries(e+i+t)},p.prototype.primaryBarDataSeries=function(t){var e=h.DataSeriesSuffix;return{date:this.primaryDataSeries(e.DATE,t),open:this.primaryDataSeries(e.OPEN,t),high:this.primaryDataSeries(e.HIGH,t),low:this.primaryDataSeries(e.LOW,t),close:this.primaryDataSeries(e.CLOSE,t),volume:this.primaryDataSeries(e.VOLUME,t),ticksCount:this.primaryDataSeries(e.TICKS_COUNT,t)}},p.prototype.primaryBar=function(t,e){e=this.primaryBarDataSeries(e);return this.dataManager.bar(t,e)},p.prototype.findDataSeries=function(t){return this._dataManager.findDataSeries(t)},p.prototype.appendBars=function(t){this._dataManager.appendBars(t),this.updateIndicators()},p.prototype.addChartPanel=function(t,e,i){return this._chartPanelsContainer.addPanel(t,e,i)},p.prototype.findPanelAt=function(t){return this._chartPanelsContainer.findPanelAt(t)},p.prototype.setNeedsAutoScale=function(){this._chartPanelsContainer.setNeedsAutoScale()},p.prototype.scrollOnPixels=function(t){this._dateScale.scrollOnPixels(t)},p.prototype.scrollOnRecords=function(t){this._dateScale.scrollOnRecords(t)},p.prototype.zoomOnPixels=function(t){this._dateScale.zoomOnPixels(t)},p.prototype.zoomOnRecords=function(t){this._dateScale.zoomOnRecords(t)},p.prototype.setPixelsPrice=function(t){this.mainPanel.valueScale.setPixelsPrice(t)},p.prototype.getPixelsPrice=function(){return this.mainPanel.valueScale.getPixelsPrice()},Object.defineProperty(p.prototype,"pixelsPrice",{get:function(){return this.mainPanel.valueScale.pixelPrice},enumerable:!0,configurable:!0}),p.prototype.visibleDataRange=function(){return{firstVisibleDataRecord:Math.max(this.firstVisibleRecord,0),lastVisibleDataRecord:Math.min(this.lastVisibleRecord,this.recordCount)}},p.prototype.recordRange=function(t,e){if(null==t&&null==e)return{firstVisibleRecord:this.firstVisibleRecord,lastVisibleRecord:this.lastVisibleRecord};var i=this.recordCount;if(null==e){var o=t;if(!h.JsUtil.isFiniteNumber(o)||o<=0)throw new TypeError("Positive number expected.");this.firstVisibleRecord=Math.max(i-o,0),this.lastVisibleRecord=i-1}else{if(!h.JsUtil.isFiniteNumber(t)||t<0)throw new TypeError("First record must be a positive number or 0.");if(!h.JsUtil.isFiniteNumber(e))throw new TypeError("Last record must be a positive number.");if(e<=t)throw new Error("Last record must be greater than first record.");this.firstVisibleRecord=t,this.lastVisibleRecord=e}},p.prototype.barsBetweenPoints=function(t,e){var i,o=this.dateScale.projection,r=0,n=this.primaryDataSeries(h.DataSeriesSuffix.CLOSE).length;return 0<n&&(i=new h.ChartPoint(t).getRecord(o),t=new h.ChartPoint(e).getRecord(o),r=0<=i&&i<n||0<=t&&t<n?(e=Math.min(Math.max(i,0),n-1),o=Math.min(Math.max(t,0),n-1),Math.trunc(o)-Math.trunc(e)+(i<=t?1:-1)):i<=0&&n<=t?n:t<=0&&n<=i?-n:0),r},p.prototype.dateRange=function(t,e){var i=this.dateScale,o=i.projection;if(!t&&!e){i=i.projectionFrame;return{startDate:o.dateByX(i.left),endDate:o.dateByX(i.right)}}t=o.recordByX(o.xByDate(t,!1),!1),e=o.recordByX(o.xByDate(e,!1),!1);this.firstVisibleRecord=t,this.lastVisibleRecord=e-1},p.prototype.reload=function(){this._newBarsRequest={kind:h.RequestKind.BARS,startDate:this._startDate,endDate:this._endDate},this.sendBarsRequest()},p.prototype.updateComputedDataSeries=function(){this.instrumentComparisonHandler.update(!0),this.priceStyle.updateComputedDataSeries()},p.prototype.addCssClass=function(t){this.rootDiv.addClass(t)},p.prototype.removeCssClass=function(t){this.rootDiv.removeClass(t)},p);function p(t){var e=f.call(this)||this;if(e._valueScales=[],e._chartPanelsFrame=new h.Rect,e.tradingPanelWidth=20,e._indicators=[],e._options={},e._showDrawings=!0,e._showDrawingTooltips=!0,e._stayInDrawingMode=!1,e._state=h.ChartState.NORMAL,e._needsAutoscale=!1,e._useWaitingBar=!0,e._updateAnimation=new h.Animation({context:e,recurring:!1,callback:e._onUpdateAnimationCallback}),e.saveImageHandler=new h.SaveImageHandler,e._logoDrawed=!1,e._prevSize={width:null,height:null},"object"!=typeof t)throw new Error("Config must be an object.");if(!t.container)throw new Error("Chart container is not specified.");if(e._container=c(t.container),0===e._container.length)throw new Error("Unable to find HTML element by selector "+t.container+".");if(e._cssSize={width:t.width||"100%",height:t.height||"100%"},h.JsUtil.isNumber(e._cssSize.width)&&e._cssSize.width<=0)throw new Error("Width must be a positive number.");if(h.JsUtil.isNumber(e._cssSize.height)&&e._cssSize.height<=0)throw new Error("Height must be a positive number.");return e.instrument=t.instrument,e.instrumentsRepository=t.instrumentsRepository,t.timeInterval?e.timeInterval=t.timeInterval:e._timeFrame=t.timeFrame||l,e.incomePrecision=t.incomePrecision,e.incomePercentagePrecision=t.incomePercentagePrecision,e._datafeed=t.datafeed,e._loadOptionsState(t),e._valueMarker=new h.ValueMarker,e._dateMarker=new h.DateMarker,e._selectionMarker=new h.SelectionMarker({chart:e}),e._layoutHtmlElements(),e.applyTheme(),e._dataManager=new h.DataManager,e._dataManager.addBarDataSeries(),e._dateScale=new h.DateScale({chart:e}),e.valueScales.push(new h.ValueScale({chart:e})),e._chartPanelsContainer=new h.ChartPanelsContainer({chart:e}),e._crossHair=new h.CrossHair({chart:e}),null!=t.crossHair&&(e.crossHairType=t.crossHair),e._sessionBreakLines=new h.BreakLinesHandler({chart:e}),e._priceStyle=new h.CandlePriceStyle({chart:e}),e._priceStyle.apply(),null!=t.priceStyle&&(e.priceStyleKind=t.priceStyle),e._subscribeEvents(),e._spread=new h.SpreadHandler({chart:e}),e._highlightedColumns=new h.HighlightedColumnHandler(e),e._windowModeHandler=new h.WindowModeHandler(e),e._instrumentComparisonHandler=new h.InstrumentComparisonHandler(e),null!=t.useWaitingBar&&(e.useWaitingBar=t.useWaitingBar),e.layout(),!1!==t.showToolbar&&(h.JsUtil.isFunction(t.onToolbarLoaded)&&e.on(h.ChartEvent.TOOLBAR_LOADED,t.onToolbarLoaded),e.toolbar=e._container.scx().toolbar(e)),!1!==t.showScrollbar&&(h.JsUtil.isFunction(t.onScrollbarLoaded)&&e.on(h.ChartEvent.SCROLLBAR_LOADED,t.onScrollbarLoaded),e.scrollbar=e._container.scx().scrollbar(e)),t.fullWindowMode&&e._windowModeHandler.setMode(h.WindowMode.FULL_WINDOW),e._keyboardHandler=new h.KeyboardHandler(e),null!=t.keyboardEventsEnabled&&(e.keyboardEventsEnabled=t.keyboardEventsEnabled),e._smartPriceStyleHandler=new h.SmartPriceStyleHandler(e),!1!==t.showNavigation&&(e._navigation=e._rootDiv.scx().chartNavigation(e)),t.stateHandler?e.stateHandler=t.stateHandler:e.stateHandler=new h.LocalChartStateHandler({chart:e,autoSave:!0===t.autoSave}),e}h.Chart=d}(StockChartX=StockChartX||{}),function(e){"use strict";jQuery.fn.StockChartX=function(t){return t.container=this,new e.Chart(t)}}(StockChartX=StockChartX||{}),function(u){"use strict";var f=".chartsContainer",r="scxChartContainer",d="scxNonActiveBorder",p="scxActiveBorder",t=(Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toolbar",{get:function(){return this._toolbar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollbar",{get:function(){return this._scrollbar},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containerDisplacement",{get:function(){return this._displacement},set:function(t){this._displacement=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"charts",{get:function(){return this._chartsItems.map(function(t){return t.chart})},enumerable:!0,configurable:!0}),e.prototype.addChart=function(t){var n=this,a=this,e=$('<div class="'+r+" "+d+'"></div>').appendTo(this._parent),i=t?e.StockChartX(t):e.StockChartX({width:0,height:0,showToolbar:!1});i.multiChartRootContainer=this._parent;var l,s,c,h,o=i.keyboardEventsEnabled,t=i.mouseEventsEnabled;return i.keyboardEventsEnabled=!1,i.mouseEventsEnabled=!1,i.on(u.ChartEvent.ENABLE_KEYBOARD_EVENTS_CHANGED+f,function(t){l=t.target,s=t.value}).on(u.ChartEvent.ENABLE_MOUSE_EVENTS_CHANGED+f,function(t){c=t.target,h=t.value}),this._toolbar||(this._toolbar=new u.UI.Toolbar({parent:this._parent.parent(),chart:i}),e.removeClass(d),e.addClass(p),(o=i===l?s:o)&&(i.keyboardEventsEnabled=!0),(t=i===c?h:t)&&(i.mouseEventsEnabled=!0)),e.mousedown(function(t){for(var e=$(t.currentTarget),i=0,o=n._chartsItems;i<o.length;i++){var r=o[i];r.chart.off(f),e.is(r.container)?(r.container.addClass(p),r.container.removeClass(d),r.chart===l&&(r.keyboardEventsEnabled=s),r.keyboardEventsEnabled&&(r.chart.keyboardEventsEnabled=!0),r.chart===c&&(r.mouseEventsEnabled=h),r.mouseEventsEnabled&&(r.chart.mouseEventsEnabled=!0),a._toolbar.chart=r.chart):(r.container.removeClass(p),r.container.addClass(d),r.chart===l&&(r.keyboardEventsEnabled=s),r.keyboardEventsEnabled&&(r.chart.keyboardEventsEnabled=!1),r.chart===c&&(r.mouseEventsEnabled=h),r.mouseEventsEnabled&&(r.chart.mouseEventsEnabled=!1)),r.chart.on(u.ChartEvent.ENABLE_KEYBOARD_EVENTS_CHANGED+f,function(t){l=t.target,s=t.value}).on(u.ChartEvent.ENABLE_MOUSE_EVENTS_CHANGED+f,function(t){c=t.target,h=t.value})}}),this._chartsItems.push({container:e,chart:i,keyboardEventsEnabled:o,mouseEventsEnabled:t}),e.css("z-index","0"),e.css("float","left"),this._parent.css({top:0,left:0,height:"100%",width:"100%",display:"block",clear:"both",overflow:"hidden"}),this._parent.parent().css({height:"100%",width:"100%",clear:"both",overflow:"hidden"}),i},e.prototype.resizeCharts=function(){if(!this._isFullWindowMode&&!this._isFullScreenMode){switch(this._chartsItems.length){case 1:this._maxChartsCountX=1,this._maxChartsCountY=1;break;case 2:this._maxChartsCountX=1,this._maxChartsCountY=2;break;case 3:this._maxChartsCountX=1,this._maxChartsCountY=3;break;default:this._maxChartsCountX=2,this._maxChartsCountY=2}for(var t=this._parent.parent().parent(),e=t.height()/this._maxChartsCountY-2,i=t.width()/this._maxChartsCountX-2,o=0,r=this._chartsItems;o<r.length;o++){var n=r[o];n.chart.size={width:i-this.containerDisplacement.width,height:e-this.containerDisplacement.height-25},n.chart.setNeedsAutoScale(),n.chart.setNeedsUpdate()}this._parent.parent().width(t.width()).height(t.height())}},e.prototype._fullScreenChange=function(t,e){e.windowMode===u.WindowMode.FULL_SCREEN?(this.toolbar.prependTo(e.container),this.parent.parent().parent().css({width:window.outerWidth,height:window.outerHeight}),this._isFullScreenMode=!0):(this._isFullWindowMode||this.toolbar.prependTo(this._parent.parent()),this.parent.parent().parent().css({width:"100%",height:"100%"}),this._isFullScreenMode=!1),this.resizeCharts()},e.prototype._fullWindowChange=function(t,e){switch(e.windowMode){case u.WindowMode.FULL_WINDOW:case u.WindowMode.FULL_SCREEN:this._isFullWindowMode=!0,this.toolbar.prependTo(e.container),this.containerDisplacement.width=6,this.containerDisplacement.height=42,e.container.css({"z-index":"1",position:"absolute","background-color":$("body").css("background-color")}),this._parent.parent().css({width:"100%",height:"100%"}),e.size={width:this._parent.width()-this.containerDisplacement.width,height:this._parent.height()-this.containerDisplacement.height-25},e.setNeedsAutoScale(),e.setNeedsUpdate();break;default:this._isFullWindowMode=!1,this._isFullScreenMode||(this.toolbar.prependTo(this._parent.parent()),e.container.css("background-color","transparent")),this.containerDisplacement.width=2,this.containerDisplacement.height=20,e.container.css("z-index","0"),e.container.css("position","relative")}this.resizeCharts()},e);function e(t){var i=this;this._maxChartsCountX=1,this._maxChartsCountY=1,this._chartsItems=[],this._displacement={width:2,height:20},this._isFullWindowMode=!1,this._isFullScreenMode=!1,this._parent=t,$(window).resize(function(){return i.resizeCharts()}),$(window).on("scxFullscreenChanged",this,function(t,e){return i._fullScreenChange(t,e)}),$(window).on("scxFullWindowChanged",this,function(t,e){return i._fullWindowChange(t,e)})}u.ChartsContainer=t}(StockChartX=StockChartX||{}),StockChartX=StockChartX||{},function(){"use strict";(StockChartX||(StockChartX={})).Component=function(){}}();__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.Component,__extends(o,e),o.prototype.destroy=function(){this._unsubscribe&&this._unsubscribe()},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.Handler=i}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var i,e=(i=t.Handler,__extends(o,i),Object.defineProperty(o.prototype,"chart",{get:function(){return this._chart},set:function(t){var e=this._chart;e!==t&&(this._onChartChanging&&this._onChartChanging(),this._chart=t,this._onChartChanged&&this._onChartChanged(e))},enumerable:!0,configurable:!0}),o);function o(t){var e=i.call(this)||this;return e._chart=t,e}t.ChartHandler=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.Component,__extends(o,e),o);function o(){return null!==e&&e.apply(this,arguments)||this}t.VisualComponent=i}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.VisualComponent,__extends(o,e),Object.defineProperty(o.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),o.prototype.layout=function(){this._container||(this._container=this._createContainer(),this.update())},o.prototype.update=function(){this.applyTheme()},o.prototype._removeContainer=function(){this._container&&(this._container.remove(),this._container=null)},o.prototype.destroy=function(){this._removeContainer()},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.HtmlComponent=i}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var i,e=(i=t.HtmlComponent,__extends(o,i),Object.defineProperty(o.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart!==t&&(this._onChartChanging(),this._chart=t,this._onChartChanged())},enumerable:!0,configurable:!0}),o.prototype._onChartChanging=function(){this._removeContainer()},o);function o(t){var e=i.call(this)||this;return t&&(e.chart=t.chart),e}t.ChartHtmlComponent=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var i,e=(i=t.HtmlComponent,__extends(o,i),Object.defineProperty(o.prototype,"chartPanel",{get:function(){return this._panel},set:function(t){this._panel!==t&&(this._onChartPanelChanging(),this._panel=t,this._onChartPanelChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"chart",{get:function(){return this._panel&&this._panel.chart},enumerable:!0,configurable:!0}),o.prototype._onChartPanelChanging=function(){this._unsubscribe&&this._unsubscribe(),this._removeContainer()},o.prototype._onChartPanelChanged=function(){this._subscribe&&this._subscribe()},o.prototype.destroy=function(){this._unsubscribe&&this._unsubscribe(),i.prototype.destroy.call(this)},o);function o(t){var e=i.call(this)||this;return t&&(e.chartPanel=t.chartPanel),e}t.ChartPanelHtmlComponent=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var i,e=(i=t.Component,__extends(o,i),Object.defineProperty(o.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart!==t&&(this._onChartChanging(),this._chart=t,this._onChartChanged())},enumerable:!0,configurable:!0}),o.prototype._onChartChanging=function(){this._unsubscribe&&this._unsubscribe()},o.prototype._onChartChanged=function(){this._subscribe&&this._subscribe()},o.prototype.destroy=function(){this._unsubscribe&&this._unsubscribe()},o);function o(t){var e=i.call(this)||this;return t&&(e._chart=t.chart),e}t.ChartComponent=e}(StockChartX=StockChartX||{}),StockChartX=StockChartX||{};__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){"use strict";var i,t=(i=e.Component,__extends(o,i),o.prototype.hitTest=function(t){return!1},o.prototype.layout=function(t){},o.prototype.handleEvent=function(t,e){return this._gestures.handleEvent(t,e=void 0===e?!0:e)},o);function o(){var t=i.call(this)||this;return t._gestures=t._initGestures&&t._initGestures()||new e.GestureArray,t}e.Control=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){"use strict";var i,t=(i=e.Control,__extends(o,i),Object.defineProperty(o.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"frame",{get:function(){return this._frame},enumerable:!0,configurable:!0}),o.prototype.hitTest=function(t){return e.Geometry.isPointInsideOrNearRect(t,this._frame)},o.prototype.layout=function(t){this._container||(this._container=this._createContainer()),this._container.scxFrame(t),this._frame.copyFrom(t)},o.prototype._removeContainer=function(){this._container&&(this._container.remove(),this._container=null)},o.prototype.destroy=function(){this._removeContainer()},o);function o(){var t=null!==i&&i.apply(this,arguments)||this;return t._frame=new e.Rect,t}e.HtmlControl=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var i,e=(i=t.HtmlControl,__extends(o,i),Object.defineProperty(o.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),o.prototype.destroy=function(){this._unsubscribe&&this._unsubscribe(),i.prototype.destroy.call(this)},o);function o(t){var e=i.call(this)||this;if(!t)throw new TypeError("Config is not specified.");return e._chart=t.chart,e}t.ChartHtmlControl=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var t=(Object.defineProperty(e,"registeredPriceStyles",{get:function(){return this._priceStyles.registeredItems},enumerable:!0,configurable:!0}),e.register=function(t,e){"string"==typeof t?this._priceStyles.register(t,e):this._priceStyles.register(t.className,t)},e.create=function(t){return this._priceStyles.createInstance(t)},e.deserialize=function(t){if(!t)return null;var e=this._priceStyles.createInstance(t.className);return e.loadState(t),e},e._priceStyles=new r.ClassRegistrar,e);function e(){}var i,o=(i=r.ChartComponent,__extends(n,i),Object.defineProperty(n,"className",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"className",{get:function(){return this.constructor.className},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"plot",{get:function(){return this._plot},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"chartPanel",{get:function(){return this._plot&&this._plot.chartPanel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"showValueLines",{get:function(){var t=this._options.showValueLines;return null!=t?t:n.defaults.showValueLines},set:function(t){this._options.showValueLines=t,this._updatePlot()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"extendValueLines",{get:function(){var t=this._options.extendValueLines;return null!=t?t:n.defaults.extendValueLines},set:function(t){this._options.extendValueLines=t,this._updatePlot()},enumerable:!0,configurable:!0}),n.prototype._onChartChanging=function(){this.destroy()},n.prototype._updatePlot=function(){var t=this.plot;t&&(t.showValueLines=this.showValueLines,t.extendValueLines=this.extendValueLines)},n.prototype.saveState=function(){return{className:this.constructor.className,options:r.JsUtil.clone(this._options)}},n.prototype.loadState=function(t){this._options=t&&r.JsUtil.clone(t.options)||{}},n.prototype.apply=function(t){void 0===t&&(t=!0);var e=this.chart;if(e){var i=this._plot;if(i||(this._plot=i=this.createPlot(),this._updatePlot()),!i)throw new Error("Price style plot is not created.");this.updateComputedDataSeries(),e.updateIndicators();var o=r.DataSeriesSuffix;i.dataSeries=[e.primaryDataSeries(o.CLOSE),e.primaryDataSeries(o.OPEN),e.primaryDataSeries(o.HIGH),e.primaryDataSeries(o.LOW)],e.mainPanel.addPlot(i),t&&e.mainPanel.setNeedsAutoScale(),e.setNeedsUpdate()}},n.prototype.dataSeriesSuffix=function(){return""},n.prototype.primaryDataSeriesSuffix=function(t){var e=r.DataSeriesSuffix;switch(t){case e.OPEN:case e.HIGH:case e.LOW:case e.CLOSE:return this.dataSeriesSuffix();default:return""}},n.prototype.removeComputedDataSeries=function(){var t,e,i=this.chart;i&&(t=this.dataSeriesSuffix(),e=r.DataSeriesSuffix,t&&(i.removeDataSeries(t+e.DATE),i.removeDataSeries(t+e.OPEN),i.removeDataSeries(t+e.HIGH),i.removeDataSeries(t+e.LOW),i.removeDataSeries(t+e.CLOSE),i.removeDataSeries(t+e.VOLUME)))},n.prototype.updateComputedDataSeries=function(){},n.prototype._calculateAtr=function(t){var e=new r.ATR;e._usePrimaryDataSeries=!1,e.chart=this.chart,e.setDefaultSettings(),e.setupIndicator(),e.period=t;for(var i=0;i<e.high.recordCount-1;i++)e.updateIndicator();if(!e.values)return null;t=e.values.get(0);if(!t)return null;t=t.lastValue;return t?Math.roundToDecimals(t,5):null},n.prototype.destroy=function(){var t=this._plot,e=t&&t.chartPanel;e&&e.removePlot(t),this.removeComputedDataSeries()},n.defaults={showValueLines:!1,extendValueLines:!1},n);function n(t){var e=i.call(this,t)||this;return e._options={},t&&(e.chart=t.chart,t={className:"",options:t.options},e.loadState(t)),e}r.PriceStyle=o,r.JsUtil.applyMixins(o,[t])}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"bar"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.BarPlot({plotStyle:t.BarPlot.Style.OHLC,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.BarPriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"HLBar"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.BarPlot({plotStyle:t.BarPlot.Style.HL,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.HLBarPriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"HLCBar"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.BarPlot({plotStyle:t.BarPlot.Style.HLC,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.HLCBarPriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"coloredHLBar"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.BarPlot({plotStyle:t.BarPlot.Style.COLORED_HL,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.ColoredHLBarPriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"coloredHLCBar"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.BarPlot({plotStyle:t.BarPlot.Style.COLORED_HLC,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.ColoredHLCBarPriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"candle"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.BarPlot({plotStyle:t.BarPlot.Style.CANDLE,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.CandlePriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"coloredBar"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.BarPlot({plotStyle:t.BarPlot.Style.COLORED_OHLC,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.ColoredBarPriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var t,e=(t=i.PriceStyle,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"heikinAshi"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new i.BarPlot({plotStyle:i.BarPlot.Style.CANDLE,plotType:i.PlotType.PRICE_STYLE})},o.prototype.dataSeriesSuffix=function(){return i.DataSeriesSuffix.HEIKIN_ASHI},o.prototype.updateComputedDataSeries=function(){var t=this.chart.dataManager,e=t.ohlcDataSeries(i.DataSeriesSuffix.HEIKIN_ASHI,!0);i.BarConverter.convertToHeikinAshi(t.ohlcDataSeries(),e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}i.HeikinAshiPriceStyle=e,i.PriceStyle.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"hollowCandle"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.BarPlot({plotStyle:t.BarPlot.Style.HOLLOW_CANDLE,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.HollowCandlePriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__awaiter=this&&this.__awaiter||function(n,a,l,s){return new(l=l||Promise)(function(t,e){function i(t){try{r(s.next(t))}catch(t){e(t)}}function o(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new l(function(t){t(e.value)}).then(i,o)}r((s=s.apply(n,a||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(n,e[1])).done)return a;switch(n=0,(e=a?[0,a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,n=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],n=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};!function(n){"use strict";n.KagiReversalKind={ATR:"atr",FIXED:"fixed",POINTS:"points"},Object.freeze(n.KagiReversalKind);var i,t=(i=n.PriceStyle,__extends(e,i),Object.defineProperty(e,"className",{get:function(){return"kagi"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversal",{get:function(){return this._options.reversal||e.defaults.reversal},set:function(t){this._options.reversal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversalValue",{get:function(){return this._reversalValue},enumerable:!0,configurable:!0}),e.prototype.createPlot=function(){return new n.BarPlot({plotStyle:n.BarPlot.Style.KAGI,plotType:n.PlotType.PRICE_STYLE})},e.prototype.dataSeriesSuffix=function(){return n.DataSeriesSuffix.KAGI},e.prototype.primaryDataSeriesSuffix=function(t){var e=i.prototype.primaryDataSeriesSuffix.call(this,t);if(e)return e;switch(t){case n.DataSeriesSuffix.DATE:case n.DataSeriesSuffix.VOLUME:return this.dataSeriesSuffix();default:return""}},e.prototype._calculateReversalValue=function(){var t,i=this,e=this.reversal,o=this.chart&&this.chart.instrument,r=o&&o.tickSize;switch(e.kind){case n.KagiReversalKind.ATR:t=this._calculateAtr(e.value);break;case n.KagiReversalKind.FIXED:t=e.value;break;case n.KagiReversalKind.POINTS:r&&(t=e.value*r),o&&!r&&this.chart.localizeText("instrument.notification.missingTickSize",{instrument:o.symbol}).then(function(e){return __awaiter(i,void 0,void 0,function(){return __generator(this,function(t){return[2,n.UI.Notification.error(e,this.chart)]})})});break;default:throw new Error("Unknown reversal amount kind: "+e.kind)}return this._reversalValue=t},e.prototype.updateComputedDataSeries=function(){var t=this.chart.dataManager,e=t.barDataSeries(n.DataSeriesSuffix.KAGI,!0),i=this._calculateReversalValue();i&&n.BarConverter.convertToKagi(t.barDataSeries(),i,e)},e.defaults={reversal:{kind:n.KagiReversalKind.ATR,value:20}},e);function e(t){return i.call(this,t)||this}n.KagiPriceStyle=t,n.PriceStyle.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var o,t=(o=i.PriceStyle,__extends(e,o),Object.defineProperty(e,"className",{get:function(){return"lineBreak"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lines",{get:function(){return this._options.lines||e.defaults.lines},set:function(t){if(!i.JsUtil.isFiniteNumber(t)||t<=0)throw new Error("Lines count must be a number greater than 0.");this._options.lines=t},enumerable:!0,configurable:!0}),e.prototype.createPlot=function(){return new i.BarPlot({plotStyle:i.BarPlot.Style.LINE_BREAK,plotType:i.PlotType.PRICE_STYLE})},e.prototype.dataSeriesSuffix=function(){return i.DataSeriesSuffix.LINE_BREAK},e.prototype.primaryDataSeriesSuffix=function(t){var e=o.prototype.primaryDataSeriesSuffix.call(this,t);if(e)return e;switch(t){case i.DataSeriesSuffix.DATE:case i.DataSeriesSuffix.VOLUME:return this.dataSeriesSuffix();default:return""}},e.prototype.updateComputedDataSeries=function(){var t=this.chart.dataManager,e=t.barDataSeries(i.DataSeriesSuffix.LINE_BREAK,!0);i.BarConverter.convertToLineBreak(t.barDataSeries(),this.lines,e)},e.defaults={lines:3},e);function e(t){return o.call(this,t)||this}i.LineBreakPriceStyle=t,i.PriceStyle.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"line"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.LinePlot({plotStyle:t.LinePlot.Style.SIMPLE,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.LinePriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"mountain"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.LinePlot({plotStyle:t.LinePlot.Style.MOUNTAIN,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.MountainPriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__awaiter=this&&this.__awaiter||function(n,a,l,s){return new(l=l||Promise)(function(t,e){function i(t){try{r(s.next(t))}catch(t){e(t)}}function o(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new l(function(t){t(e.value)}).then(i,o)}r((s=s.apply(n,a||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(n,e[1])).done)return a;switch(n=0,(e=a?[0,a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,n=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],n=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};!function(n){"use strict";n.PointAndFigureBoxSizeKind={ATR:"atr",FIXED:"fixed",POINTS:"points"},Object.freeze(n.PointAndFigureBoxSizeKind),n.PointAndFigureSource={CLOSE:"close",HIGH_LOW:"highLow"},Object.freeze(n.PointAndFigureSource);var i,t=(i=n.PriceStyle,__extends(e,i),Object.defineProperty(e,"className",{get:function(){return"pointAndFigure"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this._options.source},set:function(t){this._options.source=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxSize",{get:function(){return this._options.boxSize||e.defaults.boxSize},set:function(t){this._options.boxSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversal",{get:function(){return this._options.reversal||e.defaults.reversal},set:function(t){if(null!=t&&!n.JsUtil.isPositiveNumber(t))throw new TypeError("Reversal must be a positive number.");this._options.reversal=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxSizeValue",{get:function(){return this._boxSizeValue},enumerable:!0,configurable:!0}),e.prototype.createPlot=function(){var t=new n.PointAndFigurePlot({plotStyle:n.BarPlot.Style.POINT_AND_FIGURE,plotType:n.PlotType.PRICE_STYLE});return t.boxSize=this._boxSizeValue,t},e.prototype.dataSeriesSuffix=function(){return n.DataSeriesSuffix.POINT_AND_FIGURE},e.prototype.primaryDataSeriesSuffix=function(t){var e=i.prototype.primaryDataSeriesSuffix.call(this,t);if(e)return e;switch(t){case n.DataSeriesSuffix.DATE:case n.DataSeriesSuffix.VOLUME:return this.dataSeriesSuffix();default:return""}},e.prototype._calculateBoxSizeValue=function(){var t,i=this,e=this.boxSize,o=this.chart&&this.chart.instrument,r=o&&o.tickSize;switch(e.kind){case n.PointAndFigureBoxSizeKind.ATR:t=this._calculateAtr(e.value);break;case n.PointAndFigureBoxSizeKind.FIXED:t=e.value;break;case n.PointAndFigureBoxSizeKind.POINTS:r&&(t=e.value*r),o&&!r&&this.chart.localizeText("instrument.notification.missingTickSize",{instrument:o.symbol}).then(function(e){return __awaiter(i,void 0,void 0,function(){return __generator(this,function(t){return[2,n.UI.Notification.error(e,this.chart)]})})});break;default:throw new Error("Unknown box size kind: "+e.kind)}return this._boxSizeValue=t},e.prototype.updateComputedDataSeries=function(){var t,e=this.chart.dataManager,i=e.barDataSeries(n.DataSeriesSuffix.POINT_AND_FIGURE,!0),o=this._calculateBoxSizeValue();o&&((t=this._plot)&&(t.boxSize=o),n.BarConverter.convertToPointAndFigure(e.barDataSeries(),o,this.reversal,this.source,i))},e.defaults={source:n.PointAndFigureSource.CLOSE,boxSize:{kind:n.PointAndFigureBoxSizeKind.ATR,value:20},reversal:3},e);function e(t){return i.call(this,t)||this}n.PointAndFigurePriceStyle=t,n.PriceStyle.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__awaiter=this&&this.__awaiter||function(n,a,l,s){return new(l=l||Promise)(function(t,e){function i(t){try{r(s.next(t))}catch(t){e(t)}}function o(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new l(function(t){t(e.value)}).then(i,o)}r((s=s.apply(n,a||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(n,e[1])).done)return a;switch(n=0,(e=a?[0,a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,n=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],n=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};!function(n){"use strict";n.RenkoBoxSizeKind={FIXED:"fixed",ATR:"atr",POINTS:"points"},Object.freeze(n.RenkoBoxSizeKind);var i,t=(i=n.PriceStyle,__extends(e,i),Object.defineProperty(e,"className",{get:function(){return"renko"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxSize",{get:function(){return this._options.boxSize||e.defaults.boxSize},set:function(t){this._options.boxSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boxSizeValue",{get:function(){return this._boxSizeValue},enumerable:!0,configurable:!0}),e.prototype.createPlot=function(){return new n.BarPlot({plotStyle:n.BarPlot.Style.RENKO,plotType:n.PlotType.PRICE_STYLE})},e.prototype.dataSeriesSuffix=function(){return n.DataSeriesSuffix.RENKO},e.prototype.primaryDataSeriesSuffix=function(t){var e=i.prototype.primaryDataSeriesSuffix.call(this,t);if(e)return e;switch(t){case n.DataSeriesSuffix.DATE:case n.DataSeriesSuffix.VOLUME:return this.dataSeriesSuffix();default:return""}},e.prototype._calculateBoxSizeValue=function(){var t,i=this,e=this.boxSize,o=this.chart&&this.chart.instrument,r=o&&o.tickSize;switch(e.kind){case n.RenkoBoxSizeKind.ATR:t=this._calculateAtr(e.value);break;case n.RenkoBoxSizeKind.FIXED:t=e.value;break;case n.RenkoBoxSizeKind.POINTS:r&&(t=e.value*r),o&&!r&&this.chart.localizeText("instrument.notification.missingTickSize",{instrument:o.symbol}).then(function(e){return __awaiter(i,void 0,void 0,function(){return __generator(this,function(t){return[2,n.UI.Notification.error(e,this.chart)]})})});break;default:throw new Error("Unknown box size kind: "+e.kind)}return this._boxSizeValue=t},e.prototype.updateComputedDataSeries=function(){var t=this.chart.dataManager,e=t.barDataSeries(n.DataSeriesSuffix.RENKO,!0),i=this._calculateBoxSizeValue();i&&n.BarConverter.convertToRenko(t.barDataSeries(),i,e)},e.defaults={boxSize:{kind:n.RenkoBoxSizeKind.ATR,value:20}},e);function e(t){return i.call(this,t)||this}n.RenkoPriceStyle=t,n.PriceStyle.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"candleVolume"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.BarPlot({plotStyle:t.BarPlot.Style.CANDLE_VOLUME,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.CandleVolumePriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"equiVolume"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.BarPlot({plotStyle:t.BarPlot.Style.EQUI_VOLUME,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.EquiVolumePriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.PriceStyle,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"equiVolumeShadow"},enumerable:!0,configurable:!0}),o.prototype.createPlot=function(){return new t.BarPlot({plotStyle:t.BarPlot.Style.EQUI_VOLUME_SHADOW,plotType:t.PlotType.PRICE_STYLE})},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.EquiVolumeShadowPriceStyle=i,t.PriceStyle.register(i)}(StockChartX=StockChartX||{}),function(e){"use strict";var t=(Object.defineProperty(i.prototype,"callback",{get:function(){return this._callback},set:function(t){if(null!=t&&!e.JsUtil.isFunction(t))throw new TypeError("Callback must be a function.");this._callback=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"started",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),i.prototype.start=function(){if(!this.callback)throw new Error("Callback is not assigned.");return!this._isStarted&&(!!e.AnimationController.add(this)&&(this._isStarted=!0))},i.prototype.stop=function(){e.AnimationController.remove(this),this._isStarted=!1},i.prototype.handleAnimationFrame=function(){this.callback.call(this.context)},i.prototype.destroy=function(){this.stop(),this.context=null},i);function i(t){this._isStarted=!1,this.context=null,this.recurring=!0,t&&(this.context=t.context,null!=t.recurring&&(this.recurring=t.recurring),this.callback=t.callback)}e.Animation=t}(StockChartX=StockChartX||{}),function(t){"use strict";window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,e.AnimationInterval)};var e=(i.hasAnimationsToRun=function(){return 0<this._animations.length},i.contains=function(t){return 0<=this._animations.indexOf(t)},i.add=function(t){if(this.contains(t))return!1;var e=this.hasAnimationsToRun();return this._animations.push(t),e||this._runAnimation(),!0},i.remove=function(t){var e=this._animations,t=e.indexOf(t);return!(t<0)&&(e.splice(t,1),!0)},i._runAnimation=function(){var t=this;requestAnimationFrame(function(){return t._handleAnimationFrame()})},i._handleAnimationFrame=function(){if(Date.now()-this._prevStartTime>=this.AnimationInterval){for(var t=this._animations,e=0;e<t.length;e++){var i=t[e];i.handleAnimationFrame(),i.recurring||(i.stop(),e--)}this._prevStartTime=Date.now()}this.hasAnimationsToRun()&&this._runAnimation()},i.AnimationInterval=1e3/(t.Environment.isMobile?20:40),i._animations=[],i._prevStartTime=Date.now(),i);function i(){}t.AnimationController=e}(StockChartX=StockChartX||{}),function(o){"use strict";var i;(t=i=o.MouseButton||(o.MouseButton={}))[t.LEFT=1]="LEFT",t[t.SCROLL=2]="SCROLL",t[t.RIGHT=3]="RIGHT",o.MouseEvent={ENTER:"mouseenter",LEAVE:"mouseleave",MOVE:"mousemove",DOWN:"mousedown",UP:"mouseup",CLICK:"click",DOUBLE_CLICK:"dblclick",CONTEXT_MENU:"contextmenu",WHEEL:"mousewheel",SCROLL:"DOMMouseScroll",OVER:"mouseover"},Object.freeze(o.MouseEvent),o.TouchEvent={START:"touchstart",MOVE:"touchmove",END:"touchend"},Object.freeze(o.TouchEvent),o.GestureState={NONE:0,STARTED:1,CONTINUED:2,FINISHED:3},Object.freeze(o.GestureState);var t=(Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointerKind",{get:function(){return this._pointerType},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(t){return this._updatePointerKind(t),!1},e.prototype._checkButton=function(t){var e=this.button;return null==e||(!(e!==i.LEFT||!o.Environment.isPhone&&!o.Environment.isMobile)||t.evt.which===e)},e.prototype._checkKeys=function(t){if(!this._keys)return!0;for(var e=0,i=this._keys;e<i.length;e++)switch(i[e]){case o.Key.SHIFT:if(!t.evt.shiftKey)return!1;break;case o.Key.CTRL:if(!t.evt.ctrlKey)return!1;break;case o.Key.ALT:if(!t.evt.altKey)return!1}return!0},e.prototype._checkHit=function(t){if(t.evt.type===o.MouseEvent.LEAVE)return!1;var e=this.hitTest;return!!e&&e.call(this.context,t.pointerPosition)},e.prototype._invokeHandler=function(t){var e=this.handler;e&&e.call(this.context,this,t)},e.prototype._updatePointerKind=function(t){switch(t.evt.type){case o.MouseEvent.CLICK:case o.MouseEvent.CONTEXT_MENU:case o.MouseEvent.DOUBLE_CLICK:case o.MouseEvent.DOWN:case o.MouseEvent.LEAVE:case o.MouseEvent.MOVE:case o.MouseEvent.OVER:case o.MouseEvent.SCROLL:case o.MouseEvent.UP:case o.MouseEvent.WHEEL:this._pointerType=1;break;case o.TouchEvent.START:case o.TouchEvent.MOVE:case o.TouchEvent.END:this._pointerType=2;break;default:this._pointerType=0}},e.prototype.isActive=function(){var t=this._state;return t===o.GestureState.STARTED||t===o.GestureState.CONTINUED},e);function e(t){this.handler=null,this.hitTest=null,this.context=null,this.button=null,this._state=o.GestureState.NONE,this._pointerType=0,t&&(this.handler=t.handler,this.hitTest=t.hitTest,this.context=t.context,this._keys=t.keys,this.button=t.button)}o.Gesture=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){"use strict";var i,t=(i=e.Gesture,__extends(o,i),o.prototype.handleEvent=function(t){switch(t.evt.type){case e.MouseEvent.ENTER:case e.MouseEvent.MOVE:case e.TouchEvent.START:case e.TouchEvent.MOVE:if(this._checkHit(t))return this.isActive()?(this._state=e.GestureState.CONTINUED,this.hoverEnabled&&this._invokeHandler(t)):(this._state=e.GestureState.STARTED,this.enterEnabled&&this._invokeHandler(t)),!0;if(this.isActive())return this._checkHit(t)||(this._state=e.GestureState.FINISHED,this.leaveEnabled&&this._invokeHandler(t)),!0;break;case e.MouseEvent.LEAVE:case e.TouchEvent.END:if(this.isActive())return this._state=e.GestureState.FINISHED,this.leaveEnabled&&this._invokeHandler(t),!0}return!1},o);function o(t){var e=i.call(this,t)||this;return e.enterEnabled=!0,e.hoverEnabled=!0,e.leaveEnabled=!0,t&&(null!=t.enterEventEnabled&&(e.enterEnabled=t.enterEventEnabled),null!=t.hoverEventEnabled&&(e.hoverEnabled=t.hoverEventEnabled),null!=t.leaveEventEnabled&&(e.leaveEnabled=t.leaveEventEnabled)),e}e.MouseHoverGesture=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){"use strict";var a,t=(a=n.Gesture,__extends(e,a),Object.defineProperty(e.prototype,"minMoveDistance",{get:function(){return this._minMoveDistance},set:function(t){if(!n.JsUtil.isPositiveNumber(t))throw new Error("minMoveDistance must be a positive number.");this._minMoveDistance=t},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(t){a.prototype.handleEvent.call(this,t);var e=this._lastPoint={x:t.pointerPosition.x,y:t.pointerPosition.y};switch(t.evt.type){case n.MouseEvent.DOWN:case n.TouchEvent.START:if(this._checkButton(t)&&this._checkHit(t))return this._prevPoint={x:e.x,y:e.y},this._state=n.GestureState.STARTED,this._invokeHandler(t),!0;break;case n.MouseEvent.MOVE:case n.TouchEvent.MOVE:var i=this.moveOffset;if(this.isActive()){i.x=e.x-this._prevPoint.x,i.y=e.y-this._prevPoint.y;var o,r=this.minMoveDistance;return(this.horizontalMoveEnabled&&Math.abs(i.x)>=r||this.verticalMoveEnabled&&Math.abs(i.y)>=r)&&(r=this._animation,this._state=n.GestureState.CONTINUED,r.started||(o=n.JsUtil.shallowClone(t),r.callback=function(){this._prevPoint=this._lastPoint,this._invokeHandler(o)},r.start())),!0}break;case n.MouseEvent.UP:case n.MouseEvent.LEAVE:case n.TouchEvent.END:if(this.isActive())return this._animation.stop(),this._state=n.GestureState.FINISHED,this._invokeHandler(t),!0}return!1},e);function e(t){var e=a.call(this,t)||this;return e.moveOffset={x:0,y:0},e._minMoveDistance=1,e.horizontalMoveEnabled=!0,e.verticalMoveEnabled=!0,e._prevPoint=null,e._lastPoint=null,e._animation=new n.Animation({context:e,recurring:!1}),t&&(null!=t.minMoveDistance&&(e.minMoveDistance=t.minMoveDistance),null!=t.horizontalMoveEnabled&&(e.horizontalMoveEnabled=t.horizontalMoveEnabled),t.verticalMoveEnabled&&(e.verticalMoveEnabled=t.verticalMoveEnabled)),e}n.PanGesture=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(l){"use strict";var e,t=(e=l.Gesture,__extends(s,e),s.prototype.handleEvent=function(t){var e=t.evt,i=e.originalEvent;switch(e.type){case l.MouseEvent.WHEEL:case l.MouseEvent.SCROLL:if(this._checkHit(t))return e.type===l.MouseEvent.SCROLL?this.delta=0<i.detail?1:-1:this.delta=i.wheelDelta<0?1:-1,this._state=l.GestureState.FINISHED,this._invokeHandler(t),!0;break;case l.TouchEvent.START:if(!this.isActive()&&2===i.touches.length)return this._prevScale=this._lastScale=i.scale,(void 0!==this._prevScale||(this._prevScale=this._lastScale=s._calculateScale(i.touches),void 0!==this._prevScale))&&(this._state=l.GestureState.STARTED,!0);break;case l.TouchEvent.MOVE:if(this.isActive()){var o=this._lastScale=i.scale,r=t.pointerPosition;if(void 0===o){var n=i.touches;if(2!==n.length)return!0;o=this._lastScale=s._calculateScale(n),r=s._zoomPoint(n)}var a,n=o-this._prevScale,o=(0<this._prevScale&&o<0||this._prevScale<0&&0<o?2:1)*this._scaleThreshold;return Math.abs(n)>=o&&(this.delta=n<0?1:-1,this._state=l.GestureState.CONTINUED,(n=this._animation).started||(a=l.JsUtil.shallowClone(t),n.callback=function(){this._prevScale=this._lastScale,a.pointerPosition=r,this._invokeHandler(a)},n.start())),!0}break;case l.TouchEvent.END:if(this.isActive())return this._state=l.GestureState.FINISHED,!0}return!1},s._calculateScale=function(t){var e=t[0].pageX-t[1].pageX,t=t[0].pageY-t[1].pageY;return Math.sqrt(e*e+t*t)/Math.max(window.innerWidth,window.innerHeight)},s._zoomPoint=function(t){return{x:(t[0].pageX+t[1].pageX)/2,y:(t[0].pageY+t[1].pageY)/2}},s);function s(t){t=e.call(this,t)||this;return t.delta=0,t._prevScale=0,t._lastScale=0,t._scaleThreshold=.005,t._animation=new l.Animation({context:t,recurring:!1}),t}l.MouseWheelGesture=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var i,t=(i=r.Gesture,__extends(n,i),Object.defineProperty(n.prototype,"maxTouchOffset",{get:function(){return this._maxTouchOffset},set:function(t){if(!r.JsUtil.isPositiveNumber(t))throw new Error("Max touch offset must be a number greater than 0.");this._maxTouchOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxTouchInterval",{get:function(){return this._maxTouchInterval},set:function(t){if(!r.JsUtil.isPositiveNumber(t))throw new Error("Max touch interval must be a number greater than 0.");this._maxTouchInterval=t},enumerable:!0,configurable:!0}),n.prototype.handleEvent=function(t){switch(t.evt.type){case r.MouseEvent.CLICK:if(!n._isTouch&&this._finishGesture(t))return!0;break;case r.TouchEvent.START:n._isTouch=!0,this._checkHit(t)&&(this._startPoint=t.pointerPosition,this._startDate=new Date,this._state=r.GestureState.STARTED);break;case r.TouchEvent.END:if(!this.isActive())break;var e=Math.abs(t.pointerPosition.x-this._startPoint.x),i=Math.abs(t.pointerPosition.y-this._startPoint.y),o=new Date;if(e<=this._maxTouchOffset&&i<=this._maxTouchOffset&&o-this._startDate<=this._maxTouchInterval&&this._finishGesture(t))return!0;this._state=r.GestureState.NONE}return!1},n.prototype._finishGesture=function(t){if(this._checkButton(t)&&this._checkHit(t)&&this._checkKeys(t))return this._state=r.GestureState.FINISHED,this._invokeHandler(t),!0},n);function n(t){var e=i.call(this,t)||this;return e._maxTouchOffset=10,e._maxTouchInterval=500,t&&(t.maxTouchOffset&&(e.maxTouchOffset=t.maxTouchOffset),t.maxTouchInterval&&(e.maxTouchInterval=t.maxTouchInterval)),e}r.ClickGesture=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var i,t=(i=r.Gesture,__extends(e,i),Object.defineProperty(e.prototype,"maxTouchOffset",{get:function(){return this._maxTouchOffset},set:function(t){if(!r.JsUtil.isPositiveNumber(t))throw new Error("Max touch offset must be a number greater than 0.");this._maxTouchOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxTouchInterval",{get:function(){return this._maxTouchInterval},set:function(t){if(!r.JsUtil.isPositiveNumber(t))throw new Error("Max touch interval must be a number greater than 0.");this._maxTouchInterval=t},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(t){switch(t.evt.type){case r.MouseEvent.DOUBLE_CLICK:if(this._finishGesture(t))return!0;break;case r.TouchEvent.START:if(this.isActive())return this._isSecondTouch=!0;if(this._checkHit(t))return this._startPoint=t.pointerPosition,this._startDate=new Date,this._isSecondTouch=!1,this._state=r.GestureState.STARTED,!0;this._state=r.GestureState.NONE;break;case r.TouchEvent.END:if(!this._isSecondTouch)break;var e=Math.abs(t.pointerPosition.x-this._startPoint.x),i=Math.abs(t.pointerPosition.y-this._startPoint.y),o=new Date;if(e<=this._maxTouchOffset&&i<=this._maxTouchOffset&&o-this._startDate<=this._maxTouchInterval){if(this._finishGesture(t))return!0}else this._state=r.GestureState.NONE}return!1},e.prototype._finishGesture=function(t){return!(!this._checkButton(t)||!this._checkHit(t))&&(this._state=r.GestureState.FINISHED,this._invokeHandler(t),t.stopPropagation=!0)},e);function e(t){var e=i.call(this,t)||this;return e._maxTouchOffset=10,e._maxTouchInterval=2500,t&&(t.maxTouchOffset&&(e.maxTouchOffset=t.maxTouchOffset),t.maxTouchInterval&&(e.maxTouchInterval=t.maxTouchInterval)),e}r.DoubleClickGesture=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var i,t=(i=r.Gesture,__extends(e,i),Object.defineProperty(e.prototype,"maxTouchOffset",{get:function(){return this._maxTouchOffset},set:function(t){if(!r.JsUtil.isPositiveNumber(t))throw new Error("Max touch offset must be a number greater than 0.");this._maxTouchOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touchInterval",{get:function(){return this._touchInterval},set:function(t){if(!r.JsUtil.isPositiveNumber(t))throw new Error("Touch interval must be a number greater than 0.");this._touchInterval=t},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(t){switch(t.evt.type){case r.MouseEvent.CONTEXT_MENU:if(this._finishGesture(t))return!0;break;case r.TouchEvent.START:this._checkHit(t)&&(this._startPoint=t.pointerPosition,this._lastEvent=r.JsUtil.clone(t),this._state=r.GestureState.STARTED,this._startTimeout());break;case r.TouchEvent.MOVE:this.isActive()&&(this._lastEvent=r.JsUtil.clone(t));break;case r.TouchEvent.END:if(this._stopTimeout(),this._lastEvent)return this._lastEvent=null,t.stopPropagation=!0}return!1},e.prototype._startTimeout=function(){var o=this;this._timeoutId=setTimeout(function(){var t=o._lastEvent;if(o.isActive()&&t){var e=Math.abs(t.pointerPosition.x-o._startPoint.x),i=Math.abs(t.pointerPosition.y-o._startPoint.y);if(e<=o._maxTouchOffset&&i<=o._maxTouchOffset&&o._finishGesture(t))return!0;o._state=r.GestureState.NONE}},this._touchInterval)},e.prototype._stopTimeout=function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},e.prototype._finishGesture=function(t){if(this._checkHit(t))return this._state=r.GestureState.FINISHED,this._invokeHandler(t),!0},e);function e(t){var e=i.call(this,t)||this;return e._maxTouchOffset=10,e._touchInterval=2e3,t&&(t.maxTouchOffset&&(e.maxTouchOffset=t.maxTouchOffset),t.touchInterval&&(e.touchInterval=t.touchInterval)),e}r.ContextMenuGesture=t}(StockChartX=StockChartX||{}),function(l){"use strict";var t=(e.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,o=l.JsUtil.flattenArray(t);i<o.length;i++){var r=o[i];this.contains(r)||this.gestures.push(r)}},e.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=l.JsUtil.flattenArray(t),o=this.gestures,r=0,n=i;r<n.length;r++){var a=n[r],a=o.indexOf(a);0<=a&&o.splice(a,1)}},e.prototype.contains=function(t){return 0<=this.gestures.indexOf(t)},e.prototype.handleEvent=function(t,e){void 0===e&&(e=!0);for(var i=!1,o=0,r=this.gestures;o<r.length;o++){var n=r[o];e?!n.handleEvent(t)||n instanceof l.MouseHoverGesture||(i=!0):(n instanceof l.MouseHoverGesture||t.evt.type===l.MouseEvent.LEAVE||t.evt.type===l.MouseEvent.UP)&&n.handleEvent(t)}return i},e);function e(t,e,i){if(this.gestures=[],t&&(this.add(t),e||i))for(var o=0,r=this.gestures;o<r.length;o++){var n=r[o];n.context||(n.context=e),n.hitTest||(n.hitTest=i)}}l.GestureArray=t}(StockChartX=StockChartX||{}),function(i){"use strict";var e=jQuery,t=(Object.defineProperty(o,"renderer",{get:function(){var t=this._renderer;return t||((t=new i.CanvasRenderer).canvas=e("<canvas></canvas>")[0],this._renderer=t)},enumerable:!0,configurable:!0}),o.applyTextTheme=function(t){this.renderer.textTheme(t)},o.textWidth=function(t,e){var i=this.renderer;return e&&i.textTheme(e),i.textWidth(t)},o.measureText=function(t,e){return{width:this.textWidth(t,e),height:i.HtmlUtil.getFontSize(e)+1}},o);function o(){}i.DummyCanvasContext=t}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(i.calculateLinearRegression=function(t){for(var e=0,i=0,o=t.length,r=0;r<o;r++)e+=r,i+=t[r];for(var e=0===o?0:e/o,i=0===o?0:i/o,n=0,a=0,r=0;r<o;r++)n+=(r-e)*(t[r]-i),a+=Math.pow(r-e,2);var l=0===a?0:n/a;return{slope:l,firstValue:i-l*e}},i);function i(){}t.DrawingCalculationUtil=e}(StockChartX=StockChartX||{}),function(c){"use strict";var t=(Object.defineProperty(e.prototype,"dateScale",{get:function(){return this._dateScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueScale",{get:function(){return this._valueScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canResolveX",{get:function(){return!!this._dateScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canResolveY",{get:function(){return!!this._valueScale},enumerable:!0,configurable:!0}),e.prototype.columnByRecord=function(t,e){t-=Math.trunc(this._dateScale.firstVisibleRecord);return t=!1!==e?Math.trunc(t):t},e.prototype.recordByColumn=function(t,e){t+=Math.trunc(this._dateScale.firstVisibleRecord);return t=!1!==e?Math.trunc(t):t},e.prototype.xByColumn=function(t,e,i){var o,r=this._dateScale,n=r.columnWidth,a=r.firstVisibleRecord,l=(a-Math.trunc(a))*n,a=r.projectionFrame,r=this.dateScale.columnValues;return null!==r&&t&&0<t?(o=a.left-l+r.centers[t],t>r.centers.length-1&&(o=a.left-l+r.centers[r.centers.length-1]+r.visibleColumnsWidths[r.visibleColumnsWidths.length-1])):o=a.left-l+t*n,!1!==e&&(o+=n/2),!1!==i?Math.round(o):o},e.prototype.columnByX=function(t,e){var i,o=this._dateScale,r=o.projectionFrame,n=o.firstVisibleRecord,a=o.columnWidth,o=(n-Math.trunc(n))*a,n=this.dateScale.columnValues;return null!==n&&0<t?(i=~c.JsUtil.binarySearch(n.centers,t),n.centers[i]!==t&&0<=i&&i<n.centers.length&&(Math.abs(t-n.centers[i-1])<Math.abs(t-n.centers[i])&&(i-=1),i<n.centers.length-1&&(i+=100*(t-(n.centers[i]-n.visibleColumnsWidths[i]/2))/n.visibleColumnsWidths[i]/100))):i=(t-r.left+o)/a,!1!==e?Math.floor(i):i},e.prototype.xByRecord=function(t,e,i){return this.xByColumn(this.columnByRecord(t,e),e,i)},e.prototype.recordByX=function(t,e){return this.recordByColumn(this.columnByX(t,e),e)},e.prototype.dateByRecord=function(t){var e=this._dateScale.getDateDataSeries().values;if(0===e.length)return new Date(0);if(t<0){var i=e[0].getTime()+t*this._dateScale.chart.timeInterval;return new Date(i)}return t>=e.length?(i=e[e.length-1].getTime()+(t-e.length+1)*this._dateScale.chart.timeInterval,new Date(i)):e[t]},e.prototype.recordByDate=function(t){var e=this._dateScale,i=e.getDateDataSeries();if(0===i.length)return-1;var o,r=i.floorIndex(t);return r<0?(o=t.getTime()-i.firstValue.getTime(),r=Math.floor(o/e.chart.timeInterval)):r>=i.length&&(t=t.getTime()-i.lastValue.getTime(),r=i.length-1+Math.floor(t/e.chart.timeInterval)),r},e.prototype.dateByColumn=function(t){t=this.recordByColumn(t);return this.dateByRecord(t)},e.prototype.columnByDate=function(t){t=this.xByDate(t,!1);return this.columnByX(t)},e.prototype.dateByX=function(t){t=Math.round(t);var e=this.columnByX(t),i=this.xByColumn(e,!0,!1),o=this.dateByColumn(e);if(t===i)return o;var r=t<i?e-1:e+1,n=this.xByColumn(r,!0,!1),e=this.dateByColumn(r),r=i-n,n=o.getTime(),o=n;return 0!=r&&(r=(t-i)/r,o+=(n-e.getTime())*r),new Date(o)},e.prototype.xByDate=function(t,e){var i=this.recordByDate(t),o=this.xByRecord(i,!0,!1),r=this.dateByRecord(i),n=i+1,a=this.xByRecord(n,!0,!1),i=this.dateByRecord(n),n=r.getTime(),i=i.getTime()-r.getTime(),r=o;return 0!=i&&(r+=(a-o)*((t.getTime()-n)/i)),!1!==e?Math.round(r):r},e.prototype.yByValue=function(t){var e=this._valueScale,i=e.projectionFrame,o=e.maxVisibleValue,r=e.minVisibleValue;switch(e.kind){case c.ScaleKind.LINEAR:var n=i.height/(o-r);return Math.round(i.top+(o-t)*n);case c.ScaleKind.LOGARITHMIC:var a=i.bottom,l=i.top,n=this._logarithmfromValue(r),l=(this._logarithmfromValue(o)-n)/(l-a);return Math.round((this._logarithmfromValue(t)-n)/l+a);default:throw new Error("Unknown value scale kind: "+e.kind)}},e.prototype.valueByY=function(t){var e=this._valueScale,i=e.projectionFrame,o=e.maxVisibleValue,r=e.minVisibleValue;switch(e.kind){case c.ScaleKind.LINEAR:var n=(o-r)/i.height;return o-(t-i.top)*n;case c.ScaleKind.LOGARITHMIC:var a=i.height,l=i.top,s=this._logarithmfromValue(r),n=this._logarithmfromValue(o);return Math.exp(s+(n-s)/(l-a)*(t-a))-1;default:throw new Error("Unknown value scale kind: "+e.kind)}},e.prototype._logarithmfromValue=function(t){return t<0?-c.JsUtil.log(Math.abs(t)+1):c.JsUtil.log(t+1)},e);function e(t,e){this._dateScale=t,this._valueScale=e}c.Projection=t}(StockChartX=StockChartX||{}),function(c){"use strict";var t=(Object.defineProperty(e.prototype,"dateDataSeries",{get:function(){return this.getDataSeries(c.DataSeriesSuffix.DATE)},enumerable:!0,configurable:!0}),e.prototype.findDataSeries=function(t){var e,i=this._dataSeries;for(e in i)if(i.hasOwnProperty(e)){var o=e.lastIndexOf(t);if(0<=o&&o===e.length-t.length)return i[e]}return null},e.prototype.getDataSeries=function(t,e){void 0===e&&(e=!1);var i=this._dataSeries[t];return i||(e?this.addDataSeries(t):null)},e.prototype.indexByDate=function(t){var e=this.dateDataSeries;if(!e)return null;t=e.binaryIndexOf(t);return 0<=t?t:null},e.prototype.clearDataSeries=function(t){var e;if(t)"string"==typeof t?(e=this.getDataSeries(t))&&e.clear():t.clear();else for(var i in e=this._dataSeries)e.hasOwnProperty(i)&&e[i].clear()},e.prototype.trimDataSeries=function(t){var e,i=this._dataSeries;for(e in i)i.hasOwnProperty(e)&&i[e].trim(t)},e.prototype.addBarDataSeries=function(t){var e=c.DataSeriesSuffix;return{date:this.addDataSeries((t=void 0===t?"":t)+e.DATE),open:this.addDataSeries(t+e.OPEN),high:this.addDataSeries(t+e.HIGH),low:this.addDataSeries(t+e.LOW),close:this.addDataSeries(t+e.CLOSE),volume:this.addDataSeries(t+e.VOLUME),ticksCount:this.addDataSeries(t+e.TICKS_COUNT),details:this.addDataSeries(t+e.DETAILS)}},e.prototype.barDataSeries=function(t,e){var i=c.DataSeriesSuffix;return{date:this.getDataSeries((t=void 0===t?"":t)+i.DATE,e=void 0===e?!1:e),open:this.getDataSeries(t+i.OPEN,e),high:this.getDataSeries(t+i.HIGH,e),low:this.getDataSeries(t+i.LOW,e),close:this.getDataSeries(t+i.CLOSE,e),volume:this.getDataSeries(t+i.VOLUME,e),ticksCount:this.getDataSeries(t+i.TICKS_COUNT,e),details:this.getDataSeries(t+i.DETAILS,e)}},e.prototype.clearBarDataSeries=function(t){var e=c.DataSeriesSuffix,t=t&&t.symbol||"";this.clearDataSeries(t+e.DATE),this.clearDataSeries(t+e.OPEN),this.clearDataSeries(t+e.HIGH),this.clearDataSeries(t+e.LOW),this.clearDataSeries(t+e.CLOSE),this.clearDataSeries(t+e.VOLUME),this.clearDataSeries(t+e.TICKS_COUNT),this.clearDataSeries(t+e.DETAILS)},e.prototype.ohlcDataSeries=function(t,e){var i=c.DataSeriesSuffix;return{open:this.getDataSeries((t=void 0===t?"":t)+i.OPEN,e=void 0===e?!1:e),high:this.getDataSeries(t+i.HIGH,e),low:this.getDataSeries(t+i.LOW,e),close:this.getDataSeries(t+i.CLOSE,e)}},e.prototype.addDataSeries=function(t,e){if(void 0===e&&(e=!1),!t)throw new Error("Data series is not specified.");if("string"==typeof t)return this.addDataSeries(new c.DataSeries(t),e);if(!(t instanceof c.DataSeries))throw new TypeError("Invalid data series. Name or data series object expected.");var i=t.name;if(!i||"string"!=typeof i)throw new TypeError("Data series name must be non-empty string.");if(this.getDataSeries(i)&&!e)throw new Error("Data series '"+i+"' already exists.");return this._dataSeries[i]=t},e.prototype.removeDataSeries=function(t){t?(t="string"==typeof t?t:t.name,delete this._dataSeries[t]):this._dataSeries={}},e.prototype.appendBars=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.appendInstrumentBars.apply(this,[{}].concat(t))},e.prototype.appendInstrumentBars=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var t=t&&t.symbol,o=this.barDataSeries(t,!0),t=function(t){o.date.add(t.date),o.open.add(t.open),o.high.add(t.high),o.low.add(t.low),o.close.add(t.close),o.volume.add(t.volume),o.ticksCount.add(1),o.details.addArray(t.details)};Array.isArray(e)?c.JsUtil.flattenedArray(e,t):t(e)},e.prototype.insertBars=function(t,e){this.insertInstrumentBars({},t,e)},e.prototype.insertInstrumentBars=function(t,e,i){var o=c.JsUtil.flattenArray([i]),r=o.map(function(t){return t.date}),n=o.map(function(t){return t.open}),a=o.map(function(t){return t.high}),l=o.map(function(t){return t.low}),s=o.map(function(t){return t.close}),i=o.map(function(t){return t.volume}),o=o.map(function(t){return t.details}),t=this.barDataSeries(t&&t.symbol);t.date.insert(e,r),t.open.insert(e,n),t.high.insert(e,a),t.low.insert(e,l),t.close.insert(e,s),t.volume.insert(e,i),t.ticksCount.insert(e,1),t.details.insert(e,o)},e.prototype.bar=function(t,e){var i=e||this.barDataSeries(),e="number"==typeof t?t:this.indexByDate(t);if(null==e||e<0||e>=i.date.length)return null;t={date:i.date.valueAtIndex(e),open:i.open.valueAtIndex(e),high:i.high.valueAtIndex(e),low:i.low.valueAtIndex(e),close:i.close.valueAtIndex(e),volume:i.volume.valueAtIndex(e),ticksCount:i.ticksCount.valueAtIndex(e)};return i.details&&(t.details=i.details.valueAtIndex(e)),t},e.prototype.updateBarByIndex=function(t,e){var i=this.barDataSeries();i.date.valueAtIndex(t,e.date),i.open.valueAtIndex(t,e.open),i.close.valueAtIndex(t,e.close),i.high.valueAtIndex(t,e.high),i.low.valueAtIndex(t,e.low),i.volume.valueAtIndex(t,e.volume),i.ticksCount.valueAtIndex(t,i.ticksCount.valueAtIndex(t)+1)},e.prototype.updateLastBar=function(t,e){e=e&&e.symbol?e.symbol:"",e=this.barDataSeries(e);e.open.updateLast(t.open),e.high.updateLast(t.high),e.low.updateLast(t.low),e.close.updateLast(t.close),e.volume.updateLast(t.volume),e.date.updateLast(t.date),e.ticksCount.updateLast(e.ticksCount.lastValue+1)},e.prototype.getLastBar=function(t){t=t&&t.symbol||"",t=this.barDataSeries(t,!0);return 0===t.date.values.length?null:{open:t.open.lastValue,high:t.high.lastValue,low:t.low.lastValue,close:t.close.lastValue,volume:t.volume.lastValue,date:t.date.lastValue,ticksCount:t.ticksCount.lastValue}},e);function e(){this._dataSeries={}}c.DataManager=t}(StockChartX=(StockChartX=StockChartX||{})||{}),function(D){"use strict";var t=(e._setupOhlcDataSeries=function(t,e){var i=D.DataSeriesSuffix;return(e=e||{open:new D.DataSeries(t+i.OPEN),high:new D.DataSeries(t+i.HIGH),low:new D.DataSeries(t+i.LOW),close:new D.DataSeries(t+i.CLOSE)}).open.clear(),e.high.clear(),e.low.clear(),e.close.clear(),e},e._setupBarDataSeries=function(t,e){var i=D.DataSeriesSuffix;return(e=this._setupOhlcDataSeries(t,e)).date?e.date.clear():e.date=new D.DataSeries(t+i.DATE),e.volume?e.volume.clear():e.volume=new D.DataSeries(t+i.VOLUME),e.details?e.details.clear():e.details=new D.DataSeries(t+i.DETAILS),e},e.convertToHeikinAshi=function(t,e){var i=D.DataSeriesSuffix;e=this._setupOhlcDataSeries(i.HEIKIN_ASHI,e);for(var o=t.open.values,r=t.high.values,n=t.low.values,a=t.close.values,l=a.length,s=e.open.values,c=e.high.values,h=e.low.values,u=e.close.values,f=0;f<l;f++){var d=0<f?(s[f-1]+u[f-1])/2:o[f],p=(o[f]+r[f]+n[f]+a[f])/4,y=Math.max(d,p,r[f]),m=Math.min(d,p,n[f]);s.push(d),c.push(y),h.push(m),u.push(p)}return e},e.convertToRenko=function(t,e,i){var o=D.DataSeriesSuffix;i=this._setupBarDataSeries(o.RENKO,i);var r=t.date.values,o=t.open.values,n=t.close.values,a=t.volume.values,l=n.length,s=i.date.values,c=i.open.values,h=i.high.values,u=i.low.values,f=i.close.values,d=i.volume.values;if(0===l)return i;for(var p=null,y=Math.floor(o[0]/e)*e+e,m=y-e,_=0,C=0;C<l;C++){_+=a[C];var p=p||new Date(r[C].getTime()),b=n[C];if(e<=b-m){for(var g=Math.trunc((b-m)/e),S=0;S<g;S++)y=m,m+=e,s.push(p),c.push(y),h.push(m),u.push(y),f.push(m),d.push(_),p=new Date(p.getTime()+1e3);_=0,p=null}else if(e<=y-b){for(g=Math.trunc((y-b)/e),S=0;S<g;S++)m=y,y-=e,s.push(p),c.push(m),h.push(m),u.push(y),f.push(y),d.push(_),p=new Date(p.getTime()+1e3);_=0,p=null}}return i},e.convertToLineBreak=function(t,e,i){var o=D.DataSeriesSuffix;i=this._setupBarDataSeries(o.LINE_BREAK,i);var r=t.date.values,o=t.open.values,n=t.close.values,a=t.volume.values,l=n.length,s=i.date.values,c=i.open.values,h=i.high.values,u=i.low.values,f=i.close.values,d=i.volume.values;if(0===l)return i;for(var p=null,y=o[0],m=o[0],_=0,C=0;C<l;C++){_+=a[C],null==p&&(p=new Date(r[C].getTime()));var b=n[C],g=m<b,S=b<y;if(g||S){var v=y,w=f.length;if(0<w&&(v=(g?h:u)[w-1]),c.push(v),h.push(Math.max(v,b)),u.push(Math.min(v,b)),f.push(b),s.push(p),d.push(_),g)for(var m=b,P=w-1;w-e<=P&&f[P]>c[P];P--)y=u[P];if(S)for(y=b,P=w-1;w-e<=P&&f[P]<c[P];P--)m=h[P];p=_=null}}return i},e.convertToPointAndFigure=function(t,e,i,o,r){r=this._setupBarDataSeries(D.DataSeriesSuffix.LINE_BREAK,r);var n=t.date.values,a=t.high.values,l=t.low.values,s=t.close.values,c=t.volume.values,h=s.length,u=r.date.values,f=r.open.values,d=r.high.values,p=r.low.values,y=r.close.values,m=r.volume.values;if(0===h)return r;for(var _=null,C=e*i,b=!1,g=s[0]+e/2,S=g-e,v=0,w=o===D.PointAndFigureSource.HIGH_LOW,P=0;P<h;P++){if(g<(O=(w?a:s)[P])){b=!0;break}if((E=(w?l:s)[P])<S){b=!1;break}v+=c[P]}for(;P<h;P++){v+=c[P],null==_&&(_=new Date(n[P].getTime()));var k,x,O=(w?a:s)[P],E=(w?l:s)[P];b?g<O?g+=Math.round((O-g)/e)*e:E<g-C&&(x=g-e,k=S-Math.round((S-E)/e)*e,1e-4<Math.abs(x-k)&&(f.push(S),d.push(g),p.push(S),y.push(g),m.push(v),u.push(_),S=k,g=x,v=0,_=null,b=!1)):E<S?S-=Math.round((S-E)/e)*e:S+C<O&&(k=S+e,x=g+Math.round((O-g)/e)*e,1e-4<Math.abs(x-k)&&(f.push(g),d.push(g),p.push(S),y.push(S),m.push(v),u.push(_),S=k,g=x,v=0,b=!(_=null)))}return _&&(u.push(_),f.push(b?S:g),d.push(g),p.push(S),y.push(b?g:S),m.push(v)),r},e.convertToKagi=function(t,e,i){var o=D.DataSeriesSuffix;i=this._setupBarDataSeries(o.LINE_BREAK,i);var r=t.date.values,o=t.open.values,n=t.close.values,a=t.volume.values,l=n.length,s=i.date.values,c=i.open.values,h=i.high.values,u=i.low.values,f=i.close.values,d=i.volume.values;if(0===l)return i;for(var p=null,y=0,m=n[0],_=o[0],C=_<=m,b=0;b<l;b++){var p=p||new Date(r[b].getTime()),g=n[b],S=g-m;C!==0<=S&&Math.abs(S)>=e?(s.push(p),c.push(_),h.push(Math.max(_,m)),u.push(Math.min(_,m)),f.push(m),d.push(y),_=m,m=g,C=!C,p=null,y=0):(m=C?Math.max(m,g):Math.min(m,g),y+=a[0])}return i},e);function e(){}D.BarConverter=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var e;r.DateScaleScrollKind={NORMAL:"normal",AUTOSCALED:"autoscaled"},Object.freeze(r.DateScaleScrollKind),r.DateScaleZoomKind={NORMAL:"normal",AUTOSCALED:"autoscaled"},Object.freeze(r.DateScaleZoomKind),r.DateScaleZoomMode={PIN_CENTER:"pin_center",PIN_LEFT:"pin_left",PIN_RIGHT:"pin_right",PIN_MOUSE:"pin_mouse"},Object.freeze(r.DateScaleZoomMode),(a=e=r.BarsUpdateKind||(r.BarsUpdateKind={}))[a.TICK=0]="TICK",a[a.NEW_BAR=1]="NEW_BAR",r.DateScaleAutoScrollKind={NONE:"none",HIDDEN_BAR:"hidden_bar",ALWAYS:"always",VISIBLE_BAR:"visible_bar"},Object.freeze(r.DateScaleAutoScrollKind),r.DateScaleAutoScrollMode={NEW_BAR:"new_bar",TICK:"tick"},Object.freeze(r.DateScaleAutoScrollMode);var i,o="scxTopDateScale",n="scxBottomDateScale",t=".scxDateScale",a=(i=r.ChartComponent,__extends(l,i),Object.defineProperty(l.prototype,"topPanel",{get:function(){return this._topPanel},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"bottomPanel",{get:function(){return this._bottomPanel},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"topPanelCssClass",{get:function(){return o},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"bottomPanelCssClass",{get:function(){return n},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"topPanelVisible",{get:function(){return this._topPanel.visible},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"bottomPanelVisible",{get:function(){return this._bottomPanel.visible},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"projection",{get:function(){return this._projection},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"projectionFrame",{get:function(){return this._projectionFrame},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"calibrator",{get:function(){return this._calibrator},set:function(t){this._calibrator=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"firstVisibleIndex",{get:function(){return this._firstVisibleIndex},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lastVisibleIndex",{get:function(){return this._lastVisibleIndex},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"firstVisibleRecord",{get:function(){return this._options.firstVisibleRecord},set:function(t){this.allowPartialRecords||(t=Math.trunc(t));var e=this._options.firstVisibleRecord;e!==t&&(this._options.firstVisibleRecord=t,this._firstVisibleIndex=Math.floor(t),this.chart.fireValueChanged(r.ChartEvent.FIRST_VISIBLE_RECORD_CHANGED,e,t))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lastVisibleRecord",{get:function(){return this._options.lastVisibleRecord},set:function(t){this.allowPartialRecords||(t=Math.trunc(t));var e=this._options.lastVisibleRecord;e!==t&&(this._options.lastVisibleRecord=t,this._lastVisibleIndex=Math.ceil(t),this.chart.fireValueChanged(r.ChartEvent.LAST_VISIBLE_RECORD_CHANGED,e,t))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visibleDateRange",{get:function(){var t=this.projectionFrame;return{min:this.projection.dateByX(t.left),max:this.projection.dateByX(t.right)}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"useManualHeight",{get:function(){return this._options.useManualHeight},set:function(t){this._options.useManualHeight=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"manualHeight",{get:function(){return this._options.height},set:function(t){if(!r.JsUtil.isPositiveNumber(t))throw new Error("Height must be a positive number.");this._options.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"minVisibleRecords",{get:function(){return this._options.minVisibleRecords},set:function(t){if(!r.JsUtil.isPositiveNumber(t))throw new Error("Records must be a finite number greater than 0.");this._options.minVisibleRecords=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rightAdditionalSpaceRatio",{get:function(){return this._options.rightAdditionalSpaceRatio},set:function(t){if(r.JsUtil.isNegativeNumber(t))throw new TypeError("Ratio must be a positive number.");this._options.rightAdditionalSpaceRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scrollKind",{get:function(){return this._options.scrollKind},set:function(t){this._options.scrollKind=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"autoScrollKind",{get:function(){return this._options.autoScrollKind},set:function(t){this._options.autoScrollKind=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"autoScrollMode",{get:function(){return this._options.autoScrollMode},set:function(t){this._options.autoScrollMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"zoomKind",{get:function(){return this._options.zoomKind},set:function(t){this._options.zoomKind=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"zoomMode",{get:function(){return this._options.zoomMode},set:function(t){this._options.zoomMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"theme",{get:function(){return this._options.theme},set:function(t){var e=this._options.theme;this._options.theme=t,this.chart.fireValueChanged(r.ChartEvent.DATE_SCALE_THEME_CHANGED,e,t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"actualTheme",{get:function(){return this._options.theme||this.chart.theme.dateScale},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"columnsCount",{get:function(){return this.needsAutoScale()?0:this._options.lastVisibleRecord-this._options.firstVisibleRecord+1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"columnWidth",{get:function(){return this._columnWidth},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"maxAllowedRecord",{get:function(){var t=this._projectionFrame.width*this.rightAdditionalSpaceRatio/this._columnWidth;return this.getDateDataSeries().length-1+t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"majorTickMarkLength",{get:function(){return this._options.majorTickMarkLength},set:function(t){this._options.majorTickMarkLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"minorTickMarkLength",{get:function(){return this._options.minorTickMarkLength},set:function(t){this._options.minorTickMarkLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"textPadding",{get:function(){return this._options.textPadding},set:function(t){this._options.textPadding=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"allowPartialRecords",{get:function(){return this._options.allowPartialRecords},set:function(t){this._options.allowPartialRecords!==t&&(this._options.allowPartialRecords=t,this.firstVisibleRecord=this.firstVisibleRecord,this.lastVisibleRecord=this.lastVisibleRecord)},enumerable:!0,configurable:!0}),l.prototype._subscribe=function(){var e=this;this.chart.on(r.ChartEvent.LOCALE_CHANGED+t,function(t){e._formatter.locale=t.value},this)},l.prototype._unsubscribe=function(){this.chart.off(t,this)},l.prototype._calculateProjectionMetrics=function(){var t=this._projectionFrame.width,e=this.chart.primaryDataSeries(r.DataSeriesSuffix.VOLUME).values;0<e.length&&this.chart.priceStyle.className===r.BarPlotStyle.CANDLE_VOLUME||this.chart.priceStyle.className===r.BarPlotStyle.EQUI_VOLUME||this.chart.priceStyle.className===r.BarPlotStyle.EQUI_VOLUME_SHADOW?(this.columnValues={},this._calculateVolumeOnProjection(e)):this.columnValues=null,this._columnWidth=t/this.columnsCount,this.chart.smartPriceStyleHandler&&this.chart.smartPriceStyleHandler.adopt()},l.prototype.setNeedsAutoScale=function(){this.firstVisibleRecord=null,this.lastVisibleRecord=null},l.prototype.needsAutoScale=function(){return null==this.firstVisibleRecord||null==this.lastVisibleRecord},l.prototype.autoScale=function(){var t=this.chart.recordCount;this.firstVisibleRecord=0<t?0:null,this.lastVisibleRecord=0<t?t-1:null,this._wasAutoscale=!0},l.prototype.getDateDataSeries=function(){return this.chart.primaryDataSeries(r.DataSeriesSuffix.DATE)},l.prototype.handleEvent=function(t){return this._bottomPanel.handleEvent(t)||this._topPanel.handleEvent(t)},l.prototype.formatDate=function(t){return this._formatter.timeInterval=this.chart.timeInterval,this._formatter.format(t)},l.prototype.scrollOnPixels=function(t){if(!isFinite(t))throw new Error("Finite number expected.");if(Math.abs(t)<3)return!1;var e=Math.abs(t)/this.columnWidth;return this.allowPartialRecords||(e=Math.ceil(e)),this.scrollOnRecords(0<=t?e:-e)},l.prototype.scrollOnRecords=function(t){if(0===t)return!1;var e=this.allowPartialRecords,i=this.firstVisibleRecord,o=this.lastVisibleRecord,r=i-t,t=o-t;if(e||(r=Math.round(r),t=Math.round(t)),!this.canSetVisibleRecord(r)||!this.canSetVisibleRecord(t)){if(0<=r)return!1;if(t=o-i,!this.canSetVisibleRecord(r=0)||!this.canSetVisibleRecord(t))return!1}return this.firstVisibleRecord=r,this.lastVisibleRecord=t,this.requestMoreHistoryIfNeed(),!0},l.prototype.zoomOnPixels=function(t,e){if(null==e&&(e=t),!isFinite(t)||!isFinite(e))throw new Error("Pixels must be a finite number.");if(Math.abs(t)<3&&Math.abs(e)<3)return!1;var i=this.columnWidth,o=this.allowPartialRecords,r=Math.abs(t)/i,i=Math.abs(e)/i;return o||(r=Math.ceil(r),i=Math.ceil(i)),this.zoomOnRecords(0<t?r:-r,0<e?i:-i)},l.prototype.zoomOnRecords=function(t,e){if(null==e&&(e=t),0===t&&0===e)return!1;var i=this.allowPartialRecords,o=this.firstVisibleRecord,r=this.lastVisibleRecord,n=o+t,t=r-e;if(i||(n=Math.round(n),t=Math.round(t)),t<n&&(n=t=Math.max(t,r)),!this.canSetVisibleRecord(n))return this.firstVisibleRecord=0,this.requestMoreHistoryIfNeed(),!1;this.canSetVisibleRecord(t)||(t=this.maxAllowedRecord);e=n!==o||t!==r;if(e){i=t-n+1;if(i<r-o+1&&i<this.minVisibleRecords)return!1;if(n>=this.getDateDataSeries().length)return!1;this.firstVisibleRecord=n,this.lastVisibleRecord=t,this.requestMoreHistoryIfNeed()}return e},l.prototype._handleZoom=function(t,e){switch(this.zoomMode){case r.DateScaleZoomMode.PIN_CENTER:this.zoomOnPixels(t);break;case r.DateScaleZoomMode.PIN_LEFT:this.zoomOnPixels(0,t);break;case r.DateScaleZoomMode.PIN_RIGHT:this.zoomOnPixels(t,0);break;case r.DateScaleZoomMode.PIN_MOUSE:this.zoomOnPixels(t*e,t*(1-e));break;default:throw new Error("Unknown zoom mode: "+this.zoomMode)}var i=!1;(i=this.zoomKind===r.DateScaleZoomKind.AUTOSCALED?!0:i)||this.chart.setNeedsLayout(),this.chart.setNeedsUpdate(i)},l.prototype.requestMoreHistoryIfNeed=function(){var t=this.chart;0<t.firstVisibleIndex?this._moreHistoryRequested=!1:this._moreHistoryRequested||(t.requestMoreBars(),this._moreHistoryRequested=!0)},l.prototype.saveState=function(){var t=r.JsUtil.clone(this._options);return t.formatter=this._formatter.saveState(),t.calibrator=this._calibrator.saveState(),t},l.prototype.loadState=function(t){t=t||{},this._options={},this.theme=t.theme,this.allowPartialRecords=null==t.allowPartialRecords||!!t.allowPartialRecords,this.firstVisibleRecord=null!=t.firstVisibleRecord?t.firstVisibleRecord:null,this.lastVisibleRecord=null!=t.lastVisibleRecord?t.lastVisibleRecord:null,this.minVisibleRecords=t.minVisibleRecords||5,this.textPadding=t.textPadding||{left:3,top:null,right:3,bottom:3},this.manualHeight=t.height||15,this.useManualHeight=null!=t.useManualHeight&&t.useManualHeight,this.scrollKind=t.scrollKind||r.DateScaleScrollKind.AUTOSCALED,this.zoomKind=t.zoomKind||r.DateScaleZoomKind.AUTOSCALED,this.zoomMode=t.zoomMode||r.DateScaleZoomMode.PIN_MOUSE,this.autoScrollKind=t.autoScrollKind||r.DateScaleAutoScrollKind.VISIBLE_BAR,this.autoScrollMode=t.scrollMode||r.DateScaleAutoScrollMode.NEW_BAR,this.rightAdditionalSpaceRatio=t.rightAdditionalSpaceRatio||.5,t.formatter&&(this._formatter=r.DateTimeFormat.deserialize(t.formatter)),this._formatter.locale=this.chart.locale,this.majorTickMarkLength=t.majorTickMarkLength||5,this.minorTickMarkLength=t.minorTickMarkLength||3,t.calibrator?this._calibrator=r.DateScaleCalibrator.deserialize(t.calibrator):this._calibrator=new r.CustomDateScaleCalibrator},l.prototype.canSetVisibleRecord=function(t){return 0<=t&&t<=this.maxAllowedRecord},l.prototype._onUpdateAnimationCallback=function(){this.layoutScalePanel(this.chart.getBounds()),this.draw()},l.prototype.setNeedsUpdate=function(t){t&&this.setNeedsAutoScale(),this._updateAnimation.start()},l.prototype.layoutScalePanel=function(t){this.needsAutoScale()&&this.autoScale();var e=this._topPanel.layoutPanel(t,!0),i=this._bottomPanel.layoutPanel(t,!1),t=t.clone();return e&&t.cropTop(e),i&&t.cropBottom(i),t},l.prototype.layout=function(t,e){this._projectionFrame.copyFrom(e),(this.needsAutoScale()||this._wasAutoscale)&&(this._projectionFrame.applyPadding(this.chart.chartPanelsContainer.panelPadding),this.needsAutoScale()&&this.autoScale(),this._wasAutoscale=!1),this._calculateProjectionMetrics(),this._calibrator.calibrate(this),this._topPanel.layout(t,!0),this._bottomPanel.layout(t,!1)},l.prototype._canvasStartX=function(){return this._projectionFrame.left-this.chart.chartPanelsFrame.left-this.chart.chartPanelsContainer.panelPadding.left},l.prototype._textDrawBounds=function(){return{left:this.textPadding.left,top:null,width:this.chart.chartPanelsContainer.frame.width,height:null}},l.prototype.clear=function(){this._topPanel.clearPanel(),this._bottomPanel.clearPanel()},l.prototype.draw=function(){if(this._topPanel.draw(),this._bottomPanel.draw(),this.chart.showDrawings)for(var t=0,e=this.chart.chartPanels;t<e.length;t++)for(var i=0,o=e[t].drawings;i<o.length;i++){var r=o[i];r.selected||r.drawDateMarkers()}},l.prototype.applyAutoScroll=function(t){switch(t){case e.NEW_BAR:this._autoScroll(r.DateScaleAutoScrollMode.NEW_BAR);break;case e.TICK:this._autoScroll(r.DateScaleAutoScrollMode.TICK)}},l.prototype.onMoreHistoryRequestCompleted=function(){this._moreHistoryRequested=!1,this.chart.localize()},l.prototype._autoScroll=function(t){var e=this.chart,i=e.recordCount,o=this.lastVisibleRecord-i+1;if(e.state===r.ChartState.NORMAL)switch(this.autoScrollKind){case r.DateScaleAutoScrollKind.ALWAYS:o<0&&this.autoScrollMode===t&&this.scrollOnRecords(o);break;case r.DateScaleAutoScrollKind.VISIBLE_BAR:Math.round(this.lastVisibleRecord)+1===i&&this.scrollOnRecords(-1);break;case r.DateScaleAutoScrollKind.HIDDEN_BAR:o<0&&this.scrollOnRecords(o)}},l.prototype._calculateVolumeOnProjection=function(t){for(var e=this._firstVisibleIndex,i=this._lastVisibleIndex+1,o=t.slice(e,i),r=this._percentValue(o),n=[],a=this.chart.dateScale.projectionFrame.width,l=0,s=o;l<s.length;l++){var c=a/100*(s[l]/r);n.push(c)}for(var h=[],u=0,f=t;u<f.length;u++){c=a/100*(f[u]/r);h.push(c)}o=h.slice(0,e),t=h.slice(i,t.length-1),t=o.concat(n,t);this.columnValues.widths=t,this.columnValues.visibleColumnsWidths=n;var d=[],p=0;d.push(p);for(var y=e+1;y<i+1;y++)p+=this.columnValues.widths[y-1]/2+this.columnValues.widths[y]/2,d.push(p);this.columnValues.centers=d},l.prototype._percentValue=function(t){return t.reduce(function(t,e){return t+e},0)/100},l);function l(t){var e=i.call(this,t)||this;return e._updateAnimation=new r.Animation({context:e,recurring:!1,callback:e._onUpdateAnimationCallback}),e._projectionFrame=new r.Rect,e._columnWidth=0,e._formatter=new r.CustomTimeIntervalDateTimeFormat,e._moreHistoryRequested=!1,e.columnValues=null,e._projection=new r.Projection(e),e._topPanel=new r.DateScalePanel({dateScale:e,cssClass:o,visible:!1}),e._bottomPanel=new r.DateScalePanel({dateScale:e,cssClass:n}),e.loadState(t),e}r.DateScale=a}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(l){"use strict";var i,t="scxDateScale",s="scxDateScaleScroll",e=(i=l.HtmlControl,__extends(n,i),Object.defineProperty(n.prototype,"dateScale",{get:function(){return this._dateScale},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"chart",{get:function(){return this._dateScale&&this._dateScale.chart},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"cssClass",{get:function(){return this._cssClass},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),n.prototype._initGestures=function(){return new l.GestureArray([new l.DoubleClickGesture({handler:this._handleDoubleClickGesture}),new l.PanGesture({handler:this._handlePanGesture,verticalMoveEnabled:!1}),new l.MouseWheelGesture({handler:this._handleMouseWheel})],this,this.hitTest)},n.prototype._handleDoubleClickGesture=function(){this.chart.setNeedsUpdate(),this.chart.setNeedsAutoScaleAll(),this.chart.update()},n.prototype._handlePanGesture=function(t,e){var i=this.chart,o=1===e.evt.which;if((!o||i.scrollEnabled)&&(o||i.zoomEnabled))switch(t.state){case l.GestureState.STARTED:i.rootDiv.addClass(s);break;case l.GestureState.FINISHED:i.rootDiv.removeClass(s);break;case l.GestureState.CONTINUED:var r=t.moveOffset.x,n=!1,a=!1,a=o?(n=this._dateScale.scrollOnPixels(r))&&this._dateScale.scrollKind===l.DateScaleScrollKind.AUTOSCALED:(n=this._dateScale.zoomOnPixels(r))&&this._dateScale.zoomKind===l.DateScaleZoomKind.AUTOSCALED;n&&i.setNeedsUpdate(a)}},n.prototype._handleMouseWheel=function(t,e){var i;this.chart.zoomEnabled&&(i=this.frame.width,e=e.pointerPosition.x/i,this.chart.dateScale._handleZoom(-t.delta*(.05*i),e))},n.prototype.applyTheme=function(){var t,e,i,o,r=this.container;r&&(i=!1!==(e=(t=this._dateScale.actualTheme).border).strokeEnabled,o=this._cssClass===this._dateScale.topPanelCssClass?"border-bottom":"border-top",i?r.css(o,e.width+"px "+e.lineStyle+" "+e.strokeColor):r.css(o,"none"),l.HtmlUtil.setBackground(r,!1!==t.fill.fillEnabled?t.fill.fillColor:n.TRANSPARENT))},n.prototype._getClientHeight=function(){var t=this._dateScale;return t.useManualHeight?t.manualHeight:l.HtmlUtil.getFontSize(t.actualTheme)+t.textPadding.bottom+t.majorTickMarkLength+1},n.prototype.hitTest=function(t){var e=this.frame;return!!e&&l.Geometry.isPointInsideOrNearRect(t,e)},n.prototype._createContainer=function(){return this.chart.rootDiv.scxAppend("div",t).addClass(this._cssClass)},n.prototype.layoutPanel=function(t,e){var i=this.container,o=null,r=!1!==this._dateScale.actualTheme.border.strokeEnabled;return this._isVisible?(i||(this._container=i=this._createContainer(),this.applyTheme()),i.outerWidth(t.width).innerHeight(this._getClientHeight()),(o=this.frame).left=t.left,o.width=t.width,o.height=i.outerHeight(),o.top=e?0:t.bottom-o.height,e||r||--o.top,i.css("left",o.left).css("top",o.top)):this._removeContainer(),o},n.prototype.layout=function(t,e){var i;this.layoutPanel(t,e),this._isVisible?(i=this.container,this._layer||(this._layer=new l.Layer({parent:i})),this._layer.size={width:i.width(),height:i.height()}):(i=this._layer)&&(i.destroy(),this._layer=null)},n.prototype.clearPanel=function(){var t,e;this._layer&&this._layer.canvas&&(t=this._layer.size.width,e=this._layer.size.height,this._layer.renderer.clearRect(0,0,t,e))},n.prototype.draw=function(){if(this._isVisible){var t=this._layer.renderer,e=this._dateScale,i=e.actualTheme,o=this._layer.size.height-e.textPadding.bottom;this.clearPanel(),t.save(),t.translate(.5,.5),t.textTheme(i.text),t.textOptions({baseline:l.TextBaseline.BOTTOM}),t.beginPath();for(var r=0,n=e.calibrator.majorTicks;r<n.length;r++){var a=n[r];a.text&&(t.textOptions({align:a.textAlign}),t.fillText(a.text,a.textX,o))}t.stroke(i.line),t.restore()}},n.TRANSPARENT="transparent",n);function n(t){var e=i.call(this)||this;if(e._isVisible=!0,!(t.dateScale instanceof l.DateScale))throw new TypeError("'config.dateScale' must be an instance of StockChartX.DateScale.");if(e._dateScale=t.dateScale,null==t.cssClass)throw new Error("'config.cssClass' is not specified.");return e._cssClass=t.cssClass,e._isVisible=null==t.visible||!!t.visible,e._initGestures(),e.chart.on(l.ChartEvent.THEME_CHANGED+".scxDateScalePanel",function(){e.applyTheme()}),e}l.DateScalePanel=e}(StockChartX=StockChartX||{}),function(e){"use strict";var t=(Object.defineProperty(i,"registeredCalibrators",{get:function(){return this._calibrators.registeredItems},enumerable:!0,configurable:!0}),i.register=function(t,e){"string"==typeof t?this._calibrators.register(t,e):this._calibrators.register(t.className,t)},i.deserialize=function(t){if(!t)return null;var e=this._calibrators.createInstance(t.className);return e.loadState(t),e},i._calibrators=new e.ClassRegistrar,i);function i(){}var o=(Object.defineProperty(r,"className",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showVirtualDates",{get:function(){return this._showVirtualDates},set:function(t){this._showVirtualDates=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"majorTicks",{get:function(){return this._majorTicks},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minorTicks",{get:function(){return this._minorTicks},enumerable:!0,configurable:!0}),r.prototype.calibrate=function(t){this._majorTicks.length=0,this._minorTicks.length=0,this._calibrateMajorTicks&&this._calibrateMajorTicks(t),this._calibrateMinorTicks()},r.prototype._calibrateMinorTicks=function(t){if(t)for(var e=this.majorTicks,i=0,o=e.length;i<o-1;i++)for(var r=e[i],n=(e[i+1].x-r.x)/(t+1),a=1;a<=t;a++)this.minorTicks.push({x:Math.round(r.x+a*n)})},r.prototype.saveState=function(){return{className:this.constructor.className,options:e.JsUtil.clone(this._options)}},r.prototype.loadState=function(t){this._options=t&&e.JsUtil.clone(t.options)||{}},r);function r(t){this._showVirtualDates=!0,this._majorTicks=[],this._minorTicks=[],this._options={},t&&this.loadState({options:t})}e.DateScaleCalibrator=o,e.JsUtil.applyMixins(o,[t])}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(k){"use strict";var e,t=(e=k.DateScaleCalibrator,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"StockChartX.AutoDateScaleCalibrator"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minLabelsOffset",{get:function(){var t=this._options.majorTicks;return(t&&null!=t.minOffset?t:i.defaults.majorTicks).minOffset},set:function(t){if(null!=t&&k.JsUtil.isNegativeNumber(t))throw new Error("Min labels offset must be greater or equal to 0.");var e=this._options;(e.majorTicks||(e.majorTicks={})).minOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorTicksCount",{get:function(){var t=this._options.minorTicks;return(t&&null!=t.count?t:i.defaults.minorTicks).count},set:function(t){if(null!=t&&k.JsUtil.isNegativeNumber(t))throw new Error("Ticks count must be a positive number or 0.");var e=this._options;(e.minorTicks||(e.minorTicks={})).count=t},enumerable:!0,configurable:!0}),i.prototype._calibrateMajorTicks=function(t){var e=t.getDateDataSeries().values,i=t.chart,o=t.projectionFrame,r=t.projection,n=r.recordByColumn(0),a=t.maxAllowedRecord,l=this.minLabelsOffset,s=t._textDrawBounds(),c=s.left,h=s.left+s.width,u=new Date(0),f=null,d=-1/0,p=k.DummyCanvasContext,y=i.chartPanelsContainer.panelsContentFrame.width;this._formatter.timeInterval=i.timeInterval,this._formatter.locale=i.locale,p.applyTextTheme(t.actualTheme.text);for(var m=p.textWidth("9");n<=a;){var _=0<=n&&n<e.length?e[n]:r.dateByRecord(n),C=this._labelDateString(_,u);if(C&&C!==f){var b=r.xByRecord(n);if(b<o.left)n++;else{if(y<=b)break;var g,S,v=C.length*m,w=b-v/2,P=void 0;if(w<d||(w=b-(v=p.textWidth(C))/2)<d?P=d+v/2:(g=b,S="center",w<c?(w=g=c,S="left"):h<w+v&&(w=(g=h)-v,S="right"),this.majorTicks.push({x:b,textX:g,textAlign:S,date:_,text:C}),d=w+v+l,P=Math.ceil(d),u=_,f=C),y<P)break;P=r.recordByX(P)+1,n=n<P?P:n+1}}else n++}},i.prototype._calibrateMinorTicks=function(){e.prototype._calibrateMinorTicks.call(this,this.minorTicksCount)},i.prototype._labelDateString=function(t,e){if(t<=e)return null;var i=k.TimeSpan,o=this._formatter,r=o.timeInterval,n=t.getFullYear(),a=e.getFullYear();if(r>=i.MILLISECONDS_IN_YEAR)return n!==a?n.toString():null;var l=k.DateTimeFormatName,s=t.getMonth()+1,c=e.getMonth()+1;if(r>=i.MILLISECONDS_IN_MONTH)return n!==a||s!==c?o.formatWithFormatter(t,l.YEAR_MONTH):null;var h=t.getDate(),u=e.getDate();if(r>=i.MILLISECONDS_IN_DAY)return n!==a?o.formatWithFormatter(t,l.DATE):s!==c||h!==u?o.formatWithFormatter(t,l.MONTH_DAY):null;var f=t.getHours(),d=e.getHours(),p=t.getMinutes(),y=e.getMinutes();if(r>=i.MILLISECONDS_IN_MINUTE)return n!==a||s!==c||h!==u?o.formatWithFormatter(t,l.SHORT_DATE_TIME):f!==d||p!==y?o.formatWithFormatter(t,l.SHORT_TIME):null;var m=t.getSeconds(),_=e.getSeconds();if(r>=i.MILLISECONDS_IN_SECOND)return n!==a||s!==c||h!==u?o.formatWithFormatter(t,l.SHORT_DATE_TIME):f!==d||p!==y||m!==_?o.formatWithFormatter(t,l.LONG_TIME):null;i=t.getMilliseconds(),e=e.getMilliseconds();return n!==a||s!==c||h!==u?o.formatWithFormatter(t,l.LONG_DATE_TIME):f!==d||p!==y||m!==_||i!==e?o.formatWithFormatter(t,l.LONG_TIME):null},i.defaults={majorTicks:{minOffset:30},minorTicks:{count:0}},i);function i(t){t=e.call(this,t)||this;return t._formatter=new k.TimeIntervalDateTimeFormat,t}k.AutoDateScaleCalibrator=t,k.DateScaleCalibrator.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(E){"use strict";var e,t=(e=E.DateScaleCalibrator,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"StockChartX.CustomDateScaleCalibrator"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minLabelsOffset",{get:function(){var t=this._options.majorTicks;return(t&&null!=t.minOffset?t:i.defaults.majorTicks).minOffset},set:function(t){if(null!=t&&E.JsUtil.isNegativeNumber(t))throw new Error("Min labels offset must be greater or equal to 0.");var e=this._options;(e.majorTicks||(e.majorTicks={})).minOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorTicksCount",{get:function(){var t=this._options.minorTicks;return(t&&null!=t.count?t:i.defaults.minorTicks).count},set:function(t){if(null!=t&&E.JsUtil.isNegativeNumber(t))throw new Error("Ticks count must be a positive number or 0.");var e=this._options;(e.minorTicks||(e.minorTicks={})).count=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"monospaced",{get:function(){var t=this._options.majorTicks;return(t&&null!=t.monospaced?t:i.defaults.majorTicks).monospaced},set:function(t){var e=this._options;(e.majorTicks||(e.majorTicks={})).monospaced=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"customFormat",{get:function(){var t=this._options.majorTicks;return t?t.customFormat:null},set:function(t){var e=this._options.majorTicks;e&&(e.customFormat=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"customFormatter",{get:function(){var t=this._options.majorTicks;return t?t.customFormatter:null},set:function(t){var e=this._options.majorTicks;e&&(e.customFormatter=t)},enumerable:!0,configurable:!0}),i.prototype._customMajorFormat=function(t,e){var i=this._options.majorTicks;return i&&i.customFormat?i.customFormat(this,t,e):null},i.prototype._customMajorFormatter=function(t,e){var i=this._options.majorTicks;return i&&i.customFormatter?i.customFormatter(this,t,e):null},i.prototype._calibrateMajorTicks=function(t){var e,i,o=t.getDateDataSeries().values,r=t.chart,n=t.projectionFrame,a=t.projection,l=a.recordByColumn(0),s=t.maxAllowedRecord,c=this.minLabelsOffset,h=t._textDrawBounds(),u=h.left,f=h.left+h.width,d=n.left,p=E.DummyCanvasContext,y=t.chart.timeInterval,m=this.monospaced,_=r.chartPanelsContainer.panelsContentFrame.width,C=t.getDateDataSeries().lastValue;this._formatter.locale=r.locale,p.applyTextTheme(t.actualTheme.text);for(var b=p.textWidth("9");l<=s;){var g=0<=l&&l<o.length?o[l]:a.dateByRecord(l),S=this._customMajorFormatter(l,g);if((S=!S?(P=this._customMajorFormat(l,g))?this._formatter.format(g,P):this._labelDateString(g,i&&i.date,y):S)&&S!==(i&&i.text)){var v=a.xByRecord(l);if(v<n.left)l++;else{if(_<=v)break;var w,P,k=S.length*b,x=v-k/2,O=void 0;if(x<d?O=d+k/2:e&&v-i.x<e?O+=e-(v-i.x):(x=v-(k=p.textWidth(S))/2)<d?O=d+k/2:(w=v,P="center",x<u?(x=w=u,P="left"):f<x+k&&(x=(w=f)-k,P="right"),S={x:v,textX:w,textAlign:P,date:g,text:this.showVirtualDates||g<=C?S:null},this.majorTicks.push(S),m&&!e&&i&&(e=v-i.x),d=x+k+c,O=Math.ceil(d),i=S),_<O)break;O=a.recordByX(O)+1,l=l<O?O:l+1}}else l++}},i.prototype._calibrateMinorTicks=function(){e.prototype._calibrateMinorTicks.call(this,this.minorTicksCount)},i.prototype._labelDateString=function(t,e,i){e=e||new Date(0);i=this._findFormat(t,e,i);return i?this._formatter.format(t,i):null},i.prototype._findFormat=function(t,e,i){if(t<=e)return null;var o=E.TimeSpan,r={},n={};return r.year=t.getFullYear(),n.year=e.getFullYear(),i>=o.MILLISECONDS_IN_YEAR?this._yearPeriodicityFormat(r,n):(r.month=t.getMonth()+1,n.month=e.getMonth()+1,i>=o.MILLISECONDS_IN_MONTH?this._monthPeriodicityFormat(r,n):(r.day=t.getDate(),n.day=e.getDate(),i>=o.MILLISECONDS_IN_DAY?this._dayPeriodicityFormat(r,n):(r.hour=t.getHours(),n.hour=e.getHours(),i>=o.MILLISECONDS_IN_HOUR?this._hourPeriodicityFormat(r,n):(r.minute=t.getMinutes(),n.minute=e.getMinutes(),i>=o.MILLISECONDS_IN_MINUTE?this._minutePeriodicityFormat(r,n):(r.second=t.getSeconds(),n.second=e.getSeconds(),i>=o.MILLISECONDS_IN_SECOND?this._secondPeriodicityFormat(r,n):(r.minute=t.getMilliseconds(),n.minute=e.getMilliseconds(),this._millisecondPeriodicityFormat(r,n)))))))},i.prototype._yearPeriodicityFormat=function(t,e){return t.year!==e.year?"YYYY":null},i.prototype._monthPeriodicityFormat=function(t,e){return t.year!==e.year?1===t.month?"YYYY":"MMM YYYY":t.month!==e.month?"MMM":null},i.prototype._dayPeriodicityFormat=function(t,e){return t.year!==e.year?1===t.day?this._monthPeriodicityFormat(t,e):"D MMM YYYY":t.month!==e.month?1===t.day?"MMM":"D MMM":t.day!==e.day?"D":null},i.prototype._hourPeriodicityFormat=function(t,e,i){return void 0===i&&(i=!1),0===t.hour?this._dayPeriodicityFormat(t,e):t.year!==e.year?"D MMM YYYY HH:mm":t.month!==e.month||t.day!==e.day?"D MMM HH:mm":i||t.hour!==e.hour?"HH:mm":null},i.prototype._minutePeriodicityFormat=function(t,e,i){void 0===i&&(i=!1);i=t.minute!==e.minute;return this._hourPeriodicityFormat(t,e,i)},i.prototype._secondPeriodicityFormat=function(t,e){var i=t.second!==e.second,i=this._minutePeriodicityFormat(t,e,i);return i&&0!==t.second&&(i+=":ss"),i},i.prototype._millisecondPeriodicityFormat=function(t,e){var i=this._secondPeriodicityFormat(t,e);return 0===t.millisecond||t.millisecond===e.millisecond?i:i?i+".SSS":"ss.SSS"},i.defaults={majorTicks:{minOffset:30,monospaced:!0},minorTicks:{count:0}},i);function i(t){t=e.call(this,t)||this;return t._formatter=new E.CustomDateTimeFormat,t}E.CustomDateScaleCalibrator=t,E.DateScaleCalibrator.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(C){"use strict";var e,t=(e=C.DateScaleCalibrator,__extends(b,e),Object.defineProperty(b,"className",{get:function(){return"StockChartX.FixedDateScaleCalibrator"},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"majorTicksCount",{get:function(){var t=this._options.majorTicks;return(t&&null!=t.count?t:b.defaults.majorTicks).count},set:function(t){if(null!=t&&C.JsUtil.isNegativeNumber(t))throw new Error("Ticks count must be a positive number.");var e=this._options;(e.majorTicks||(e.majorTicks={})).count=t},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"minorTicksCount",{get:function(){var t=this._options.minorTicks;return(t&&null!=t.count?t:b.defaults.minorTicks).count},set:function(t){if(null!=t&&C.JsUtil.isNegativeNumber(t))throw new Error("Ticks count must be a positive number.");var e=this._options;(e.minorTicks||(e.minorTicks={})).count=t},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"majorTicksFormat",{get:function(){var t=this._options.majorTicks;return t&&t.format||b.defaults.majorTicks.format},set:function(t){var e=this._options;(e.majorTicks||(e.majorTicks={})).format=t},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"customFormat",{get:function(){var t=this._options.majorTicks;return t?t.customFormat:null},set:function(t){var e=this._options.majorTicks;e&&(e.customFormat=t)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"customFormatter",{get:function(){var t=this._options.majorTicks;return t?t.customFormatter:null},set:function(t){var e=this._options.majorTicks;e&&(e.customFormatter=t)},enumerable:!0,configurable:!0}),b.prototype._calibrateMajorTicks=function(t){var e=t.projectionFrame,i=t._textDrawBounds(),o=i.left,r=i.left+i.width,n=t.projection,i=t.chart.chartPanelsContainer.panelPadding,a=e.left-i.left,i=e.right+i.right,l=C.DummyCanvasContext,s=this.majorTicksCount,c=(i-a)/(s-1),h=this.majorTicksFormat;(h=h||{}).other||(h.other=b._createAutoFormat(t.chart)),l.applyTextTheme(t.actualTheme.text);for(var u=0;u<s;u++){var f=a+u*c;this._updateFormatterForLabel(u,u===s-1,h);var d=n.dateByX(f),p=this._customMajorFormatter(u,d);p||(_=this._customMajorFormat(u,d),p=this._formatter.format(d,_));var y=l.textWidth(p),m="center",_=f;f-y/2<o?(_=o,m="left"):r<_+y/2&&(_=r,m="right"),this.majorTicks.push({x:f,textX:f,textAlign:m,date:d,text:p})}},b.prototype._customMajorFormat=function(t,e){var i=this._options.majorTicks;return i&&i.customFormat?i.customFormat(this,t,e):null},b.prototype._customMajorFormatter=function(t,e){var i=this._options.majorTicks;return i&&i.customFormatter?i.customFormatter(this,t,e):null},b.prototype._calibrateMinorTicks=function(){e.prototype._calibrateMinorTicks.call(this,this.minorTicksCount)},b.prototype._updateFormatterForLabel=function(t,e,i){i=e?i.last||i.other:0===t&&i.first||i.other;this._formatter.formatString=i},b._createAutoFormat=function(t){t=t.timeInterval,t=t>=C.TimeSpan.MILLISECONDS_IN_YEAR?"YYYY":t>=C.TimeSpan.MILLISECONDS_IN_MONTH?"YYYY MMM":t>=C.TimeSpan.MILLISECONDS_IN_DAY?"YYYY-MM-DD":t>=C.TimeSpan.MILLISECONDS_IN_MINUTE?"YYYY-MM-DD HH:mm":t>=C.TimeSpan.MILLISECONDS_IN_SECOND?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm:ss.SSS";return t},b.defaults={majorTicks:{count:3},minorTicks:{count:0}},b);function b(t){t=e.call(this,t)||this;return t._formatter=new C.CustomDateTimeFormat,t}C.FixedDateScaleCalibrator=t,C.DateScaleCalibrator.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var o,t=jQuery,r="scxLeftValueScale",n="scxRightValueScale",e=(o=i.ChartComponent,__extends(a,o),Object.defineProperty(a.prototype,"leftPanel",{get:function(){return this._leftPanel},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rightPanel",{get:function(){return this._rightPanel},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"leftPanelCssClass",{get:function(){return r},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rightPanelCssClass",{get:function(){return n},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"useManualWidth",{get:function(){return this._options.useManualWidth},set:function(t){this._options.useManualWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"manualWidth",{get:function(){return this._options.width},set:function(t){if(!i.JsUtil.isFiniteNumber(t)||t<=0)throw new Error("Width must be greater than 0.");this._options.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"leftPanelVisible",{get:function(){return this._options.showLeftPanel},set:function(t){this._leftPanel.visible=this._options.showLeftPanel=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rightPanelVisible",{get:function(){return this._options.showRightPanel},set:function(t){this._rightPanel.visible=this._options.showRightPanel=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"index",{get:function(){return this.chart.valueScales.indexOf(this)},enumerable:!0,configurable:!0}),a.prototype.saveState=function(){return t.extend(!0,{},this._options)},a.prototype.loadState=function(t){t=t||{},this._options={},this.leftPanelVisible=void 0!==t.showLeftPanel&&t.showLeftPanel,this.rightPanelVisible=void 0===t.showRightPanel||t.showRightPanel,this.manualWidth=t.width||100,this.useManualWidth=void 0!==t.useManualWidth&&t.useManualWidth},a.prototype.layout=function(t){var e=this._leftPanel.layout(t,!0),i=this._rightPanel.layout(t,!1),t=t.clone();return e&&t.cropLeft(e),i&&t.cropRight(i),t},a.prototype.destroy=function(){this.leftPanel.destroy(),this.rightPanel.destroy(),o.prototype.destroy.call(this)},a);function a(t){var e=o.call(this,t)||this;return e._options=null,e._leftPanel=new i.ValueScalePanel({valueScale:e,cssClass:r}),e._rightPanel=new i.ValueScalePanel({valueScale:e,cssClass:n}),e.loadState(t),e}i.ValueScale=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){"use strict";var i,t=(i=n.HtmlControl,__extends(a,i),Object.defineProperty(a.prototype,"valueScale",{get:function(){return this._valueScale},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"cssClass",{get:function(){return this._cssClass},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"visible",{get:function(){return this._isVisible},set:function(t){this._isVisible=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"chart",{get:function(){return this._valueScale&&this._valueScale.chart},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){var t=this.container;return t&&t.scxSize()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"contentSize",{get:function(){var t=this.container;return t&&t.scxContentSize()},enumerable:!0,configurable:!0}),a.prototype._createContainer=function(){return this.chart.chartPanelsContainer.container.scxPrepend("div","scxValueScale").addClass(this._cssClass)},a.prototype.layout=function(t,e){var i=this.container,o=null;return this._isVisible?(i||(this._container=i=this._createContainer(),this.applyTheme()),i.width(this.getWidth()).outerHeight(t.height),(o=this.frame).width=i.outerWidth(),o.left=e?t.left:t.right-o.width,o.height=t.height,i.css("left",o.left)):this._removeContainer(),o},a.prototype.getWidth=function(){var t=this._valueScale;if(t.useManualWidth)return t.manualWidth;for(var e=0,i=0,o=this.chart.chartPanels;i<o.length;i++)var r=o[i],e=Math.max(r.preferredValueScaleWidth(this._valueScale),e);return e},a.prototype.applyTheme=function(){var t,e,i,o,r=this.container;r&&(i=!1!==(e=(t=this.chart.theme.valueScale).border).strokeEnabled,o=this._cssClass===this._valueScale.leftPanelCssClass?"border-right":"border-left",i?r.css(o,e.width+"px "+e.lineStyle+" "+e.strokeColor):r.css(o,"none"),n.HtmlUtil.setBackground(r,!1!==t.fill.fillEnabled?t.fill.fillColor:a.TRANSPARENT))},a.TRANSPARENT="transparent",a);function a(t){var e=i.call(this)||this;if(e._isVisible=!0,!t)throw new Error("Config is not specified.");if(!(t.valueScale instanceof n.ValueScale))throw new TypeError("Config.valueScale must be an instance of StockChartX.ValueScale");if(e._valueScale=t.valueScale,!t.cssClass)throw new Error("'config.cssClass' is not specified.");return e._cssClass=t.cssClass,e._isVisible=null==t.visible||t.visible,e.chart.on(n.ChartEvent.THEME_CHANGED+".scxValueScalePanel",function(){e.applyTheme()}),e}n.ValueScalePanel=t}(StockChartX=StockChartX||{}),function(e){"use strict";var t=(Object.defineProperty(i,"registeredCalibrators",{get:function(){return this._calibrators.registeredItems},enumerable:!0,configurable:!0}),i.register=function(t,e){"string"==typeof t?this._calibrators.register(t,e):this._calibrators.register(t.className,t)},i.deserialize=function(t){if(!t)return null;var e=this._calibrators.createInstance(t.className);return e.loadState(t),e},i._calibrators=new e.ClassRegistrar,i);function i(){}var o=(Object.defineProperty(r,"className",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"majorTicks",{get:function(){return this._majorTicks},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"minorTicks",{get:function(){return this._minorTicks},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"divider",{get:function(){return this._options.divider||1},set:function(t){this._options.divider=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"suffix",{get:function(){return this._options.suffix||""},set:function(t){this._options.suffix=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"formater",{get:function(){return this._formatter},set:function(t){this._formatter=t},enumerable:!0,configurable:!0}),r.prototype.calibrate=function(t){this._majorTicks.length=0,this._minorTicks.length=0,this._calibrateMajorTicks&&this._calibrateMajorTicks(t),this._calibrateMinorTicks()},r.prototype.formatValue=function(t){return this._formatter.format(t/this.divider).replace(","," ")+this.suffix},r.prototype._calibrateMinorTicks=function(t){if(t)for(var e=this.majorTicks,i=0,o=e.length;i<o-1;i++)for(var r=e[i],n=(e[i+1].y-r.y)/(t+1),a=1;a<=t;a++)this.minorTicks.push({y:Math.round(r.y+a*n)})},r.prototype.saveState=function(){return{className:this.constructor.className,options:e.JsUtil.clone(this._options)}},r.prototype.loadState=function(t){this._options=t&&e.JsUtil.clone(t.options)||{}},r);function r(t){this._majorTicks=[],this._minorTicks=[],this._options={},t&&this.loadState({options:t}),this._formatter=t&&t.formatter||new e.CustomNumberFormat("%.2f")}e.ValueScaleCalibrator=o,e.JsUtil.applyMixins(o,[t])}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(u){"use strict";var t,e=(t=u.ValueScaleCalibrator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"StockChartX.AutoValueScaleCalibrator"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minValuesOffset",{get:function(){var t=this._options.majorTicks;return(null!=t&&null!=t.minOffset?t:i.defaults.majorTicks).minOffset},set:function(t){if(null!=t&&u.JsUtil.isNegativeNumber(t))throw new Error("Values offset must be a value greater or equal to 0.");var e=this._options;(e.majorTicks||(e.majorTicks={})).minOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorTicksCount",{get:function(){var t=this._options.minorTicks;return(t&&null!=t.count?t:i.defaults.minorTicks).count},set:function(t){if(null!=t&&u.JsUtil.isNegativeNumber(t))throw new Error("Tick count must be greater or equal to 0.");var e=this._options;(e.minorTicks||(e.minorTicks={})).count=t},enumerable:!0,configurable:!0}),i.prototype._calibrateMajorTicks=function(t){for(var e=t.actualTheme,i=u.HtmlUtil.getFontSize(e.text),o=this.minValuesOffset,r=t.padding,e=t.chartPanel.panelPadding,n=Math.round(Math.max(r.top,e.top)+i/2),a=t.chartPanel.layer.canvas.height()-r.bottom-i/2,l=t.projection,s=null;n<a;){var c=l.valueByY(n),h=t.formatValue(c);h!==s&&(this.majorTicks.push({y:n,value:c,text:h}),s=h),n+=i+o}},i.prototype._calibrateMinorTicks=function(){t.prototype._calibrateMinorTicks.call(this,this.minorTicksCount)},i.defaults={majorTicks:{minOffset:10},minorTicks:{count:0}},i);function i(){return null!==t&&t.apply(this,arguments)||this}u.AutoValueScaleCalibrator=e,u.ValueScaleCalibrator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(f){"use strict";var i,t=(i=f.ValueScaleCalibrator,__extends(e,i),Object.defineProperty(e,"className",{get:function(){return"StockChartX.PercentValueScaleCalibrator"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minValuesOffset",{get:function(){var t=this._options.majorTicks;return(null!=t&&null!=t.minOffset?t:f.AutoValueScaleCalibrator.defaults.majorTicks).minOffset},set:function(t){if(null!=t&&f.JsUtil.isNegativeNumber(t))throw new Error("Values offset must be a value greater or equal to 0.");var e=this._options;(e.majorTicks||(e.majorTicks={})).minOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"basePriceHolder",{get:function(){return this._basePriceHolder},set:function(t){this._basePriceHolder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"basePrice",{get:function(){return this._basePriceHolder&&this._basePriceHolder.basePrice||0},enumerable:!0,configurable:!0}),e.prototype._calibrateMajorTicks=function(t){var e=t.actualTheme,i=f.HtmlUtil.getFontSize(e.text),o=this.minValuesOffset,r=t.padding,e=t.chartPanel.chartPanelsContainer.panelPadding,n=Math.round(Math.min(r.top,e.top)),a=t.chartPanel.layer.canvas.height(),l=t.projection,e=this.basePrice,e=l.yByValue(e),s=e,c=null;for(this.majorTicks.push({y:s,value:l.valueByY(s),text:"0 %"}),s=e+(i+o);s<a;){var h=l.valueByY(s);(u=t.formatValue(h))!==c&&(this.majorTicks.push({y:s,value:h,text:u}),c=u),s+=i+o}for(s=e-(i+o);n<s;){var u,h=l.valueByY(s);(u=t.formatValue(h))!==c&&(this.majorTicks.unshift({y:s,value:h,text:u}),c=u),s-=i+o}},e.prototype.formatValue=function(t){return i.prototype.formatValue.call(this,(t-this.basePrice)/this.basePrice*100)},e.defaults={majorTicks:{minOffset:10}},e);function e(t){var e=i.call(this)||this;return e._basePriceHolder=t&&t.basePriceHolder,e.suffix=" %",e}f.PercentValueScaleCalibrator=t,f.ValueScaleCalibrator.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var t,e=(t=i.ValueScaleCalibrator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"StockChartX.FixedValueScaleCalibrator"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"majorTicksCount",{get:function(){var t=this._options.majorTicks;return(t&&null!=t.count?t:o.defaults.majorTicks).count},set:function(t){if(null!=t&&i.JsUtil.isNegativeNumber(t))throw new Error("Tick count must be greater or equal to 0.");var e=this._options;(e.majorTicks||(e.majorTicks={})).count=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"minorTicksCount",{get:function(){var t=this._options.minorTicks;return(t&&null!=t.count?t:o.defaults.minorTicks).count},set:function(t){if(null!=t&&i.JsUtil.isNegativeNumber(t))throw new Error("Tick count must be greater or equal to 0.");var e=this._options;(e.minorTicks||(e.minorTicks={})).count=t},enumerable:!0,configurable:!0}),o.prototype._calibrateMajorTicks=function(t){for(var e=t.padding,i=t.chartPanel.panelPadding,o=Math.max(e.top,i.top),i=t.chartPanel.layer.canvas.height()-Math.max(e.bottom,i.bottom)-o,r=t.projection,n=this.majorTicksCount,a=i/(n-1),l=0;l<n;l++){var s=Math.round(o+l*a),c=r.valueByY(s);this.majorTicks.push({y:s,value:c,text:t.formatValue(c)})}},o.prototype._calibrateMinorTicks=function(){t.prototype._calibrateMinorTicks.call(this,this.minorTicksCount)},o.defaults={majorTicks:{count:3},minorTicks:{count:0}},o);function o(){return null!==t&&t.apply(this,arguments)||this}i.FixedValueScaleCalibrator=e,i.ValueScaleCalibrator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(p){"use strict";var e,t=(e=p.ValueScaleCalibrator,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"StockChartX.IntervalValueScaleCalibrator"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"interval",{get:function(){var t=this._options.majorTicks;return(t&&t.interval?t:i.defaults.majorTicks).interval},set:function(t){if(null!=t){if(!p.JsUtil.isPositiveNumber(t))throw new Error("Interval must be a value greater than 0.");if(t<1e-8)throw new Error("Interval is too small.")}var e=this._options;(e.majorTicks||(e.majorTicks={})).interval=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minValuesOffset",{get:function(){var t=this._options.majorTicks;return(t&&null!=t.minOffset?t:i.defaults.majorTicks).minOffset},set:function(t){if(null!=t&&p.JsUtil.isNegativeNumber(t))throw new Error("Values offset must be a value greater or equal to 0.");var e=this._options;(e.majorTicks||(e.majorTicks={})).minOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorTicksCount",{get:function(){var t=this._options.minorTicks;return(t&&null!=t.count?t:i.defaults.minorTicks).count},set:function(t){if(null!=t&&p.JsUtil.isNegativeNumber(t))throw new Error("Tick count must be greater or equal to 0.");var e=this._options;(e.minorTicks||(e.minorTicks={})).count=t},enumerable:!0,configurable:!0}),i.prototype._calibrateMajorTicks=function(t){this._calibrateIntervalMajorTicks(t),this.majorTicks.length<=1&&(this.majorTicks.length=0,this._calibrateRangeMajorTicks(t))},i.prototype._calibrateMinorTicks=function(){e.prototype._calibrateMinorTicks.call(this,this.minorTicksCount)},i.prototype._calibrateIntervalMajorTicks=function(t){var e=t.chart.instrument,i=e?e.tickSize:this.interval;if(!(i<1e-8||t.maxVisibleValue-t.minVisibleValue<=i))for(var o,r=p.HtmlUtil.getFontSize(t.actualTheme.text),n=r+this.minValuesOffset,e=t.padding,a=t.chartPanel.layer.size.height-e.bottom-r/2,l=t.projection,s=l.valueByY(0),c=Math.round(e.top+r/2),h=c,u=null;c<a;){var f=h;do{if(s=o=s<=(o=i*Math.trunc(l.valueByY(c)/i))?s-i:o,h<=(c=Math.round(l.yByValue(o)))){f=c;break}}while(f=c=f+1,c<a);if(h=c+n,a<=c)break;var d=(this.divider?this:t).formatValue(o);d!==u&&(this.majorTicks.push({y:c,value:o,text:d}),u=d),c=h}},i.prototype._calibrateRangeMajorTicks=function(t){var e,i=p.HtmlUtil.getFontSize(t.actualTheme.text),o=i/2,r=i+this.minValuesOffset,n=t.padding,a=t.chartPanel.layer.size.height,i=n.top+o,n=a-n.bottom-o,o=t.projection;n-i<r?(e=o.valueByY(a=a/2),this.majorTicks.push({y:a,value:e,text:t.formatValue(e)})):(e=o.valueByY(i),this.majorTicks.push({y:i,value:e,text:t.formatValue(e)}),o=o.valueByY(n),this.majorTicks.push({y:n,value:o,text:t.formatValue(o)}))},i.defaults={majorTicks:{interval:.05,minOffset:20},minorTicks:{count:0}},i);function i(t){return e.call(this,t)||this}p.IntervalValueScaleCalibrator=t,p.ValueScaleCalibrator.register(t)}(StockChartX=StockChartX||{}),function(h){"use strict";var t=(Object.defineProperty(e.prototype,"textOffset",{get:function(){var t=this._textOffset;return null!=t?t:e.defaults.textOffset},set:function(t){if(null!=t&&h.JsUtil.isNegativeNumber(t))throw new Error("Text offset must be greater or equal to 0.");this._textOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"theme",{get:function(){return this._theme},set:function(t){this._theme=t},enumerable:!0,configurable:!0}),e.prototype.draw=function(t,e,i){var o,r,n,a,l,s=e.leftFrame,c=e.rightFrame;(s||c)&&(i=i||this.theme,o=e.chartPanel.layer.renderer,r=e.formatValue(t),n=e.projection.yByValue(t),a=this.textOffset,t=i.text.fontSize/2+1,o.save(),e.clip(),o.textOptions({baseline:h.TextBaseline.MIDDLE}),o.beginPath(),s&&(l=s.right-1,o.polygon(l,n,l-t,n+t,s.left,n+t,s.left,n-t,l-t,n-t),o.fillStroke(i.fill,i.line),o.textOptions({align:h.TextAlign.RIGHT}),o.fillText(r,s.right-a,n,i.text)),c&&(l=c.right-1,o.polygon(c.left,n,c.left+t,n-t,l,n-t,l,n+t,c.left+t,n+t),o.fillStroke(i.fill,i.line),o.textOptions({align:h.TextAlign.LEFT}),o.fillText(r,c.left+a,n,i.text)),o.restore())},e.defaults={textOffset:8},e);function e(){}h.ValueMarker=t}(StockChartX=StockChartX||{}),function(s){"use strict";var t=(Object.defineProperty(e.prototype,"theme",{get:function(){return this._theme},set:function(t){this._theme=t},enumerable:!0,configurable:!0}),e.prototype.draw=function(t,e){var i=e.formatDate(t),o=this.theme,r=s.DummyCanvasContext.measureText(i,o.text),n=e.projection.xByDate(t)-r.width/2,a=n-5,l=r.width+10,t=function(t){var e=t.layer.renderer;e.rectPath(a,0,l,t.frame.height),e.fillStroke(o.fill,o.stroke),e.textOptions({align:s.TextAlign.LEFT,baseline:s.TextBaseline.MIDDLE}),e.fillText(i,n,t.frame.height-r.height,o.text)};e.bottomPanelVisible&&t(e.bottomPanel),e.topPanelVisible&&t(e.topPanel)},e);function e(){}s.DateMarker=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var o,t=(o=i.ChartEventsExtender,__extends(e,o),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){null!=t&&(this._tooltip=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chartPanel",{get:function(){return this._panel},set:function(t){var e=this._panel;if(e!==t){if(t&&!(t instanceof i.ChartPanel))throw new TypeError("Panel must be an instance of StockChartX.ChartPanel.");this._panel=t,this._onChartPanelChanged(e),!t||this._valueScale||(t=this._options.valueScaleIndex)&&(this.valueScale=this.chart.valueScales[t])}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){if(this._panel)return this._panel.layer.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){var t=this._panel;return t&&t.chart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueScale",{get:function(){return this._valueScale||this.chart.valueScale},set:function(t){var e=this._valueScale;e!==t&&(this._valueScale=t,this._onValueScaleChanged(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panelValueScale",{get:function(){return this._panel.getValueScale(this.valueScale)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"projection",{get:function(){return this._panel&&this._panel.getProjection(this.valueScale)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._options.visible},set:function(t){var e=this.visible;e!==t&&(this._options.visible=t,this._onVisibleChanged(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._options.zIndex},set:function(t){if(!i.JsUtil.isFiniteNumber(t))throw new Error("Z-index must be a finite number.");this._options.zIndex=t},enumerable:!0,configurable:!0}),e.prototype._setOption=function(t,e,i){var o=this._options,r=o[t];r!==e&&(o[t]=e,i&&this.fire(i,e,r))},e.prototype._onChartPanelChanged=function(t){},e.prototype._onValueScaleChanged=function(t){},e.prototype._onVisibleChanged=function(t){},e.prototype.addChartCssClass=function(t){var e=this.chart;e&&e.addCssClass(t)},e.prototype.removeChartCssClass=function(t){var e=this.chart;e&&e.removeCssClass(t)},e.prototype.changeCursor=function(t){this._prevCursor&&this.removeChartCssClass(this._prevCursor),t&&this.addChartCssClass(t),this._prevCursor=t},e.prototype.saveState=function(){var t={options:i.JsUtil.clone(this._options),tooltip:this.tooltip.saveState()};return this.chartPanel&&(t.panelIndex=this.chartPanel.getIndex()),this.valueScale&&(t.valueScaleIndex=this.valueScale.index),t},e.prototype.loadState=function(t){var e=this.suppressEvents();this._options=(t=t||{}).options||{},this.tooltip.loadState(t.tooltip),this.suppressEvents(e)},e.prototype.draw=function(){},e.prototype.drawValueMarkers=function(){},e.prototype.showTooltip=function(t){var e,i;t&&(i=(e=this.chartPanel).container.scxLocalToClientPoint(t.x,t.y),(t=this.tooltip).layoutRect={top:this.chart.rootDiv.offset().top,left:e.container.offset().left+e.contentFrame.left,width:e.contentFrame.width,height:this.chart.getBounds().height},t.visible?t.moveTo(i):t.show(i))},e.prototype.hideTooltip=function(){this.tooltip.hide()},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.chartPanel=null},e);function e(t){var e=o.call(this)||this;return e._options={},e._tooltip=new i.UI.Tooltip({parent:e}),e.loadState(t),e}i.ChartPanelObject=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(u){"use strict";var n,s=jQuery,t=".scxPanelsContainer",e=(n=u.ChartHtmlControl,__extends(i,n),Object.defineProperty(i.prototype,"panels",{get:function(){return this._panels},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"newPanelHeightRatio",{get:function(){return this._options.newPanelHeightRatio},set:function(t){if(!u.JsUtil.isPositiveNumber(t)||1<=t)throw new Error("Ratio must be a number in range (0..1)");this._options.newPanelHeightRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"panelPadding",{get:function(){return this._options.panelPadding},set:function(t){this._options.panelPadding=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"panelsContentFrame",{get:function(){return this._panelsContentFrame},enumerable:!0,configurable:!0}),i.prototype._initGestures=function(){return new u.GestureArray([new u.MouseHoverGesture({handler:this._handleMouseHoverGesture,hitTest:this._mouseHoverHitTest})],this)},i.prototype._subscribe=function(){var i=this;this.chart.on(u.ChartEvent.THEME_CHANGED+t,function(){for(var t=0,e=i._splitters;t<e.length;t++)e[t].invalidateTheme()})},i.prototype._unsubscribe=function(){this.chart.off(t,this)},i.prototype.handleEvent=function(t){for(var e=0,i=this._splitters;e<i.length;e++)if(i[e].handleEvent(t))return!0;n.prototype.handleEvent.call(this,t),t.pointerPosition.x-=this.frame.left,t.pointerPosition.y-=this.frame.top;for(var o=0,r=this._panels;o<r.length;o++)if(r[o].handleEvent(t))return!0;return!1},i.prototype._handleMouseHoverGesture=function(t,e){this.chart.crossHair.handleMouseHoverGesture(t,e)},i.prototype._mouseHoverHitTest=function(t){return this._panelsContentFrame.containsPoint(t)},i.prototype.addPanel=function(t,e,i){var o,r,n=this._panels,a=e||this.newPanelHeightRatio,e=new u.ChartPanel({chartPanelsContainer:this,options:{heightRatio:a}});try{i&&0<n.length&&(r=(o=this.chart.mainPanel).heightRatio-a)>=o.minHeightRatio?o.heightRatio=r:this._adjustHeightRatiosToEncloseNewRatio(a)}catch(t){a=this._availableHeightRatio();if(!(0<a&&a>=e.minHeightRatio))throw t;e.heightRatio=a}return null==t?n.push(e):n.splice(t,0,e),this._updateSplitters(),this.chart.fireValueChanged(u.ChartEvent.PANEL_ADDED,e),e},i.prototype.removePanel=function(t){var e="number"==typeof t?this._panels[t]:t,i=this.chart,o=i.mainPanel;if(e===o)throw new Error("Main panel cannot be removed.");for(var r=this._panels,n=0;n<r.length;n++)if(r[n]===e){var a=i.selectedObject;a&&a.chartPanel===e&&i.selectObject(null),i.removeIndicators(e.indicators,!1);a=o.heightRatio+e.heightRatio;o.heightRatio=Math.min(Math.roundToDecimals(a,8),1),r.splice(n,1),e.destroy(),this._updateSplitters(),i.fireValueChanged(u.ChartEvent.PANEL_REMOVED,e);break}this.chart.setNeedsUpdate(!0)},i.prototype.movePanel=function(t,e){if(!u.JsUtil.isFiniteNumber(e))throw new TypeError("Offset must be a number.");for(var i=this._panels,o=0;o<i.length;o++)if(i[o]===t){var r=Math.min(Math.max(o-e,0),i.length-1);r!==o&&(i.splice(o,1),i.splice(r,0,t));break}this._updateSplitters()},i.prototype.totalPanelsHeight=function(){var t=this.container.scxContentSize(),e=u.ChartPanelSplitter.getHeight();return t.height-e*(this._panels.length-1)},i.prototype.findPanelAt=function(t){t-=this.frame.top;for(var e=0,i=this._panels;e<i.length;e++){var o=i[e],r=o.frame;if(t>=r.top&&t<=r.bottom&&o.visible)return o}return null},i.prototype.setPanelHeightRatio=function(t,e){var i,o=this.chart.mainPanel;t===o?t.heightRatio=e:(i=t.heightRatio,t.heightRatio=e,o.heightRatio-=t.heightRatio-i)},i.prototype._availableHeightRatio=function(){return 1-this._panels.reduce(function(t,e){return t+e.heightRatio},0)},i.prototype._adjustHeightRatiosToEncloseNewRatio=function(t){for(var e=this._panels,i=e.map(function(t){return t.heightRatio});;){var o=t-this._availableHeightRatio();if(o<=1e-5)break;for(var r=!1,n=0,a=e;n<a.length;n++){var l=a[n],s=l.heightRatio-o*l.heightRatio;s>=l.minHeightRatio&&(l.heightRatio=s,r=!0)}if(!r){for(var c=0;c<i.length;c++)e[c].heightRatio=i[c];throw new Error("Insufficient height. Other panels use too much height. You have to update minimum height weight of existing panels to free some space.")}}},i.prototype._updateSplitters=function(){var t=this._panels,e=this._splitters,i=t.length-1,o=e.length-1-i;if(0<=o){for(var r=0,n=e;r<n.length;r++)n[r].destroy();e.splice(o,e.length-o)}for(var a=0;a<i;a++){var l=a>=e.length,s=l?new u.ChartPanelSplitter:e[a];s.setPanels(a,t[a],t[a+1]),l&&e.push(s)}},i.prototype.saveState=function(){var t=u.JsUtil.clone(this._options);t.panels=[];for(var e=0,i=this._panels;e<i.length;e++){var o=i[e];t.panels.push(o.saveState())}return t},i.prototype.loadState=function(t){t=t||{},this._options={},this.newPanelHeightRatio=t.newPanelHeightRatio||.2,this.panelPadding=t.panelPadding||{left:5,top:10,right:5,bottom:10};for(var e=this._panels,i=0,o=e;i<o.length;i++)(l=o[i]).destroy();if(e.length=0,t.panels)for(var r=0,n=t.panels;r<n.length;r++){var a=n[r],a=s.extend({chartPanelsContainer:this},a),l=new u.ChartPanel(a);e.push(l)}this._updateSplitters()},i.prototype._createContainer=function(){return this.chart.rootDiv.scxAppend("div","scxPanelsContainer")},i.prototype.setNeedsAutoScale=function(){for(var t=0,e=this._panels;t<e.length;t++)e[t].setNeedsAutoScale()},i.prototype.layoutScalePanel=function(t){n.prototype.layout.call(this,t);var e=this.container.scxContentSize(),i=this._panelsContentFrame;i.left=t.left,i.top=t.top,i.width=e.width,i.height=e.height;for(var o=this.chart.valueScales,r=o.length-1;0<=r;r--)i=o[r].layout(i);return this._panelsContentFrame=i,this._panelsContentFrame.width-=this.chart.getTradingPanelWidth(),new u.Rect({left:i.left,top:i.top,width:i.width,height:t.height})},i.prototype.layout=function(t){for(var e,i=0,o=this.panels;i<o.length;i++){var r=o[i];if(1===r.state){e=r;break}}e?this.layoutMaxPanel(e):this.layoutNormalPanels()},i.prototype.layoutMaxPanel=function(t){for(var e=0,i=this.panels;e<i.length;e++){var o=i[e];o.visible=o===t}var r=this.totalPanelsHeight(),n=this.container.scxContentSize(),r=new u.Rect({left:0,top:0,width:n.width,height:r});t.layout(r);for(var a=0,l=this._splitters;a<l.length;a++)l[a].destroy();this._splitters=[]},i.prototype.layoutNormalPanels=function(){this._updateSplitters();for(var t=0,e=this.panels;t<e.length;t++)(s=e[t]).visible=!0;for(var i=this.container.scxContentSize(),o=u.ChartPanelSplitter.getHeight(),r=this._panels.length,n=this.totalPanelsHeight(),a=0,l=0;l<r;l++){var s=this._panels[l],c=Math.round(n*s.heightRatio),h=new u.Rect({left:0,top:a,width:i.width,height:c});a+=c,s.layout(h),l<r-1&&(h=new u.Rect({left:0,top:a,width:i.width,height:o}),this._splitters[l].layout(h),a+=o)}},i.prototype.layoutSplitterPanels=function(t){function e(t){t.frame.height=Math.round(i*t.heightRatio),t.setNeedsUpdate()}var i=this.totalPanelsHeight(),o=t.topPanel;e(o);var r=t.frame;r.top=o.frame.bottom,t.layout(r);t=t.bottomPanel;t.frame.top=r.top+u.ChartPanelSplitter.getHeight(),e(t)},i.prototype.draw=function(){for(var t=0,e=this._panels;t<e.length;t++){var i=e[t];i.visible&&i.draw()}},i.prototype.destroy=function(){for(var t=0,e=this._panels;t<e.length;t++)e[t].destroy();for(var i=0,o=this._splitters;i<o.length;i++)o[i].destroy();n.prototype.destroy.call(this)},i);function i(t){var e=n.call(this,t)||this;return e._panels=[],e._splitters=[],e._options={},e._panelsContentFrame=new u.Rect,e.loadState(t),0===e._panels.length&&e._panels.push(new u.ChartPanel({chartPanelsContainer:e})),e}u.ChartPanelsContainer=e}(StockChartX=StockChartX||{}),function(e){"use strict";var o="scxPanelOptions",r="scxPanelTitleIcon",n="scxPanelClose",a="scxPanelMoveUp",l="scxPanelMoveDown",s="scxPanelMaximize",c="scxPanelRestore",h="scxPanelSettings",u="scxPanelScrollToLast",t=(i.prototype.layout=function(t){var e=this._panel,i=e.chart.chartPanels.length;this._options||this._createControls(t);var o=1===e.state,r=e===e.chart.mainPanel,n=e.getIndex();r&&(t=e.chart.recordCount,t=e.chart.lastVisibleRecord<t-1?"inline":"none",this._scrollToLast.css("display",t)),this._options.css("right",e.chart.getContentRightMargin()+5),this._moveUp.css("display",r||n<2?"none":"inline-block"),this._moveDown.css("display",r||n===i-1?"none":"inline-block"),this._close.css("display",r?"none":"inline-block"),this._restore.css("display",o&&1<i?"inline-block":"none"),this._maximize.css("display",o||i<2?"none":"inline-block"),this._settings.css("display",!r&&e.indicators.some(function(t){return t.allowSettingsDialog})?"inline-block":"none")},i.prototype._createControls=function(t){var e=this._panel,i=e.chart,t=this._options=t.scxAppend("div",o);t.hide(),this._restore=$('<span class="'+r+" "+c+'"\n             data-i18n="[title]chartPanel.options.restore"></span>').appendTo(t).on("click",function(){e.state=0,i.setNeedsUpdate(!0)}),this._settings=$('<span class="'+r+" "+h+'"\n             data-i18n="[title]chartPanel.options.settings"></span>').appendTo(t).on("click",function(){e.indicators[0].showSettingsDialog()}),this._maximize=$('<span class="'+r+" "+s+'"\n             data-i18n="[title]chartPanel.options.maximize"></span>').appendTo(t).on("click",function(){e.state=1,e.chart.setNeedsUpdate()}),this._moveUp=$('<span class="'+r+" "+a+'"\n             data-i18n="[title]chartPanel.options.moveUp"></span>').appendTo(t).on("click",function(){1<e.getIndex()&&(e.chartPanelsContainer.movePanel(e,1),e.chart.setNeedsUpdate())}),this._moveDown=$('<span class="'+r+" "+l+'"\n             data-i18n="[title]chartPanel.options.moveDown"></span>').appendTo(t).on("click",function(){e.chartPanelsContainer.movePanel(e,-1),e.chart.setNeedsUpdate()}),this._close=$('<span class="'+r+" "+n+'"\n             data-i18n="[title]chartPanel.options.close"></span>').appendTo(t).on("click",function(){e.chartPanelsContainer.removePanel(e),e.chart.setNeedsLayout(),e.chart.setNeedsUpdate()}),i.mainPanel===this._panel&&(this._scrollToLast=$('<span class="'+r+" "+u+'"\n                data-i18n="[title]chartPanel.options.scrollToLast"></span>').appendTo(t).on("click",function(){var t=i.lastVisibleRecord-i.firstVisibleRecord;i.dateScale.firstVisibleRecord=Math.max(i.recordCount-t-1,0),i.dateScale.lastVisibleRecord=i.recordCount-1,i.setNeedsUpdate(!0)}))},i.prototype.handleMouseHoverGesture=function(t){switch(t.state){case e.GestureState.STARTED:case e.GestureState.CONTINUED:this._panel.container.find(".scxPanelOptions").show();break;case e.GestureState.NONE:case e.GestureState.FINISHED:this._panel.container.find(".scxPanelOptions").hide()}},i);function i(t){this._panel=t}e.ChartPanelOptionControls=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(y){"use strict";y.PanelMoveDirection={NONE:"none",HORIZONTAL:"horizontal",VERTICAL:"vertical",ANY:"any"},Object.freeze(y.PanelMoveDirection),y.PanelMoveKind={NORMAL:"normal",AUTOSCALED:"autoscaled"},Object.freeze(y.PanelMoveKind),y.PanelEvent={THEME_CHANGED:"panelThemeChanged",X_GRID_VISIBLE_CHANGED:"panelXGridVisibleChanged",Y_GRID_VISIBLE_CHANGED:"panelYGridVisibleChanged",PLOT_ADDED:"panelPlotAdded",PLOT_REMOVED:"panelPlotRemoved",DRAWING_ADDED:"panelDrawingAdded",OBJECT_ADDED:"panelObjectAdded",DRAWING_REMOVED:"panelDrawingRemoved",OBJECT_REMOVED:"panelObjectRemoved",DOUBLE_CLICKED:"panelDoubleClicked",CONTEXT_MENU:"panelContextMenu",MOVE_STARTED:"panelMoveStarted",MOVE_FINISHED:"panelMoveFinished",MOVE_CONTINUED:"panelMoveContinued",FORCE_MOVE_STARTED:"panelForceMoveStarted",FORCE_MOVE_FINISHED:"panelForceMoveFinished",FORCE_MOVE_CONTINUED:"panelForceMoveContinued"},Object.freeze(y.PanelEvent);var m,n="scxChartPanel",s="scxPanelScroll",a="scxPanelTitle",h="scxSymbolTitle",u="scxPanelTitleCaption",f="scxPanelTitleValue",l="scxPanelTitleIcon",_=".scxNavigation",C=".scxPanelTitle",c="scxToggleIndicatorTitles",d="scxIndicatorCollapseShow",p="scxIndicatorCollapseHide",i=".scxPanel",t=(m=y.HtmlControl,__extends(e,m),Object.defineProperty(e.prototype,"chartPanelsContainer",{get:function(){return this._panelsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._panelsContainer._chart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueScales",{get:function(){return this._valueScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueScale",{get:function(){return this._valueScales[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formatter",{get:function(){return this.valueScale.formatter},set:function(t){this.valueScale.formatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{get:function(){return this._components},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"heightRatio",{get:function(){return this._options.heightRatio},set:function(t){if(!y.JsUtil.isFiniteNumber(t)||t<this._options.minHeightRatio||t>this._options.maxHeightRatio)throw new Error("Height ratio must be a number in range [minHeightRatio..maxHeightRatio]");this._options.heightRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeightRatio",{get:function(){return this._options.minHeightRatio},set:function(t){if(!y.JsUtil.isFiniteNumber(t)||t<0||t>this._options.maxHeightRatio)throw new Error("Min height ratio must be a number in range [0..maxHeightRatio].");this._options.minHeightRatio=t,this._options.heightRatio<t&&(this._options.heightRatio=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeightRatio",{get:function(){return this._options.maxHeightRatio},set:function(t){if(!y.JsUtil.isFiniteNumber(t)||t<this.minHeightRatio||1<t)throw new Error("Max height ratio must be a number in range [minHeightRatio..1]");this._options.maxHeightRatio=t,this.heightRatio>t&&(this._options.heightRatio=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"moveDirection",{get:function(){return this._options.moveDirection},set:function(t){this._options.moveDirection=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"moveKind",{get:function(){return this._options.moveKind},set:function(t){this._options.moveKind=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xGridVisible",{get:function(){return this._options.showXGrid},set:function(t){var e=t,t=this._options.showXGrid;t!==e&&(this._options.showXGrid=e,this._fire(y.PanelEvent.X_GRID_VISIBLE_CHANGED,e,t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yGridVisible",{get:function(){return this._options.showYGrid},set:function(t){var e=t,t=this._options.showYGrid;t!==e&&(this._options.showYGrid=e,this._fire(y.PanelEvent.Y_GRID_VISIBLE_CHANGED,e,t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._options.state},set:function(t){this._options.state=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._options.visible},set:function(t){this._options.visible=t,this.container&&(t?this.container.show():this.container.hide())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objects",{get:function(){return this._objects},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plots",{get:function(){return this._objects.filter(function(t){return t instanceof y.Plot})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"drawings",{get:function(){return this._objects.filter(function(t){return t instanceof y.Drawing})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orders",{get:function(){return this._objects.filter(function(t){return t instanceof y.OrderBar})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tradingPanel",{get:function(){return this._objects.filter(function(t){return t instanceof y.TradingPanel})[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._objects.filter(function(t){return t instanceof y.PositionBar})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"theme",{get:function(){return this._options.theme},set:function(t){var e=this._options.theme;this._options.theme=t,this._fire(y.PanelEvent.THEME_CHANGED,t,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualTheme",{get:function(){return this._options.theme||this.chart.theme.chartPanel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"projection",{get:function(){return this.valueScale.projection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleDiv",{get:function(){return this._controls.title},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indicators",{get:function(){var e=this;return this.chart.indicators.filter(function(t){return t.chartPanel===e})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentFrame",{get:function(){return this._contentFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showIndicatorTitles",{get:function(){return this._options.showIndicatorTitles},set:function(t){var e;this._options.showIndicatorTitles!==t&&(e=this._toggleIndicatorTitles,this._options.showIndicatorTitles=t,e&&(t?e.addClass(p).removeClass(d):e.addClass(d).removeClass(p)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panelPadding",{get:function(){var t=this.chartPanelsContainer;return this._options.panelPadding||t.panelPadding},set:function(t){var e=this.chartPanelsContainer.panelPadding;this._options.panelPadding={left:e.left,top:t.top,right:e.right,bottom:t.bottom}},enumerable:!0,configurable:!0}),e.prototype._fire=function(t,e,i){var o=this.chart;o&&o.fireTargetValueChanged(this,t,e,i)},e.prototype.getIndex=function(){return this._panelsContainer.panels.indexOf(this)},e.prototype.getProjection=function(t){t=t?t.index:0;return this.valueScales[t].projection},e.prototype.getValueScale=function(t){t=t?t.index:0;return this.valueScales[t]},e.prototype.setHeightRatio=function(t){this._panelsContainer.setPanelHeightRatio(this,t)},e.prototype.setNeedsAutoScale=function(){for(var t=0,e=this._valueScales;t<e.length;t++)e[t].setNeedsAutoScale()},e.prototype.containsPlot=function(t){return 0<=this.plots.indexOf(t)},e.prototype.addPlot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,o=y.JsUtil.flattenArray(t);i<o.length;i++){var r=o[i];if(!(r instanceof y.Plot))throw new TypeError("Plot must be an instance of StockChartX.Plot.");this.containsPlot(r)||((r.chartPanel=this)._objects.push(r),this._fire(y.PanelEvent.PLOT_ADDED,r))}},e.prototype.removePlot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,o=t&&0<t.length?y.JsUtil.flattenArray(t):this.plots.slice(0);i<o.length;i++){var r=o[i],n=this._objects.indexOf(r);if(0<=n){this._objects.splice(n,1);try{r.destroy&&r.destroy()}catch(t){console.error("Plot destroy error",t)}this._fire(y.PanelEvent.PLOT_REMOVED,r)}}},e.prototype.containsDrawing=function(t){return 0<=this.drawings.indexOf(t)},e.prototype.addDrawings=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,o=y.JsUtil.flattenArray(t);i<o.length;i++){var r=o[i];if(!(r instanceof y.Drawing))throw new TypeError("Drawing is not an instance of StockChartX.Drawing.");if(this.containsDrawing(r))throw new Error("Drawing already added.");(r.chartPanel=this)._objects.push(r),this._fire(y.PanelEvent.DRAWING_ADDED,r)}},e.prototype.removeDrawings=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=(t&&0<t.length?y.JsUtil.flattenArray(t):this.drawings.slice(0)).filter(function(t){return t.canRemove});this.forceRemoveDrawings(i)},e.prototype.forceRemoveDrawings=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=this.chart,o=null,r=t&&0<t.length?y.JsUtil.flattenArray(t):this.drawings.slice(0),n=0,a=r;n<a.length;n++){var l=a[n],s=this._objects.indexOf(l);s<0||(i.selectedObject===l&&(i.state===y.ChartState.USER_DRAWING?o=i.selectedObject:i.selectObject(null)),l.destroy(),this._objects.splice(s,1),this._fire(y.PanelEvent.DRAWING_REMOVED,l))}o&&i.cancelUserDrawing()},e.prototype.addObjects=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,o=y.JsUtil.flattenArray(t);i<o.length;i++){var r=o[i];if(!(r instanceof y.ChartPanelObject))throw new TypeError("Object is not an instance of StockChartX.ChartPanelObject.");if(this.containsObject(r))throw new Error("Object already added.");(r.chartPanel=this)._objects.push(r),this._fire(y.PanelEvent.OBJECT_ADDED,r)}},e.prototype.removeObjects=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t&&0<t.length?y.JsUtil.flattenArray(t):this.objects.slice(0),o=this.chart,r=0,n=i;r<n.length;r++){var a=n[r],l=this._objects.indexOf(a);l<0||(o.selectedObject===a&&o.selectObject(null),this._objects.splice(l,1),this._fire(y.PanelEvent.OBJECT_REMOVED,a))}},e.prototype.containsObject=function(t){return 0<=this.objects.indexOf(t)},e.prototype.handleEvent=function(e){if(!this.visible)return!1;var t=e.pointerPosition,i=this.chart;if(i.state===y.ChartState.ZOOM_IN)return i.zoomInView.panel=this,i.zoomInView.handleEvent(e);var o={x:t.x-this.frame.left,y:t.y-this.frame.top};e.pointerPosition=o;for(var r=0,n=this._valueScales;r<n.length;r++)if(n[r].handleEvent(e))return!0;var a=this.hitTest(t);try{if(i.state===y.ChartState.USER_DRAWING){if(!a)return!1;var l=i.selectedObject,s=l.chartPanel;return s&&s!==this?!1:(e.pointerPosition=o,e.chartPanel=this,l.handleEvent(e),$(C).css("pointer-events","none"),$(_).css("pointer-events","none"),!0)}$(C).css("pointer-events","all"),$(_).css("pointer-events","all");var c=this.drawings,h=this.orders,u=this.tradingPanel,f=this.positions,d=i.selectedObject;if(u&&u.handleEvent(e))return!0;if(!a){for(var p=c.length-1;0<=p;p--)c[p].hideTooltip();return e.pointerPosition=t,d&&e.evt.type!==y.MouseEvent.MOVE&&d.handleEvent(e),this.orders.forEach(function(t){return t.handleEvent(e)}),u&&u.handleEvent(e),m.prototype.handleEvent.call(this,e,!1),!1}for(p=c.length-1;0<=p;p--)if(c[p].handleEvent(e))return!0;for(p=h.length-1;0<=p;p--)if(h[p].handleEvent(e))return!0;for(p=f.length-1;0<=p;p--)if(f[p].handleEvent(e))return!0}finally{e.pointerPosition=t}return this.chart.pixelsPrice&&this.chart.setPixelsPrice(this.chart.pixelsPrice),m.prototype.handleEvent.call(this,e)},e.prototype.minMaxValues=function(t,e,i){for(var o=1/0,r=-1/0,n=0,a=this.plots;n<a.length;n++){var l,s,c,h,u=a[n];i&&u.valueScale!==i||(h=null,h=(l=u.findDataSeries(y.DataSeriesSuffix.DATE))?(s=(c=this.projection).dateByRecord(t),c=c.dateByRecord(t+e),(s=l.binaryIndexOf(s))<0&&(s=~s),(c=l.binaryIndexOf(c))<0&&(c=~c),u.minMaxValues(s,c-s)):u.minMaxValues(t,e),(h=u.minMaxValues(t,e)).min<o&&(o=h.min),h.max>r&&(r=h.max))}return(o=!isFinite(o)?-1:o)===(r=!isFinite(r)?1:r)&&(o--,r++),{min:o,max:r}},e.prototype.autoScaledMinMaxValues=function(t){var e=this.chart.dateScale,i=e.firstVisibleIndex,e=e.lastVisibleIndex-i+1;return this.minMaxValues(i,e,t)},e.prototype.formatValue=function(t){return this.valueScale.formatValue(t)},e.prototype.hitTest=function(t){return this._contentFrame.containsPoint(t)},e.prototype.saveState=function(){for(var t={options:y.JsUtil.clone(this._options),valueScales:[]},e=0,i=this._valueScales;e<i.length;e++){var o=i[e];t.valueScales.push(o.saveState())}return t},e.prototype.loadState=function(t){var e=(t=t||{}).options||{};this._options={},this._options.panelPadding=e.panelPadding,this.minHeightRatio=void 0!==e.minHeightRatio?e.minHeightRatio:.05,this.maxHeightRatio=e.maxHeightRatio||1,this.heightRatio=e.heightRatio||1,this.xGridVisible=void 0===e.showXGrid||!!e.showXGrid,this.yGridVisible=void 0===e.showYGrid||!!e.showYGrid,this.moveDirection=e.moveDirection||y.PanelMoveDirection.ANY,this.moveKind=e.moveKind||y.PanelMoveKind.NORMAL,this.state=e.state||0,this.visible=null==e.visible||e.visible,this.showIndicatorTitles=null==e.showIndicatorTitles||e.showIndicatorTitles;for(var i=this._valueScales=[],o=t.valueScales||[t.valueScale],r=0,n=this.chart.valueScales.length;r<n;r++){var a=new y.ChartPanelValueScale({chartPanel:this});i.push(a),a.loadState(o[r])}},e.prototype.preferredValueScaleWidth=function(t){for(var e=0,i=0,o=this._valueScales;i<o.length;i++){var r=o[i];r.chartValueScale===t&&(e=Math.max(e,r.preferredWidth()))}return e},e.prototype.layout=function(t){this._layoutHtmlElements(t);for(var e=0,i=this._valueScales;e<i.length;e++)i[e].layout(t);y.JsUtil.sort(this._objects,function(t,e){return Math.roundToDecimals(t.zIndex-e.zIndex,5)})},e.prototype.draw=function(){var t=2*this.chart.tradingPanelWidth,e=this._layer.renderer,i=this._layer.size.width,o=this._layer.size.height;e.save(),e.clearRect(0,0,i,o),e.translate(.5,.5),this.drawGridLines();for(var r=0,n=this._valueScales;r<n.length;r++)n[r].draw();for(var a=0,l=this._objects;a<l.length;a++)(s=l[a]).drawValueMarkers();o=this._contentFrame;e.rectPath(o.left,0,o.width+t,o.height),e.clip();for(var s,c,h=0,u=this._objects;h<u.length;h++)(s=u[h])instanceof y.Drawing?(c=s,this.chart.showDrawings?(c.draw(),c.selected&&c.drawDateMarkers()):c.tooltip.hide()):s.draw();for(var f=0,d=this.indicators;f<d.length;f++){var p=d[f];p.draw(),this===this.chart.mainPanel||p!==this.indicators[0]?p.showTitle=this.showIndicatorTitles:p.showTitle=!0}e.restore()},e.prototype.drawGridLines=function(){var t=this.chart.xGridVisible&&this.xGridVisible,e=this.chart.yGridVisible&&this.yGridVisible;if(t||e){var i=this.actualTheme,o=this._contentFrame,r=this._layer.renderer;if(r.beginPath(),t)for(var n=0,a=this.chart.dateScale.calibrator.majorTicks;n<a.length;n++){var l=a[n];r.verLine(l.x,0,o.height)}if(e)for(var s=0,c=this.valueScale.calibrator.majorTicks;s<c.length;s++){l=c[s];r.horLine(o.left,o.left+o.width,l.y)}r.stroke(i.grid)}},e.prototype.update=function(){this.layout(this.frame),this.draw()},e.prototype.setNeedsUpdate=function(t){t&&this.setNeedsAutoScale(),this._updateAnimation.start()},e.prototype.handleResize=function(){this.layer.scale=this.chart.scale,this._layer.adjustDimensions()},e.prototype._onUpdateAnimationCallback=function(){this&&this.update()},e.prototype.destroy=function(){this._unsubscribe(),this.chartContextMenu&&this.chartContextMenu.destroy(),this._updateAnimation.destroy();for(var t=0,e=this._objects;t<e.length;t++)e[t].destroy();for(var i=0,o=this._components;i<o.length;i++)o[i].destroy();m.prototype.destroy.call(this)},e.prototype._initInstrumentPanelTitle=function(){var e=this,t={chart:this.chart,showOnClick:!0,onItemSelected:function(t){t.data("id")===y.UI.ChartContextMenu.MenuItem.FORMAT&&e.showPriceStyleFormatDialog()}},i=this._controls.title.scxAppend("div",h),o=i.scxAppend("span",u),r=i.scxAppend("span",f);i.scxAppend("span",f).scxLocalize("chartPanel.title.open");var n=i.scxAppend("span",f);i.scxAppend("span",f).scxLocalize("chartPanel.title.high");var a=i.scxAppend("span",f);i.scxAppend("span",f).scxLocalize("chartPanel.title.low");var l=i.scxAppend("span",f);i.scxAppend("span",f).scxLocalize("chartPanel.title.volume");var s=i.scxAppend("span",f),c=i.scxAppend("span",f);this._barInfoControls={rootDiv:i,symbol:o,date:r,open:n,high:a,low:l,volume:s,change:c,series:this.chart.barDataSeries()},this._updateInstrument(),this.chartContextMenu=o.scx().chartContextMenu(t)},e.prototype.showPriceStyleFormatDialog=function(){var e=this;y.UI.ViewLoader.priceStyleSettingsDialog(function(t){t.show({chart:e.chart,priceStyle:e.chart.priceStyle})})},e.prototype.updateOHLVData=function(t){var e,i,o,r;this._barInfoControls&&(e=this._barInfoControls,i=0<t.income?"up":t.income<0?"down":"",o=null!=t.income?t.income:"-",r=null!=t.incomePercentage?t.incomePercentage:"-",e.change.html('<i class="icon-arrow-'+i+'-general"></i>'+" "+o+"\n                ("+r+"%)").addClass("scxControl-change scxControl"),e.open.text(null!=t.open?t.open:"-").addClass("scxControl-open scxControl"),e.high.text(null!=t.high?t.high:"-").addClass("scxControl-high scxControl"),e.low.text(null!=t.low?t.low:"-").addClass("scxControl-low scxControl"),e.volume.text(null!=t.volume?t.volume:"-").addClass("scxControl-close scxControl"))},e.prototype._subscribe=function(){var e=this,t=this.chart;t.on(y.ChartEvent.THEME_CHANGED+i,function(){e._applyTheme()},this),t.mainPanel===this&&t.on(y.ChartEvent.INSTRUMENT_CHANGED+i,function(){e._updateInstrument()},this),t.on(y.ChartEvent.VALUE_SCALE_ADDED+i,function(){e._valueScales.push(new y.ChartPanelValueScale({chartPanel:e}))},this),t.on(y.ChartEvent.VALUE_SCALE_REMOVED+i,function(t){e._valueScales.splice(t.value,1)},this),t.on(y.ChartEvent.PRICE_STYLE_CHANGED+i,function(t){e._barInfoControls&&(e._barInfoControls.series=e.chart.primaryBarDataSeries())},this)},e.prototype._unsubscribe=function(){var t=this.chart;t&&t.off(i,this)},e.prototype._initGestures=function(){return new y.GestureArray([new y.PanGesture({handler:this._handlePanGesture,hitTest:this._panGestureHitTest}),new y.MouseWheelGesture({handler:this._handleMouseWheel,hitTest:this.hitTest}),new y.ClickGesture({handler:this._handleClickGesture,hitTest:this.hitTest}),new y.DoubleClickGesture({handler:this._handleDoubleClickGesture,hitTest:this.hitTest}),new y.MouseHoverGesture({handler:this._handleMouseHoverGesture,hitTest:this.hitTest,hoverEventEnabled:!1}),new y.MouseHoverGesture({handler:this._handleMouseMoveGesture,hitTest:this.hitTest,hoverEventEnabled:!0}),new y.ContextMenuGesture({handler:this._handleContextMenuGesture,hitTest:this.hitTest})],this)},e.prototype._panGestureHitTest=function(t){return this.moveDirection!==y.PanelMoveDirection.NONE&&this.hitTest(t)},e.prototype._handlePanGesture=function(t,e){var i=e.pointerPosition,o=this.chart;switch(t.state){case y.GestureState.STARTED:this._fire(y.PanelEvent.FORCE_MOVE_STARTED,i);break;case y.GestureState.FINISHED:this._fire(y.PanelEvent.FORCE_MOVE_FINISHED,i);break;case y.GestureState.CONTINUED:this._fire(y.PanelEvent.FORCE_MOVE_CONTINUED,i);break;default:console.warn("gesture state is invalid")}if(o.scrollEnabled)switch(t.state){case y.GestureState.STARTED:o.rootDiv.addClass(s),this._fire(y.PanelEvent.MOVE_STARTED,i);break;case y.GestureState.FINISHED:o.rootDiv.removeClass(s),this._fire(y.PanelEvent.MOVE_FINISHED,i);break;case y.GestureState.CONTINUED:var r,n=t.moveOffset,a=void 0,l=void 0;switch(this.moveDirection){case y.PanelMoveDirection.HORIZONTAL:o.crossHairType!==y.CrossHairType.NONE&&1!==t.pointerKind||!o.dateScale.scrollOnPixels(n.x)||((r=this.moveKind===y.PanelMoveKind.AUTOSCALED)||o.setNeedsLayout(),o.setNeedsUpdate(r));break;case y.PanelMoveDirection.VERTICAL:for(a=0,l=this.valueScales;a<l.length;a++)l[a]._zoomOrScrollWithUpdate(n.y,this.valueScale.scrollOnPixels);break;case y.PanelMoveDirection.ANY:if(o.dateScale.scrollOnPixels(n.x)||this.moveKind===y.PanelMoveKind.AUTOSCALED){for(a=0,l=this.valueScales;a<l.length;a++)l[a].scrollOnPixels(n.y);(r=this.moveKind===y.PanelMoveKind.AUTOSCALED)||o.setNeedsLayout(),o.setNeedsUpdate(r)}else for(a=0,l=this.valueScales;a<l.length;a++)l[a]._zoomOrScrollWithUpdate(n.y,this.valueScale.scrollOnPixels);break;default:return}this._fire(y.PanelEvent.MOVE_CONTINUED,i)}},e.prototype._handleMouseHoverGesture=function(t){this._optionControls.handleMouseHoverGesture(t)},e.prototype._handleMouseMoveGesture=function(t,e){this._fire(y.MouseEvent.MOVE,e.pointerPosition)},e.prototype._handleMouseWheel=function(t,e){var i,o;this.chart.zoomEnabled&&(i=this.contentFrame.width,o=e.pointerPosition.x/i,this.chart.dateScale._handleZoom(-t.delta*(.05*i),o),this._fire(y.MouseEvent.WHEEL,e.pointerPosition))},e.prototype._handleClickGesture=function(){var t=this.chart,e=t.selectedObject;e&&(t.selectObject(null),(this.containsDrawing(e)?this:t).setNeedsUpdate()),this._fire(y.MouseEvent.CLICK,this)},e.prototype._handleDoubleClickGesture=function(){this._fire(y.PanelEvent.DOUBLE_CLICKED,this)},e.prototype._handleContextMenuGesture=function(t,e){this._fire(y.PanelEvent.CONTEXT_MENU,{contextMenuGesture:t,event:e})},e.prototype._createContainer=function(){var t=this,e=this.chartPanelsContainer.container.scxAppend("div",n),i=this===this.chart.mainPanel;this._container=e,this._layer=new y.Layer({parent:e});var o=this._controls.title=e.scxAppend("div",a),r=$('<span class="'+c+" "+l+'"/>').attr("data-i18n","[title]chartPanel.menu.showHideTitles").on(y.MouseEvent.CLICK,function(){t.showIndicatorTitles=!t.showIndicatorTitles,t.setNeedsUpdate()});return r.addClass(this.showIndicatorTitles?p:d),o.append(r),this._toggleIndicatorTitles=r,i&&(this.addComponent(new y.InstrumentWatermark),this._initInstrumentPanelTitle()),this._applyTheme(),this._subscribe(),this===this.chart.mainPanel&&(i=new y.TradingPanel,this.addObjects(i)),e},e.prototype._layoutHtmlElements=function(t){m.prototype.layout.call(this,t);var e=this.chart.mainPanel===this,i=e?0:this.chart.getTradingPanelWidth(),o=this._panelsContainer.panelsContentFrame;this._contentFrame.copyFrom(t),this._contentFrame.left=o.left,this._contentFrame.width=o.width,this._layer.size={width:this.container.width(),height:this.container.height()},e?(this._barInfoControls.rootDiv.css("display",this.chart.showBarInfoInTitle?"block":"none"),this._toggleIndicatorTitles.css("display",0<this.indicators.length?"block":"none")):this._toggleIndicatorTitles.css("display",1<this.indicators.length?"block":"none");for(var r=0,n=this._components;r<n.length;r++)n[r].layout(t);this._controls.title.scxPosition(this._contentFrame.left,0).outerWidth(this._contentFrame.width+i),this._optionControls.layout(this._container)},e.prototype._updateInstrument=function(){var t;!this._barInfoControls||(t=this.chart.instrument)&&this._barInfoControls.symbol.text(t.symbol)},e.prototype._applyTheme=function(){var t=this.titleDiv;if(t){var e=this.actualTheme;t.scxTextStyle(e.title);for(var i=0,o=this._components;i<o.length;i++)o[i].applyTheme()}},e.prototype.addComponent=function(t){if(0<=this._components.indexOf(t))throw new Error("An item already exists.");(t.chartPanel=this)._components.push(t)},e.prototype.removeComponent=function(t){var e=this._components,t=e.indexOf(t);0<=t&&(e[t].destroy(),e.splice(t,1))},e);function e(t){var e=m.call(this)||this;if(e._valueScales=[],e._components=[],e._objects=[],e._contentFrame=new y.Rect,e._controls={title:null,options:null},e._barInfoControls=null,e._updateAnimation=new y.Animation({context:e,recurring:!1,callback:e._onUpdateAnimationCallback}),!(t.chartPanelsContainer instanceof y.ChartPanelsContainer))throw new TypeError("Invalid chart panels container.");return e._panelsContainer=t.chartPanelsContainer,e._optionControls=new y.ChartPanelOptionControls(e),e.loadState(t),e}y.ChartPanel=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var o,t=(o=i.ChartPanelObject,__extends(e,o),Object.defineProperty(e.prototype,"point",{get:function(){return this._options.point},set:function(t){this._setOption("point",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extended",{get:function(){return this._options.extended},set:function(t){this._setOption("extended",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"theme",{get:function(){return this._options.theme},set:function(t){this._setOption("theme",t)},enumerable:!0,configurable:!0}),e.prototype.loadState=function(t){var e;o.prototype.loadState.call(this,t),t&&t.options&&((e=t.options)&&(t=this.suppressEvents(),(e=e.point)&&(this.point=new i.ChartPoint(e)),this.suppressEvents(t)))},e.prototype.draw=function(){var t,e,i,o,r;this.visible&&(o=this.projection,t=this.point.toPoint(o),e=this.chartPanel.contentFrame,r=this.panelValueScale,(i=this.renderer).beginPath(),null!=r.leftFrame&&(o=this.extended?e.right:t.x,i.horLine(e.left,o,t.y)),null!=r.rightFrame&&(r=this.extended?e.left:t.x,i.horLine(r,e.right,t.y)),i.stroke(this.theme))},e);function e(t){return o.call(this,t&&{options:t})||this}i.ValueLine=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var e,t=(e=r.ChartPanelObject,__extends(i,e),Object.defineProperty(i.prototype,"ask",{get:function(){return this._options.ask},set:function(t){this._setOption("ask",t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bid",{get:function(){return this._options.bid},set:function(t){this._setOption("bid",t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"theme",{get:function(){return this._options.theme},set:function(t){this._setOption("theme",t)},enumerable:!0,configurable:!0}),i.prototype.draw=function(){var t,e=this.projection,i=this.renderer,o=this.chartPanel.contentFrame,r=this.theme||this.chart.theme.spread;this.ask&&(t=e.yByValue(this.ask),i.horLinePath(o.left,o.right,t),i.stroke(r.ask.line)),this.bid&&(e=e.yByValue(this.bid),i.horLinePath(o.left,o.right,e),i.stroke(r.bid.line))},i.prototype.drawValueMarkers=function(){function t(t,e){t&&(o.theme.fill.fillColor=e,o.theme.text.fillColor=r.HtmlUtil.isDarkColor(e)?"white":"black",o.draw(t,i.panelValueScale))}var i=this,o=this.chart.valueMarker,e=this.theme||this.chart.theme.spread;t(this.ask,e.ask.valueMarker.fill.fillColor),t(this.bid,e.bid.valueMarker.fill.fillColor)},i);function i(t){return e.call(this,t&&{options:t})||this}r.Spread=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(l){"use strict";var i,t=(i=l.ChartPanelObject,__extends(e,i),e.prototype.draw=function(){if(!(this._handler.chart.timeInterval>=l.TimeSpan.MILLISECONDS_IN_DAY)){var t,e=this.projection,i=this.chartPanel.contentFrame,o=this.renderer,r=moment(e.dateByX(0)).startOf("day").hours(this._handler.time.hours).minutes(this._handler.time.minutes).toDate(),n=e.dateByRecord(e.dateScale.lastVisibleIndex+1),a=this._handler.dateFilter;for(o.beginPath();r<=n;)a&&a(r)||(t=e.xByDate(moment(r).toDate()),o.verLine(t,0,i.bottom-i.top)),r=moment(r).add(1,"day").toDate();o.stroke(this._handler.theme)}},e);function e(t){var e=i.call(this,t&&{options:t})||this;return e._handler=t.breakLinesHandler,e}l.BreakLines=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var i,e=(i=t.ChartPanelObject,__extends(o,i),Object.defineProperty(o.prototype,"date",{get:function(){return this._date},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"theme",{get:function(){return this._theme},set:function(t){this._theme=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"actualTheme",{get:function(){return this._theme||this.defaultTheme},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"defaultTheme",{get:function(){return this.chart.theme.highlightedColumn},enumerable:!0,configurable:!0}),o.prototype.checkDate=function(t){return this._date.getTime()===t.getTime()},o.prototype.draw=function(){var t,e,i,o;this.chart.highlightedColumns.visible&&(o=(t=this.chartPanel).projection,e=t.layer.renderer,i=o.xByDate(this._date),o=o.columnByX(i),o=this.chart.dateScale&&this.chart.dateScale.columnValues&&this.chart.dateScale.columnValues.visibleColumnsWidths?this.chart.dateScale.columnValues.visibleColumnsWidths[o]:this.chart.dateScale.columnWidth,e.rectPath(i-o/2,0,o,t.layer.size.height),e.fill(this.actualTheme.fill))},o.prototype.destroy=function(){this.chartPanel.removeObjects(this),i.prototype.destroy.call(this)},o);function o(t){var e=i.call(this,null)||this;if("object"!=typeof t)throw new Error("HighlightedColumn config must be an object.");if(!t.date)throw new Error("Date for HighlightedColumn is not specified.");return e._date=t.date,t.theme&&(e._theme=t.theme),e}t.HighlightedColumn=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(p){"use strict";var a="scxValueScaleScroll";p.ScaleKind={LINEAR:"linear",LOGARITHMIC:"logarithmic"},Object.freeze(p.ScaleKind);var i,o=(i=p.IntlNumberFormat,__extends(t,i),t.prototype.format=function(t){var e=this._chart.instrument,e=e?e.precision:2;return this.setDecimalDigits(e),i.prototype.format.call(this,t)},t.prototype.setDecimalDigits=function(t){this._digits!==t&&(this._digits=t,i.prototype.setDecimalDigits.call(this,t))},t);function t(t){var e=i.call(this)||this;return e._chart=t,e}var r,e=(r=p.Control,__extends(n,r),Object.defineProperty(n.prototype,"chartPanel",{get:function(){return this._panel},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"chart",{get:function(){return this._panel.chart},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"projectionFrame",{get:function(){return this._projectionFrame},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"leftFrame",{get:function(){return this._leftFrame},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rightFrame",{get:function(){return this._rightFrame},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"formatter",{get:function(){return this._formatter},set:function(t){if(!t||!p.JsUtil.isFunction(t.format))throw new TypeError("Invalid formatter.");this._formatter=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"kind",{get:function(){return this._options.kind||p.ScaleKind.LINEAR},set:function(t){this._options.kind=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minValueRange",{get:function(){return this._minValueRange||(this._minValueRange=1e-8),this._minValueRange},set:function(t){if(!p.JsUtil.isFiniteNumberOrNaN(t))throw new TypeError("Value must be a number.");this._minValueRange=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxValueRange",{get:function(){return this._maxValueRange||(this._maxValueRange=1e11),this._maxValueRange},set:function(t){if(!p.JsUtil.isFiniteNumberOrNaN(t))throw new TypeError("Value must be a number.");this._maxValueRange=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minVisibleValue",{get:function(){return this._options.minVisibleValue},set:function(t){if(!p.JsUtil.isFiniteNumberOrNaN(t))throw new TypeError("Value must be a number.");this._setMinVisibleValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxVisibleValue",{get:function(){return this._options.maxVisibleValue},set:function(t){if(!p.JsUtil.isFiniteNumberOrNaN(t))throw new TypeError("Value must be a number.");this._setMaxVisibleValue(t)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoScaleMultiplier",{get:function(){return this._options.autoScaleMultiplier||1},set:function(t){this._options.autoScaleMultiplier=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minAllowedValue",{get:function(){return this._options.minAllowedValue},set:function(t){if(!p.JsUtil.isNumber(t))throw new TypeError("Value must be a number.");this._options.minAllowedValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxAllowedValue",{get:function(){return this._options.maxAllowedValue},set:function(t){if(!p.JsUtil.isNumber(t))throw new TypeError("Value must be a number.");this._options.maxAllowedValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minAllowedValueRatio",{get:function(){return this._options.minAllowedValueRatio},set:function(t){if(!p.JsUtil.isPositiveNumberOrNaN(t))throw new Error("Ratio must be a positive number.");this._options.minAllowedValueRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxAllowedValueRatio",{get:function(){return this._options.maxAllowedValueRatio},set:function(t){if(!p.JsUtil.isPositiveNumberOrNaN(t))throw new Error("Ratio must be a positive number or NaN.");this._options.maxAllowedValueRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minValueRangeRatio",{get:function(){return this._options.minValueRangeRatio},set:function(t){if(!p.JsUtil.isPositiveNumberOrNaN(t)||1<t)throw new Error("Ratio must be in range (0..1]");this._options.minValueRangeRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxValueRangeRatio",{get:function(){return this._options.maxValueRangeRatio},set:function(t){if(!p.JsUtil.isPositiveNumberOrNaN(t)||t<1)throw new Error("Ratio must be greater or equal to 1.");this._options.maxValueRangeRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"theme",{get:function(){return this._options.theme},set:function(t){this._options.theme=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"majorTickMarkLength",{get:function(){return this._options.majorTickMarkLength},set:function(t){this._options.majorTickMarkLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minorTickMarkLength",{get:function(){return this._options.minorTickMarkLength},set:function(t){this._options.minorTickMarkLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"projection",{get:function(){return this._projection},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._options.padding},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"calibrator",{get:function(){return this._calibrator},set:function(t){this._calibrator=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"actualTheme",{get:function(){return this._options.theme||this.chart.theme.valueScale},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"chartValueScale",{get:function(){var t=this._index();return 0<=t?this.chart.valueScales[t]:null},enumerable:!0,configurable:!0}),n.prototype._initGestures=function(){return new p.GestureArray([new p.DoubleClickGesture({handler:this._handleDoubleClickGesture}),new p.PanGesture({handler:this._handlePanGesture,horizontalMoveEnabled:!1}),new p.MouseWheelGesture({handler:this._handleMouseWheelGesture})],this,this.hitTest)},n.prototype._updateFormatter=function(){var t=this.chart.locale,e=this.formatter,i=this.chart.instrument,o=3;i&&i.hasOwnProperty("precision")&&(o=i.precision),e?e.locale=t:this.formatter=new p.IntlNumberFormat(t,{minimumFractionDigits:o,maximumFractionDigits:o})},n.prototype._setMinVisibleValue=function(t){this._options.minVisibleValue=t},n.prototype._setMaxVisibleValue=function(t){this._options.maxVisibleValue=t},n.prototype._index=function(){for(var t=this._panel.valueScales,e=0;e<t.length;e++)if(t[e]===this)return e;return-1},n.prototype.needsAutoScale=function(){return isNaN(this._options.minVisibleValue)||isNaN(this._options.maxVisibleValue)},n.prototype.setNeedsAutoScale=function(){this.minVisibleValue=NaN,this.maxVisibleValue=NaN},n.prototype.autoScale=function(){for(var t=this.chart.dateScale,e=t.firstVisibleIndex,i=t.lastVisibleIndex-e+1,o=1/0,r=-1/0,n=this.chartValueScale,a=0,l=this._panel.plots;a<l.length;a++){var s,c,h,u,f=l[a];f.valueScale===n&&(u=null,(u=(s=f.findDataSeries(p.DataSeriesSuffix.DATE))?(c=(h=this.projection).dateByRecord(e),h=h.dateByRecord(e+i),(c=s.binaryIndexOf(c))<0&&(c=~c),(h=s.binaryIndexOf(h))<0&&(h=~h),f.minMaxValues(c,h-c)):f.minMaxValues(e,i)).min<o&&(o=u.min),u.max>r&&(r=u.max))}(o=!isFinite(o)?-1:o)===(r=!isFinite(r)?1:r)&&(o--,r++);t=this.range;t&&(null!=t.min&&o>t.min&&(o=t.min),null!=t.max&&r<t.max&&(r=t.max)),this._setMinVisibleValue(o),this._setMaxVisibleValue(r*this.autoScaleMultiplier)},n.prototype.formatValue=function(t){return this.calibrator instanceof p.PercentValueScaleCalibrator?this.calibrator.formatValue(t):this.formatter.format(t)},n.prototype.preferredWidth=function(){this.needsAutoScale()&&this.autoScale();var t=this._options,e=this.actualTheme.text,i=this.formatValue(t.minVisibleValue),o=this.formatValue(t.maxVisibleValue),i=p.DummyCanvasContext.measureText(i,e).width,e=p.DummyCanvasContext.measureText(o,e).width,t=t.padding;return Math.max(i,e)+t.left+t.right},n.prototype.hitTest=function(t){var e=this._leftContentFrame,i=this._rightContentFrame;return e&&p.Geometry.isPointInsideOrNearRect(t,e)||i&&p.Geometry.isPointInsideOrNearRect(t,i)},n.prototype.scrollOnPixels=function(t){if(!isFinite(t))throw new Error("Finite number expected.");if(!t)return!1;t=this._valueOffset(t);return this.scrollOnValue(t)},n.prototype.scrollOnValue=function(t){if(!t)return!1;var e=this.minVisibleValue+t,i=this.maxVisibleValue+t,t=this.range;return t&&(null!=t.min&&e>t.min&&(e=t.min),null!=t.max&&i<t.max&&(i=t.max)),!!this._canSetVisibleValueRange(e,i)&&(this._setMinVisibleValue(e),this._setMaxVisibleValue(i),!0)},n.prototype.zoomOnPixels=function(t){if(!isFinite(t))throw new Error("Finite number expected.");if(!t)return!1;t=this._valueOffset(t);return this.zoomOnValue(t)},n.prototype.zoomOnValue=function(t){if(!t)return!1;var e=this.minVisibleValue,i=this.maxVisibleValue,o=e-t,r=i+t;if(r-o>this.maxValueRange)return!1;t=this.range;if(!this._canSetVisibleValueRange(o,r))if(this._canSetVisibleValueRange(e,r))o=e;else if(this._canSetVisibleValueRange(o,i))r=i;else if(!t)return!1;return t&&(null!=t.min&&o>t.min&&(o=t.min),null!=t.max&&r<t.max&&(r=t.max)),(o!==e||r!==i)&&r-o>=this.minValueRange&&(this._setMinVisibleValue(o),this._setMaxVisibleValue(r),!0)},n.prototype.setPixelsPrice=function(t){var e,i,o,r;(this._pixelPrice=t)<=0||(r=this.chart.instrument,e=this._panel.contentFrame.height,i=this.chart.dataManager.getDataSeries(p.DataSeriesSuffix.CLOSE).value(this.chart.lastVisibleIndex),o=r?r.tickSize:1,r=r?r.precision:0,r=i+(o=Math.roundToDecimals(e/2/t*o,r+1)),this._setMinVisibleValue(i-o),this._setMaxVisibleValue(r),this._panel.setNeedsUpdate(),this.chart.setNeedsUpdate())},Object.defineProperty(n.prototype,"pixelPrice",{get:function(){return this._pixelPrice},enumerable:!0,configurable:!0}),n.prototype.getPixelsPrice=function(){if(0<this._pixelPrice)return this._pixelPrice;var t=this.chart.instrument,e=t?t.precision:0,t=t?t.tickSize:1,e=Math.roundToDecimals(this.maxVisibleValue-this.minVisibleValue,e+1),t=Math.roundToDecimals(this._panel.contentFrame.height/e*t,2);return isNaN(t)?0:t},n.prototype._zoomOrScrollWithUpdate=function(t,e){var i=this.chartValueScale.useManualWidth,o=i||this.preferredWidth(),t=e.call(this,t),i=i||this.preferredWidth();return t&&(o===i?this._panel:this.chart).setNeedsUpdate(),t},n.prototype.saveState=function(){return{options:p.JsUtil.clone(this._options),formatter:this.formatter.saveState(),calibrator:this.calibrator.saveState()}},n.prototype.loadState=function(t){var e=(t=t||{}).options||{};this._options={},this._options.minVisibleValue=null!=e.minVisibleValue?e.minVisibleValue:NaN,this._options.maxVisibleValue=null!=e.maxVisibleValue?e.maxVisibleValue:NaN,this.minAllowedValue=null!=e.minAllowedValue?e.minAllowedValue:NaN,this.maxAllowedValue=null!=e.maxAllowedValue?e.maxAllowedValue:NaN,this.minAllowedValueRatio=e.minAllowedValue||.8,this.maxAllowedValueRatio=e.maxAllowedValueRatio||.8,this.minValueRangeRatio=e.minValueRangeRatio||.1,this.maxValueRangeRatio=e.maxValueRangeRatio||5,this.majorTickMarkLength=e.majorTickMarkLength||3,this.minorTickMarkLength=e.minorTickMarkLength||3,this._options.padding=e.padding||{left:6,top:3,right:3,bottom:3},this.range=e.range||{},this.formatter=new o(this.chart),this.calibrator=t.calibrator?p.ValueScaleCalibrator.deserialize(t.calibrator):new p.IntervalValueScaleCalibrator,this.calibrator.formater=this.formatter},n.prototype.layout=function(t){(this.needsAutoScale()||this.maxVisibleValue-this.minVisibleValue<this.minValueRange)&&this.autoScale();var e=this._projectionFrame;e.left=0,e.top=0,e.width=this._panel.layer.size.width,e.height=this._panel.layer.size.height,e.applyPadding(this._panel.panelPadding),e.height<0&&(e.height=1),this._calibrator.calibrate(this),this._layoutContentFrames()},n.prototype._layoutContentFrames=function(){var t,e,i,o,r=this._panel,n=this.chartValueScale,a=n.leftPanelVisible,l=n.rightPanelVisible,s=this._options.padding,c=!1!==this.chart.theme.valueScale.border.strokeEnabled;a?(o=n.leftPanel,i=parseFloat(o.container.css("border-left-width")),t=parseFloat(r.container.css("border-left-width")),e=o.contentSize.width,a=Math.round(Math.max(i-t,0)),(o=(o=this._leftFrame)||(this._leftFrame=new p.Rect)).left=a,o.top=0,o.width=e-Math.max(t-i),o.height=r.container.height(),(i=(i=this._leftContentFrame)||(this._leftContentFrame=new p.Rect)).left=o.left+s.right,i.top=o.top,i.width=o.width-s.left-s.right,i.height=o.height):this._leftFrame=this._leftContentFrame=null,l?(o=n.rightPanel,l=parseFloat(o.container.css("border-left-width")),n=o.contentSize.width,o=o.frame.left+l,(l=(l=this._rightFrame)||(this._rightFrame=new p.Rect)).left=o,l.top=0,l.width=n,l.height=r.container.height(),c||--l.left,(c=(c=this._rightContentFrame)||(this._rightContentFrame=new p.Rect)).left=l.left+s.left,c.top=l.top,c.width=l.width-s.left-s.right,c.height=l.height):this._rightFrame=this._rightContentFrame=null},n.prototype.clip=function(){var t=this._leftFrame,e=this._rightFrame;if(!t&&!e)return!1;var i=this._panel.layer.renderer;return t&&i.rect(t.left,t.top,t.width,t.height),e&&i.rect(e.left,e.top,e.width,e.height),i.clip(),!0},n.prototype.draw=function(){var t=this._panel.layer.renderer;if(t.save(),this.clip()){var e=this.actualTheme,i=this._leftContentFrame,o=this._rightContentFrame,r=this._leftFrame,n=this._rightFrame,a=r&&r.right-1,l=this.majorTickMarkLength,s=this.minorTickMarkLength;t.textTheme(e.text),t.textOptions({baseline:p.TextBaseline.MIDDLE}),t.beginPath();for(var c=0,h=this.calibrator.majorTicks;c<h.length;c++){var u=h[c];i&&(t.horLine(a,a-l,u.y),t.textOptions({align:p.TextAlign.RIGHT}),t.fillText(u.text,i.right,u.y)),o&&(t.textOptions({align:p.TextAlign.LEFT}),t.fillText(u.text,o.left,u.y))}for(var f=0,d=this.calibrator.minorTicks;f<d.length;f++){u=d[f];r&&t.horLine(a,a-s,u.y),n&&t.horLine(n.left,n.left+s,u.y)}t.stroke(e.line)}t.restore()},n.prototype._handleDoubleClickGesture=function(){var t=this.chartValueScale.useManualWidth,e=t||this.preferredWidth();this.autoScale(),(e===(t||this.preferredWidth())?this._panel:this.chart).setNeedsUpdate()},n.prototype._handlePanGesture=function(t,e){var i=this.chart,o=1===e.evt.which;if((!o||i.scrollEnabled)&&(o||i.zoomEnabled))switch(t.state){case p.GestureState.STARTED:i.rootDiv.addClass(a);break;case p.GestureState.FINISHED:i.rootDiv.removeClass(a);break;case p.GestureState.CONTINUED:var r=t.moveOffset.y,n=o?this.scrollOnPixels:this.zoomOnPixels;this._zoomOrScrollWithUpdate(r,n)}},n.prototype._handleMouseWheelGesture=function(t){var e;this.chart.zoomEnabled&&(e=.05*this._panel.frame.height,this._zoomOrScrollWithUpdate(t.delta*e,this.zoomOnPixels))},n.prototype._valueOffset=function(t){var e=this._panel.contentFrame;return(this.maxVisibleValue-this.minVisibleValue)/e.height*t},n.prototype._canSetVisibleValueRange=function(t,e){var i=e-t;if(i<this.minValueRange)return!1;var o=this.minAllowedValue;if(!isNaN(o)&&t<o)return!1;var r=this.maxAllowedValue;if(!isNaN(r)&&r<e)return!1;var n=this._panel.autoScaledMinMaxValues(this.chartValueScale),o=this.minAllowedValueRatio,r=this.maxAllowedValueRatio;return!(!isNaN(o)&&o<(n.min-t)/i)&&!(!isNaN(r)&&r<(e-n.max)/i)},n.prototype.destroy=function(){},n);function n(t){var e=r.call(this)||this;if(e._projectionFrame=new p.Rect,e.range={},e._pixelPrice=0,!t)throw new Error("Config is not specified.");if(!(t.chartPanel instanceof p.ChartPanel))throw new TypeError("Config.chartPanel must be an instance of StockChartX.ChartPanel.");return e._panel=t.chartPanel,e._projection=new p.Projection(e.chart.dateScale,e),e.loadState(t),e._updateFormatter(),e._initGestures(),e.chart.on(p.ChartEvent.LOCALE_CHANGED+".scxValueScale",function(){e._updateFormatter()},e),e}p.ChartPanelValueScale=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var e,t="scxPanelSplitter",o="scxHover",r="scxSplitterMove",n=(e=i.HtmlControl,__extends(a,e),Object.defineProperty(a.prototype,"topPanel",{get:function(){return this._topPanel},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"bottomPanel",{get:function(){return this._bottomPanel},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"chart",{get:function(){return this._topPanel&&this._topPanel.chart},enumerable:!0,configurable:!0}),a.getHeight=function(){return 1},a.prototype._initGestures=function(){return new i.GestureArray([new i.MouseHoverGesture({handler:this._handleMouseHoverGesture,hoverEventEnabled:!1}),new i.PanGesture({handler:this._handlePanGesture,horizontalMoveEnabled:!1}),new i.ClickGesture({handler:function(){}})],this,this.hitTest)},a.prototype._handlePanGesture=function(t){var e=this.chart;switch(e.state){case i.ChartState.USER_DRAWING:e.cancelUserDrawing();break;case i.ChartState.RESIZING_PANELS:case i.ChartState.NORMAL:break;case i.ChartState.ZOOM_IN:return;default:throw new Error("Unable to start user drawing in this chart state.")}switch(t.state){case i.GestureState.STARTED:this._prevChartState=e.state,this._isMoving=!0,e.state=i.ChartState.RESIZING_PANELS,this._startMove();break;case i.GestureState.CONTINUED:this.move(t.moveOffset.y)&&e.updateSplitter(this);break;case i.GestureState.FINISHED:this._isMoving=!1,e.state=this._prevChartState}},a.prototype._handleMouseHoverGesture=function(t,e){switch(t.state){case i.GestureState.STARTED:this._startMove();break;case i.GestureState.FINISHED:this._stopMove(),this.chart.crossHair.setPosition(e.pointerPosition)}},a.prototype._startMove=function(){this.chart.rootDiv.addClass(r),this.container.addClass(o),this._applyTheme(!0),this.chart.crossHair.hide()},a.prototype._stopMove=function(){this.chart.rootDiv.removeClass(r),this.container.removeClass(o),this._applyTheme(!1),this.chart.crossHair.show()},a.prototype.setPanels=function(t,e,i){this._topPanel=e,this._bottomPanel=i},a.prototype.invalidateTheme=function(){this._needsTheme=!0},a.prototype._applyTheme=function(t){var e=this.chart.theme.splitter,e=t?e.hoverFillColor:e.fillColor;this.container.css("background-color",e),this._needsTheme=!1},a.prototype.move=function(t){if(0===t)return!1;var e=this._topPanel,i=this._bottomPanel,o=e.chart,t=(e.frame.height+t)/o.chartPanelsContainer.totalPanelsHeight(),o=e.heightRatio-t,o=i.heightRatio+o;return!(t<e.minHeightRatio||t>e.maxHeightRatio||o<i.minHeightRatio||o>i.maxHeightRatio)&&(e.heightRatio=t,i.heightRatio=o,!0)},a.prototype.hitTest=function(t){return!!this._isMoving||e.prototype.hitTest.call(this,t)},a.prototype._createContainer=function(){return this.chart.chartPanelsContainer.container.scxAppend("div",t)},a.prototype.layout=function(t){e.prototype.layout.call(this,t),this.frame.top+=this._topPanel.chartPanelsContainer.frame.top,this._needsTheme&&this._applyTheme(!1)},a);function a(){var t=null!==e&&e.apply(this,arguments)||this;return t._isMoving=!1,t._needsTheme=!0,t}i.ChartPanelSplitter=n}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i="scxWatermark",o=(e=t.ChartPanelHtmlComponent,__extends(r,e),r.prototype._createContainer=function(){return this.chartPanel.container.scxAppend("div",i)},r);function r(){return null!==e&&e.apply(this,arguments)||this}t.ChartPanelWatermark=o}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){"use strict";var i,o="scxWatermarkContent",r="scxWatermarkSymbol",n="scxWatermarkInfo",a=".scxInstrumentWatermark",t=(i=e.ChartPanelWatermark,__extends(l,i),l.prototype.actualTheme=function(){return this.theme||this.chart.theme.chart.instrumentWatermark},l.prototype._subscribe=function(){var t=this;this.chart.on(e.ChartEvent.INSTRUMENT_CHANGED+a,function(){t.applyText()},this).on(e.ChartEvent.SHOW_INSTRUMENT_WATERMARK_CHANGED+a,function(){t.update()},this)},l.prototype._unsubscribe=function(){var t=this.chart;t&&t.off(a,this)},l.prototype._createContainer=function(){var t=i.prototype._createContainer.call(this),e=t.scxAppend("div",o);return e.scxAppend("div",r),e.scxAppend("div",n),t},l.prototype.update=function(){var t=this.chart.showInstrumentWatermark;e.HtmlUtil.setVisibility(this.container,t),t&&(this.applyText(),i.prototype.update.call(this))},l.prototype.applyText=function(){var t,e,i=this.container;!i||(t=this.chart.instrument)&&(i.find("."+r).text(t.symbol),e=t.company,t.exchange&&(e+=" - "+t.exchange),i.find("."+n).text(e))},l.prototype.applyTheme=function(){var t,e=this.container;e&&(t=this.chart.theme.chart.instrumentWatermark,e.find("."+r).scxTextStyle(t.symbol),e.find("."+n).scxTextStyle(t.details))},l);function l(){return null!==i&&i.apply(this,arguments)||this}e.InstrumentWatermark=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var i,e=(i=t.ChartPanelWatermark,__extends(o,i),Object.defineProperty(o.prototype,"actualTheme",{get:function(){return this.theme||this.chartPanel.actualTheme.watermark},enumerable:!0,configurable:!0}),o.prototype.update=function(){this.applyText(),i.prototype.update.call(this)},o.prototype.applyText=function(){var t=this.container;t&&t.text(this.text)},o.prototype.applyTheme=function(){var t=this.container;t&&t.scxTextStyle(this.actualTheme.text)},o);function o(t){var e=i.call(this,t)||this;return t&&(e.text=t.text,e.theme=t.theme),e}t.TextWatermark=e}(StockChartX=StockChartX||{}),function(c){"use strict";var r;(t=r=c.SessionPeriodUnit||(c.SessionPeriodUnit={})).Minute="minute",t.Hour="hour",t.Day="day",t.Week="week",t.Month="month",t.Quarter="quarter",t.Year="year";var t=(h.getFullPeriod=function(t){if(!Array.isArray(t))return t;for(var e=1/0,i=-1/0,o=0;o<t.length;o++)var r=t[o],e=Math.min(e,r.startIndex),i=Math.max(i,r.endIndex);return{startIndex:e,endIndex:i}},h.getLimitedPeriods=function(t,e){for(var i=e.startIndex,o=e.endIndex,r=[],n=0;n<t.length;n++){var a=t[n],l=a.startIndex,a=a.endIndex;l<=o&&i<=a&&r.push({startIndex:Math.max(l,i),endIndex:Math.min(a,o)})}return r},h.getSplittedPeriods=function(t,e){for(var i=[],o=t.length-1;0<=o;o--)for(var r=t[o],n=r.startIndex,a=r.endIndex;n<=a;a--){for(var l=a;n<l&&h.isDateInPeriods(l,e);)l--;l<a&&l--;for(var s=l;n<s&&!h.isDateInPeriods(s,e);)s--;n<s&&s++,i.unshift({startIndex:s,endIndex:l}),a=s-1}return i},h.getPeriod=function(t,e,i){if(void 0===i&&(i=0),t.length){for(var o=t.length-1,r=o,n=h.getDatePoint(t[o],e);0<=--o;){var a=h.getDatePoint(t[o],e);if(n!==a){if(!i--)return{startIndex:o+1,endIndex:r};r=o,n=a}}return i?void 0:{startIndex:0,endIndex:r}}},h.getPeriodStartIndex=function(t,e,i){if(void 0===i&&(i=t.length-1),!(!t.length||i<0||i>t.length-1)){for(var o=h.getDatePoint(t[i],e),r=i;0<=r;r--)if(h.getDatePoint(t[r],e)!==o)return r+1;return 0}},h.getPeriodStartTime=function(t,e,i){void 0===i&&(i=1);var o=new Date(t);switch(e){case r.Minute:return o.setMinutes(o.getMinutes()-i);case r.Hour:return o.setHours(o.getHours()-i);case r.Day:return o.setDate(o.getDate()-i);case r.Week:return o.setDate(o.getDate()-7*i);case r.Month:return o.setMonth(o.getMonth()-i);case r.Quarter:return o.setMonth(o.getMonth()-3*i);case r.Year:return o.setFullYear(o.getFullYear()-i)}},h.getPeriodTimeInterval=function(t){switch(t){case r.Minute:return c.TimeSpan.MILLISECONDS_IN_MINUTE;case r.Hour:return c.TimeSpan.MILLISECONDS_IN_HOUR;case r.Day:return c.TimeSpan.MILLISECONDS_IN_DAY;case r.Week:return c.TimeSpan.MILLISECONDS_IN_WEEK;case r.Month:return c.TimeSpan.MILLISECONDS_IN_MONTH;case r.Quarter:return 3*c.TimeSpan.MILLISECONDS_IN_MONTH;case r.Year:return c.TimeSpan.MILLISECONDS_IN_YEAR}},h.getDatePoint=function(t,e){switch(e){case r.Minute:return t.getMinutes();case r.Hour:return t.getHours();case r.Day:return t.getDate();case r.Week:var i=h.getTimeZoneTime(t)+4*c.TimeSpan.MILLISECONDS_IN_DAY;return Math.floor(i/c.TimeSpan.MILLISECONDS_IN_WEEK);case r.Month:return t.getMonth();case r.Quarter:return Math.floor(t.getMonth()/3);case r.Year:return t.getFullYear()}},h.workingTimesToPeriods=function(t,e){var i=[];if(!e.length)return i;for(var o=t.length-1;0<=o;)if(h.isDateInWorkingTimes(t[o],e)){for(var r=o,n=t[o].getDate();0<=--o&&n===t[o].getDate()&&h.isDateInWorkingTimes(t[o],e););i.unshift({startIndex:o+1,endIndex:r})}else--o;return i},h.getTimeZoneTime=function(t){return t.getTime()-h.getTimeZoneOffset(t)},h.getTimeZoneOffset=function(t){return t.getTimezoneOffset()*c.TimeSpan.MILLISECONDS_IN_MINUTE},h.isDateInPeriods=function(t,e){if(!e.length)return!1;for(var i=0;i<e.length;i++){var o=e[i],r=o.startIndex,o=o.endIndex;if(r<t&&t<=o)return!0}return!1},h.isDateInWorkingTimes=function(t,e){for(var t=h.getTimeZoneTime(t),i=t%c.TimeSpan.MILLISECONDS_IN_DAY,o=new Date(t).getUTCDay(),r=0;r<e.length;r++){var n=e[r],a=n.startDay,l=n.startTime,s=n.endDay,n=n.endTime;if(a<=o&&o<=s&&(l<=i&&i<=n))return!0}return!1},Object.defineProperty(h.prototype,"workingTimes",{get:function(){return this._workingTimes},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"periods",{get:function(){return this._periods},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"chart",{get:function(){return this._chart},set:function(t){this._chart=t},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"_dates",{get:function(){return this._chart.dataManager.getDataSeries(c.DataSeriesSuffix.DATE).values},enumerable:!0,configurable:!0}),h.prototype.setWorkingTimes=function(t){Array.isArray(t)&&(this._workingTimes=t,this._periods=h.workingTimesToPeriods(this._dates,this._workingTimes))},h.prototype.getPeriod=function(t){void 0===t&&(t=0);var e=this._dates;if(e.length){var i=this._periods,o=e[e.length-1].getDay()-t;o<0&&(o+=7);for(var r=i.length-1;0<=r;r--){var n=i[r];if(e[n.startIndex].getDay()===o)return n}}},h);function h(){this._workingTimes=[],this._periods=[]}c.Session=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(d){"use strict";var i;d.PlotType={INDICATOR:"indicator",PRICE_STYLE:"priceStyle",USER:"user"},Object.freeze(d.PlotType),(t=i=d.PlotEvent||(d.PlotEvent={})).DATA_SERIES_CHANGED="plotDataSeriesChanged",t.PANEL_CHANGED="plotPanelChanged",t.THEME_CHANGED="plotThemeChanged",t.STYLE_CHANGED="plotStyleChanged",t.SHOW_VALUE_MARKERS_CHANGED="plotShowValueMarkersChanged",t.SHOW_VALUE_LINES_CHANGED="plotShowValueLinesChanged",t.EXTEND_VALUE_LINES_CHANGED="plotExtendValueLinesChanged",t.VISIBLE_CHANGED="plotVisibleChanged",t.VALUE_SCALE_CHANGED="plotValueScaleChanged",t.BASE_VALUE_CHANGED="plotBaseValueChanged";var o,t=(o=d.ChartPanelObject,__extends(e,o),Object.defineProperty(e.prototype,"plotThemeKey",{get:function(){return this._plotThemeKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSeries",{get:function(){return this._dataSeries},set:function(t){this.setDataSeries(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"theme",{get:function(){return this._theme},set:function(t){var e=this._theme;this._theme=t,this.fire(i.THEME_CHANGED,t,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualTheme",{get:function(){return this._theme||this.chart.theme.plot[this._plotThemeKey][this.plotStyle]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plotStyle",{get:function(){var t=this._options.plotStyle;if(t)return t;t=this.constructor.defaults;return t&&t.plotStyle},set:function(t){this._setOption("plotStyle",t,i.STYLE_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showValueMarkers",{get:function(){return this._options.showValueMarkers},set:function(t){this._setOption("showValueMarkers",t,i.SHOW_VALUE_MARKERS_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showValueLines",{get:function(){return this._options.showValueLines},set:function(t){this._setOption("showValueLines",t,i.SHOW_VALUE_LINES_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extendValueLines",{get:function(){return this._options.extendValueLines},set:function(t){this._setOption("extendValueLines",t,i.EXTEND_VALUE_LINES_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plotType",{get:function(){return this._plotType},enumerable:!0,configurable:!0}),e.prototype.update=function(){},e.prototype.setDataSeries=function(t){var e;if(t instanceof d.DataSeries)e=[t];else{if(!Array.isArray(t))throw new TypeError("Single data series or an array of data series expected.");e=t}t=this._dataSeries;t!==e&&(this._dataSeries=e,this.fire(i.DATA_SERIES_CHANGED,e,t))},e.prototype._onChartPanelChanged=function(t){this.fire(i.PANEL_CHANGED,this.chartPanel,t)},e.prototype._onValueScaleChanged=function(t){this.fire(i.VALUE_SCALE_CHANGED,this.valueScale,t)},e.prototype._onVisibleChanged=function(t){this.fire(i.VISIBLE_CHANGED,this.visible,t)},e.prototype.findDataSeries=function(t){for(var e=0,i=this._dataSeries;e<i.length;e++){var o=i[e];if(o.nameSuffix===t)return o}return null},e.prototype.minMaxValues=function(t,e){for(var i=1/0,o=-1/0,r=0,n=this._dataSeries;r<n.length;r++){var a=n[r];a.isValueDataSeries&&((a=a.minMaxValues(t,e)).min<i&&(i=a.min),a.max>o&&(o=a.max))}return{min:i,max:o}},e.prototype._valueDrawParams=function(){var t=this.chart,e=this._dataSeries[0],i=this.findDataSeries(d.DataSeriesSuffix.DATE),o=this.projection;n=i?(n=t.dateScale.visibleDateRange,r=i.floorIndex(n.min),i.ceilIndex(n.max)):(r=t.firstVisibleIndex,t.lastVisibleIndex);var t=Math.max(e.leftNearestVisibleValueIndex(r)-1,0),r=Math.min(e.rightNearestVisibleValueIndex(n)+1,e.length-1),n=i?0:o.columnByRecord(t);return{renderer:this.renderer,projection:o,dates:i&&i.values,values:e.values,startIndex:t,endIndex:r,startColumn:n,theme:this.actualTheme}},e.prototype._barDrawParams=function(){for(var t=this.chart,e=this._dataSeries,i=this.projection,o=t.dataManager.getDataSeries(d.DataSeriesSuffix.DATE),r=null,n=null,a=null,l=null,s=0,c=e;s<c.length;s++){var h=c[s];switch(h.nameSuffix){case d.DataSeriesSuffix.OPEN:r=h;break;case d.DataSeriesSuffix.HIGH:n=h;break;case d.DataSeriesSuffix.LOW:a=h;break;case d.DataSeriesSuffix.CLOSE:l=h}}f=o?(f=t.dateScale.visibleDateRange,u=o.floorIndex(f.min),o.ceilIndex(f.max)):(u=t.firstVisibleIndex,t.lastVisibleIndex);var t=Math.max(o.leftNearestVisibleValueIndex(u)-1,0),u=Math.min(o.rightNearestVisibleValueIndex(f)+1,o.length-1),f=i.columnByRecord(t);return{renderer:this.renderer,projection:i,values:this._dataSeries[0].values,dates:o&&o.values,open:r&&r.values,high:n&&n.values,low:a&&a.values,close:l&&l.values,startIndex:t,endIndex:u,startColumn:f,theme:this.actualTheme}},e.prototype.drawValueMarkers=function(){var t,e,i,o,r;this.showValueMarkers&&(i=(e=this._dataSeries[0]).values,r=this.chart.valueMarker,t=i[e.leftNearestVisibleValueIndex(i.length)],e=r.theme,(i=this.actualTheme).valueMarker?e=i.valueMarker:(o=void 0,o=i.strokeColor||(i.fill&&!1!==i.fill.fillEnabled?i.fill.linearGradient?i.fill.linearGradient[0]||i.fill.linearGradient[0].color:i.fill.radialGradient?i.fill.radialGradient[0].color:i.fill.fillColor:i.line&&!1!==i.line.strokeEnabled?i.line.strokeColor:e.fill.fillColor),e.fill.fillColor=o,e.text.fillColor=d.HtmlUtil.isDarkColor(o)?"white":"black"),r.draw(t,this.panelValueScale,e),this.showValueLines&&null!=t&&(o=this._dataSeries[0].length-1,r=i.valueLine,(r=new d.ValueLine({point:{record:.5+o,value:t},theme:{strokeColor:r&&i.valueLine.strokeColor||e.fill.fillColor,width:r&&i.valueLine.width||1,lineStyle:r&&r.lineStyle||d.LineStyle.DASH},extended:this.extendValueLines,visible:this.showValueLines})).chartPanel=this.chartPanel,r.valueScale=this.valueScale,r.draw()))},e);function e(t){var e=o.call(this,t)||this;e._plotThemeKey="",e._dataSeries=[],e._plotType=d.PlotType.USER;var i=e.suppressEvents(!0);t&&(null!=t.dataSeries&&e.setDataSeries(t.dataSeries),null!=t.chartPanel&&(e.chartPanel=t.chartPanel),null!=t.theme&&(e.theme=t.theme),t.plotType&&(e._plotType=t.plotType),t.options&&(e._options=t.options),t.valueScale&&(e.valueScale=t.valueScale),e.plotStyle=t.plotStyle,t.zIndex&&(e.zIndex=t.zIndex));t=e._options;return null==t.showValueMarkers&&(t.showValueMarkers=!0),null==t.visible&&(t.visible=!0),null==e.zIndex&&(e.zIndex=e.plotType===d.PlotType.PRICE_STYLE?30:100),e.suppressEvents(i),e}d.Plot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(h){"use strict";var o,t=(o=h.Plot,__extends(e,o),Object.defineProperty(e.prototype,"settings",{get:function(){return this._settings},set:function(t){var e=h.JsUtil.merge(this._settings,t),t=!!this._handleSettings(e);this._settings=e,this.chart.setNeedsUpdate(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_dates",{get:function(){var t=this.chart;return t?t.dataManager.getDataSeries(h.DataSeriesSuffix.DATE).values:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_canvasWidth",{get:function(){var t=this.chart.container,e=this.chartPanel.layer.size,t=t.find("."+this.valueScale.rightPanelCssClass).outerWidth();return e.width-t},enumerable:!0,configurable:!0}),e.prototype.update=function(){this._handleSettings(this.settings)},e.prototype.drawValueMarkers=function(){var e=this;o.prototype.drawValueMarkers.call(this);var i=this.chart.valueMarker;this._labelLines.forEach(function(t){i.theme.fill.fillColor=t.color,i.draw(t.value,e.panelValueScale)})},e.prototype._handleSettings=function(t){},e.prototype._onChartPanelChanged=function(t){var e=this.chart;e&&(this._rth.chart=e,this._eth.chart=e,this.update(),this._settingsHandled=!0,o.prototype._onChartPanelChanged.call(this,t))},e.prototype._getSizeInPixels=function(t){switch(t.unit){case h.IndicatorSizeUnit.Pixel:return t.value;case h.IndicatorSizeUnit.Percent:return t.value*this._canvasWidth/100}},e.prototype._drawLine=function(t,e,i,o){void 0===o&&(o=null),Array.isArray(t)||(t=[t]);for(var r=this.renderer,n=0;n<t.length;n++){var a=t[n],l=Array.isArray(e)?e[n]:e,s=Array.isArray(i)?i[n]:i;r.line(l,a,s,a)}r.stroke(o),r.closePath(),r.beginPath()},e.prototype._drawLabelLines=function(){var e=this;this._labelLines.forEach(function(t){e._drawLabelLine(t.label,t.y,t.color,t.width||200)})},e.prototype._drawLabelLine=function(t,e,i,o){void 0===o&&(o=200);var r={fillColor:i},n={strokeColor:i,lineStyle:h.LineStyle.DASH},a=this.chart.valueMarker.theme.text,l=this.renderer;l.textTheme(a),l.textOptions({align:h.TextAlign.CENTER,baseline:h.TextBaseline.MIDDLE});var s=l.textWidth(t)+8,c=this._canvasWidth,i=c-s;l.rect(i,e-8,s,16),l.fill(r),l.fillText(t,i+s/2,e,a),l.closePath(),l.beginPath(),l.line(c-o,e,i,e),l.stroke(n),l.closePath(),l.beginPath()},e.prototype._isValidDetails=function(t){return Array.isArray(t)&&0<t.length},e);function e(){var t=null!==o&&o.apply(this,arguments)||this;return t._settingsHandled=!1,t._rth=new h.Session,t._eth=new h.Session,t._labelLines=[],t}h.AdvancedPlot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(P){"use strict";var e;(t=e=P.PlotEvent||(P.PlotEvent={})).COLUMN_WIDTH_RATIO_CHANGED="plotColumnWidthRatioChanged",t.MIN_WIDTH_CHANGED="plotMinWidthChanged",P.BarPlotStyle={OHLC:"OHLC",COLORED_OHLC:"coloredOHLC",HLC:"HLC",COLORED_HLC:"coloredHLC",HL:"HL",COLORED_HL:"coloredHL",CANDLE:"candle",HOLLOW_CANDLE:"hollowCandle",HEIKIN_ASHI:"heikinAshi",RENKO:"renko",LINE_BREAK:"lineBreak",POINT_AND_FIGURE:"pointAndFigure",KAGI:"kagi",CANDLE_VOLUME:"candleVolume",EQUI_VOLUME:"equiVolume",EQUI_VOLUME_SHADOW:"equiVolumeShadow"},Object.freeze(P.BarPlotStyle);var n,t=(n=P.Plot,__extends(m,n),Object.defineProperty(m.prototype,"columnWidthRatio",{get:function(){return this._options.columnWidthRatio||m.defaults.columnWidthRatio},set:function(t){if(P.JsUtil.isNegativeNumber(t)||1<t)throw new Error("Ratio must be in range [0..1]");this._setOption("columnWidthRatio",t,e.COLUMN_WIDTH_RATIO_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"minWidth",{get:function(){return this._options.minWidth||m.defaults.minWidth},set:function(t){if(!P.JsUtil.isPositiveNumber(t))throw new Error("Min width must be greater than 0.");this._setOption("minWidth",t,e.MIN_WIDTH_CHANGED)},enumerable:!0,configurable:!0}),m.prototype.draw=function(){if(this.visible){var t=P.BarPlotStyle;switch(this.plotStyle){case t.OHLC:case t.HLC:case t.HL:this._drawBars();break;case t.COLORED_OHLC:case t.COLORED_HLC:case t.COLORED_HL:this._drawColoredBars();break;case t.HOLLOW_CANDLE:this._drawHollowCandles();break;case t.RENKO:this._drawBricks(!0);break;case t.LINE_BREAK:this._drawBricks();break;case t.KAGI:this._drawKagi();break;case t.CANDLE_VOLUME:this._drawVolumeCandles();break;case t.EQUI_VOLUME:this._drawEquiVolumeCandles();break;case t.EQUI_VOLUME_SHADOW:this._drawEquiVolumeShadowCandles();break;default:this._drawCandles()}}},m.prototype.drawValueMarkers=function(){var t,e,i,o,r;!this.showValueMarkers||0!==(r=this._barDrawParams()).values.length&&(t=this.chart.valueMarker,e=this._valueMarkerTheme(r),i=r.values.length-1,o=r.close[i],t.draw(o,this.panelValueScale,e),this.showValueLines&&null!=o&&(r=r.theme.valueLine,(r=new P.ValueLine({point:{record:.5+i,value:o},theme:{strokeColor:r&&r.strokeColor||e.fill.fillColor,width:r&&r.width||1,lineStyle:r&&r.lineStyle||P.LineStyle.DASH},extended:this.extendValueLines,visible:this.showValueLines})).chartPanel=this.chartPanel,r.valueScale=this.valueScale,r.draw()))},m.prototype._barDrawParams=function(){var t,e,i,o,r=n.prototype._barDrawParams.call(this);return this._indicator&&(t=(o=this._indicator).open,e=o.high,i=o.low,o=o.close,r.open=t.values.slice(),r.high=e.values.slice(),r.low=i.values.slice(),r.close=o.values.slice(),r.open.shift(),r.high.shift(),r.low.shift(),r.close.shift(),r.values=r.close),r},m.prototype._valueMarkerTheme=function(t){var e=t.theme,i=e.valueMarker;if(i)return i;var o=t.values.length-1;if(t.close[o]>=t.open[o]){if(i=e.upCandle&&e.upCandle.valueMarker)return i}else if(i=e.downCandle&&e.downCandle.valueMarker)return i;t=this._getMarkerFillColor(t);return(i=this.chart.valueMarker.theme).fill.fillColor=t,i.text.fillColor=P.HtmlUtil.isDarkColor(t)?"white":"black",i},m.prototype._getMarkerFillColor=function(t){var e=t.values.length-1,i=t.close[e]>=t.open[e],e=P.BarPlotStyle;switch(this.plotStyle){case e.OHLC:case e.HLC:case e.HL:return t.theme.strokeColor;case e.COLORED_OHLC:case e.COLORED_HLC:case e.COLORED_HL:return t.theme[i?"upBar":"downBar"].strokeColor;case e.CANDLE:case e.HOLLOW_CANDLE:case e.HEIKIN_ASHI:case e.RENKO:case e.CANDLE_VOLUME:case e.EQUI_VOLUME:case e.EQUI_VOLUME_SHADOW:return t.theme[i?"upCandle":"downCandle"].fill.fillColor;case e.LINE_BREAK:return i?t.theme.upCandle.border.strokeColor:t.theme.downCandle.fill.fillColor;case e.POINT_AND_FIGURE:case e.KAGI:return t.theme[i?"upCandle":"downCandle"].border.strokeColor;default:return null}},m.prototype._drawBars=function(){var t=this._barDrawParams();if(0!==t.values.length){var e=t.renderer,i=t.projection,o=t.dates,r=0,n=this.plotStyle,a=n===m.Style.OHLC,l=n===m.Style.HLC;!a&&!l||(n=this.chart.dateScale.columnWidth*this.columnWidthRatio)>this.minWidth&&(r=Math.round(n/2)),e.beginPath();for(var s=t.startIndex,c=t.startColumn;s<=t.endIndex;s++,c++){var h,u=t.open[s],f=t.high[s],d=t.low[s],p=t.close[s];null!=u&&null!=f&&null!=d&&null!=p&&(h=o?i.xByDate(o[s]):i.xByColumn(c),f=i.yByValue(f),d=i.yByValue(d),a&&0<r&&(u=i.yByValue(u),e.horLine(h,h-r,u)),(a||l)&&0<r&&(p=i.yByValue(p),e.horLine(h,h+r,p)),f===d&&d--,e.verLine(h,f,d+P.CanvasOffset))}e.stroke(t.theme)}},m.prototype._drawColoredBars=function(){var t=this._barDrawParams();0!==t.values.length&&(this._drawColoredBarItems(t,!0,t.theme.upBar),this._drawColoredBarItems(t,!1,t.theme.downBar))},m.prototype._drawColoredBarItems=function(t,e,i){var o=t.renderer,r=t.projection,n=this.plotStyle,a=n===m.Style.COLORED_OHLC,l=n===m.Style.COLORED_HLC,s=0;!a&&!l||(n=this.chart.dateScale.columnWidth*this.columnWidthRatio)>this.minWidth&&(s=Math.round(n/2)),o.beginPath();for(var c=t.startIndex,h=t.startColumn;c<=t.endIndex;c++,h++){var u,f=t.open[c],d=t.high[c],p=t.low[c],y=t.close[c];null!=f&&null!=d&&null!=p&&null!=y&&e===f<=y&&(u=t.dates?r.xByDate(t.dates[c]):r.xByColumn(h),d=r.yByValue(d),p=r.yByValue(p),a&&0<s&&(f=r.yByValue(f),o.horLine(u+P.CanvasOffset,u-s+P.CanvasOffset,f)),(a||l)&&0<s&&(y=r.yByValue(y),o.horLine(u+P.CanvasOffset,u+s+P.CanvasOffset,y)),d===p&&p--,o.verLine(u,d+P.CanvasOffset,p+P.CanvasOffset))}o.stroke(i)},m.prototype._drawCandles=function(){var t,e,i=this._barDrawParams();0!==i.values.length&&(t=i.theme.downCandle.border.strokeEnabled,e=i.theme.upCandle.border.strokeEnabled,this._drawCandleItems(i,!0,!0,e),this._drawCandleItems(i,!1,!0,t),this._drawCandleItems(i,!0,!1,e),this._drawCandleItems(i,!1,!1,t))},m.prototype._drawCandleItems=function(t,e,i,o){var r=t.renderer,n=t.theme.upCandle,a=t.theme.downCandle,l=t.projection,s=this.chart.dateScale.columnWidth,c=Math.max(s*this.columnWidthRatio,this.minWidth),h=t.startIndex,s=t.startColumn,u=t.endIndex,f=t.open,d=t.high,p=t.low,y=t.close,m=Math.round(c/2),c=2*m;r.beginPath();for(var _=h,C=s;_<=u;_++,C++){var b,g=f[_],S=d[_],v=p[_],w=y[_];null!=g&&null!=S&&null!=v&&null!=w&&e===g<=w&&(b=t.dates?l.xByDate(t.dates[_]):l.xByColumn(C),g=l.yByValue(g),(w=l.yByValue(w))===g&&g--,i?c<3?r.verLine(b,w,g):o?r.rect(b-m,Math.min(g,w),c,Math.max(Math.abs(g-w),1)):r.rect(b-m+P.CanvasOffset,Math.min(g,w)+P.CanvasOffset,c-2*P.CanvasOffset,Math.max(Math.abs(g-w),1)):(S=l.yByValue(S),v=l.yByValue(v),c<3?(r.verLine(b,Math.min(g,w),S),r.verLine(b,Math.max(g,w),v)):(o?r.verLine(b,Math.min(g,w)-2*P.CanvasOffset,S-P.CanvasOffset):r.verLine(b,Math.min(g,w+P.CanvasOffset),S+P.CanvasOffset),r.verLine(b,Math.max(g,w)+P.CanvasOffset,v+P.CanvasOffset))))}n=e?n:a;i?c<3?(a={strokeColor:n.fill.fillColor},r.stroke(a)):r.fillStroke(n.fill,n.border):r.stroke(n.wick)},m.prototype._drawHollowCandles=function(){var t,e,i,o,r,n=this._barDrawParams();0!==n.values.length&&(t=n.renderer,e=n.theme.upCandle,i=n.theme.downCandle,o=n.theme.upHollowCandle,r=n.theme.downHollowCandle,this._drawHollowCandleItems(n,!0,!0,!1,!1),t.stroke(o.border),this._drawHollowCandleItems(n,!0,!0,!0,!1),t.stroke(o.wick),this._drawHollowCandleItems(n,!0,!1,!1,!1),t.fillStroke(e.fill,e.border),this._drawHollowCandleItems(n,!0,!1,!1,!0),t.stroke(e.wick),this._drawHollowCandleItems(n,!1,!0,!1,!1),t.stroke(r.border),this._drawHollowCandleItems(n,!1,!0,!0,!1),t.stroke(r.wick),this._drawHollowCandleItems(n,!1,!1,!1,!1),t.fillStroke(i.fill,i.border),this._drawHollowCandleItems(n,!1,!1,!1,!0),t.stroke(i.wick))},m.prototype._drawHollowCandleItems=function(t,e,i,o,r){for(var n=t.renderer,a=t.projection,l=null,s=this.chart.dateScale.columnWidth,c=Math.max(s*this.columnWidthRatio,3),h=Math.round(c/2),c=2*h,u=Math.round(Math.max(c,3)-2*P.CanvasOffset),f=Math.round(u/2)-2*P.CanvasOffset,d=t.startIndex-1;0<=d;d--)if(null==t.open[d]&&null==t.high[d]&&null==t.low[d]&&null==t.close[d]){l=t.close[d];break}n.beginPath();for(var p=t.startIndex,y=t.startColumn;p<=t.endIndex;p++,y++){var m,_=t.open[p],C=t.high[p],b=t.low[p],g=t.close[p];null!=_&&null!=C&&null!=b&&null!=g&&(m=(l=null==l?_:l)<=g,l=g,e===m&&i===_<g&&(m=t.dates?a.xByDate(t.dates[p]):a.xByColumn(y),_=a.yByValue(_),g=a.yByValue(g),o||r?(C=a.yByValue(C),b=a.yByValue(b),o?(n.verLine(m,Math.min(_,g),C),n.verLine(m,Math.max(_,g),b)):(n.verLine(m,Math.min(_,g)+P.CanvasOffset,C+P.CanvasOffset),n.verLine(m,Math.max(_,g)+P.CanvasOffset,b+P.CanvasOffset))):i?n.rect(m-f,Math.min(_,g),u-2*P.CanvasOffset,Math.max(Math.abs(_-g),1)):n.rect(m-h+P.CanvasOffset,Math.min(_,g)+P.CanvasOffset,c-2*P.CanvasOffset,Math.max(Math.abs(_-g),1))))}},m.prototype._drawBricks=function(t){var e=this._barDrawParams();0!==e.values.length&&(this._drawBrickItems(e,!0,t),this._drawBrickItems(e,!1,t))},m.prototype._drawBrickItems=function(t,e,i){var o=t.renderer,r=t.projection,n=this.chart.dateScale.columnWidth,a=Math.max(n*this.columnWidthRatio,this.minWidth),l=Math.round(a/2);o.beginPath();for(var s=t.startIndex,c=t.startColumn;s<=t.endIndex;s++,c++){var h=t.open[s],u=t.close[s],f=h<=u,a=2*l;null!=h&&null!=u&&(e&&!f||!e&&f||(f=t.dates?r.xByDate(t.dates[s]):r.xByColumn(c),h=r.yByValue(h),(u=r.yByValue(u))===h&&h--,a<3?o.verLine(f,u,h):o.rect(f-l+P.CanvasOffset,Math.min(h,u)+P.CanvasOffset,a,Math.max(Math.abs(h-u),1))))}var d=e?t.theme.upCandle:t.theme.downCandle;a<3?(n={strokeColor:d.fill.fillColor},o.stroke(n)):o.fillStroke(d.fill,d.border)},m.prototype._drawKagi=function(){var t=this._barDrawParams();0!==t.values.length&&(this._drawKagiItems(t,!0),this._drawKagiItems(t,!1))},m.prototype._drawKagiItems=function(t,e){var i=t.renderer,o=t.projection,r=null,n=null,a=!1,l=null;i.beginPath();for(var s=0;s<=t.endIndex;s++){var c,h=t.open[s],u=t.close[s],f=h,d=u,p=!0;null!=h&&null!=u&&(null===n?(n=h<=u,p=!1):n?u<l&&(a=!0,f=(p=e)?h:l,d=e?l:u):l<u&&(a=!0,p=!e,f=e?l:h,d=e?u:l),c=t.dates?o.xByDate(t.dates[s]):o.xByRecord(s),s>=t.startIndex&&(n===e||a)&&(f=o.yByValue(f),d=o.yByValue(d),p?i.horLine(r,c,f):i.moveTo(c,f),i.lineTo(c,d)),r=c,l=n?a?Math.max(h,u):Math.min(h,u):a?Math.min(h,u):Math.max(h,u),a&&(n=!n,a=!1))}var y=t.theme[e?"upCandle":"downCandle"].border;i.stroke(y)},m.prototype._drawVolumeCandles=function(){var t,e,i=this._barDrawParams();0!==i.values.length&&(t=i.theme.downCandle.border.strokeEnabled,e=i.theme.upCandle.border.strokeEnabled,this._drawVolumeCandlesItems(i,!0,!0,!0,!1),this._drawVolumeCandlesItems(i,!1,!0,!0,!1),this._drawVolumeCandlesItems(i,!0,!0,!1,e),this._drawVolumeCandlesItems(i,!1,!0,!1,t),this._drawVolumeCandlesItems(i,!0,!1,!1,e),this._drawVolumeCandlesItems(i,!1,!1,!1,t))},m.prototype._drawVolumeCandlesItems=function(t,e,i,o,r){var n=t.renderer,a=t.theme.upCandle,l=t.theme.downCandle,s=t.projection,c=this.chart.dateScale.columnValues;n.beginPath();for(var h=t.startIndex,u=t.startColumn;h<=t.endIndex;h++,u++){var f,d,p=t.open[h],y=t.high[h],m=t.low[h],_=t.close[h];null!=p&&null!=y&&null!=m&&null!=_&&e===p<=_&&(f=t.dates?s.xByDate(t.dates[h]):s.xByColumn(u),d=s.yByValue(p),p=s.yByValue(_),_=Math.round(c.widths[h]),p===d&&d--,i?_<3&&o?n.verLine(f,p,d):3<=_&&!1===o&&(r?_%2==1?n.rect(f-_/2+P.CanvasOffset,Math.min(d,p),_-2*P.CanvasOffset,Math.max(Math.abs(d-p),1)):n.rect(f-_/2,Math.min(d,p),_,Math.max(Math.abs(d-p),1)):_%2==1?n.rect(f-_/2,Math.min(d,p)+P.CanvasOffset,_,Math.max(Math.abs(d-p),1)):n.rect(f-_/2+P.CanvasOffset,Math.min(d,p)+P.CanvasOffset,_-2*P.CanvasOffset,Math.max(Math.abs(d-p),1))):(y=s.yByValue(y),m=s.yByValue(m),_<3?(n.verLine(f,Math.min(d,p),y),n.verLine(f,Math.max(d,p),m)):(r?n.verLine(f,Math.min(d,p)-2*P.CanvasOffset,y-P.CanvasOffset):n.verLine(f,Math.min(d,p+P.CanvasOffset),y+P.CanvasOffset),n.verLine(f,Math.max(d,p)+P.CanvasOffset,m+P.CanvasOffset))))}a=e?a:l;i?o?(l={strokeColor:a.fill.fillColor},n.stroke(l)):!1===o&&n.fillStroke(a.fill,a.border):n.stroke(a.wick)},m.prototype._drawEquiVolumeCandles=function(){var t,e,i=this._barDrawParams();0!==i.values.length&&(t=i.theme.downCandle.border.strokeEnabled,e=i.theme.upCandle.border.strokeEnabled,this._drawEquiVolumeItems(i,!0,!0,!1),this._drawEquiVolumeItems(i,!1,!0,!1),this._drawEquiVolumeItems(i,!0,!1,e),this._drawEquiVolumeItems(i,!1,!1,t))},m.prototype._drawEquiVolumeItems=function(t,e,i,o){var r=t.renderer,n=t.theme.upCandle,a=t.theme.downCandle,l=t.projection,s=this.chart.dateScale.columnValues;r.beginPath();for(var c=t.startIndex,h=t.startColumn;c<=t.endIndex;c++,h++){var u,f=t.open[c],d=t.high[c],p=t.low[c],y=t.close[c];null!=f&&null!=d&&null!=p&&null!=y&&e===f<=y&&(u=t.dates?l.xByDate(t.dates[c]):l.xByColumn(h),(f=l.yByValue(p))===(y=l.yByValue(d))&&f--,(p=Math.round(s.widths[c]))<3&&i&&r.verLine(u,f,y),!1===i&&3<=p&&(o?(d=Math.trunc(u-p/2),r.rect(d,f,p,y-f)):p%2==1?r.rect(u-p/2,f+P.CanvasOffset,p,y-f):r.rect(u-p/2+P.CanvasOffset,f+P.CanvasOffset,p-2*P.CanvasOffset,y-f)))}n=e?n:a;i?(a={strokeColor:n.fill.fillColor},r.stroke(a)):r.fillStroke(n.fill,n.border)},m.prototype._drawEquiVolumeShadowCandles=function(){var t=this._barDrawParams();0!==t.values.length&&(this._drawEquiVolumeShadowItems(t,!0,!1,!0),this._drawEquiVolumeShadowItems(t,!1,!1,!0),this._drawEquiVolumeShadowItems(t,!0,!0,!1),this._drawEquiVolumeShadowItems(t,!1,!0,!1))},m.prototype._drawEquiVolumeShadowItems=function(t,e,i,o){var r=t.renderer,n=t.theme.upCandle,a=t.theme.downCandle,l=t.projection,s=this.chart.dateScale.columnValues;r.beginPath();for(var c=t.startIndex,h=t.startColumn;c<=t.endIndex;c++,h++){var u,f,d=t.open[c],p=t.high[c],y=t.low[c],m=t.close[c];null!=d&&null!=p&&null!=y&&null!=m&&e===d<=m&&(u=Math.round(s.widths[c])-1,m=t.dates?l.xByDate(t.dates[c]):l.xByColumn(h),y=l.yByValue(y),p=l.yByValue(p),d=l.yByValue(d),y===p&&y--,u<3&&o&&r.verLine(m,y,p),i&&3<=u&&(f=Math.trunc(m-u/2),r.rect(f,y,u,p-y)),3<=u&&(f=Math.trunc(m-u/2),e?r.rect(f,d,u,y-d):r.rect(f,d,u,p-d)))}var _,a=e?n:a;o&&(_={strokeColor:a.fill.fillColor},r.stroke(_)),i?(_={strokeColor:a.fill.fillColor},r.stroke(_)):r.fillStroke(a.fill,a.border)},m.Style=P.BarPlotStyle,m.defaults={plotStyle:P.BarPlotStyle.CANDLE,minWidth:1,columnWidthRatio:.8},m);function m(t){var e=n.call(this,t)||this;return t&&t.indicator&&(e._indicator=t.indicator),e._plotThemeKey="bar",e}P.BarPlot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){"use strict";var t=e.BarStatsPlotStyle||(e.BarStatsPlotStyle={});t.TABLE="table";var i,t=(i=e.Plot,__extends(o,i),o.prototype.draw=function(){var t,e,i,o;this.visible&&(t=this._barDrawParams(),e=this.chart.dateScale.columnWidth,i=this.chartPanel.layer.size.height,o=[this._valueDelta,this._valueDeltaDay,this._valueVolume],this.table.draw(t,o,["Delta","DeltaDay","Volume"],e,i))},o.prototype._getValue=function(){for(var t=1;t<4e3;t++)this._valueDelta.push(this._valueDelta[0]),this._valueDeltaDay.push(this._valueDeltaDay[0]),this._valueVolume.push(this._valueVolume[0])},o.Style=t,o.defaults={plotStyle:t.TABLE,minWidth:1,columnWidthRatio:.8},o);function o(t){t=i.call(this,t)||this;return t._valueDelta=[-1],t._valueDeltaDay=[0],t._valueVolume=[1030],t._plotThemeKey="bar",t.table=new e.Table,t._getValue(),t}e.BarStatsPlot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(m){"use strict";var t={LINE:"line",COLORED_LINE:"coloredLine",COLUMN:"column",COLORED_COLUMN:"coloredColumn"};Object.freeze(t);var i,e=(i=m.Plot,__extends(o,i),Object.defineProperty(o.prototype,"baseValue",{get:function(){var t=this._options.baseValue;return null!=t?t:o.defaults.baseValue},set:function(t){if(!m.JsUtil.isFiniteNumber(t))throw new TypeError("Value must be a finite number.");this._setOption("baseValue",t,m.PlotEvent.BASE_VALUE_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"columnWidthRatio",{get:function(){return this._options.columnWidthRatio||o.defaults.columnWidthRatio},set:function(t){if(m.JsUtil.isNegativeNumber(t)||1<t)throw new Error("Ratio must be in range (0..1]");this._setOption("columnWidthRatio",t,m.PlotEvent.COLUMN_WIDTH_RATIO_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"minColumnWidth",{get:function(){return this._options.minColumnWidth||o.defaults.minWidth},set:function(t){if(!m.JsUtil.isPositiveNumber(t))throw new Error("Min width must be a positive number.");this._setOption("minColumnWidth",t,m.PlotEvent.MIN_WIDTH_CHANGED)},enumerable:!0,configurable:!0}),o.prototype.draw=function(){if(this.visible)switch(this.plotStyle){case t.COLORED_LINE:this._drawColoredLines();break;case t.COLUMN:this._drawColumns();break;case t.COLORED_COLUMN:this._drawColoredColumns();break;default:this._drawLines()}},o.prototype.drawValueMarkers=function(){this.plotStyle===t.COLORED_COLUMN&&this._setupValueMarkersTheme(),i.prototype.drawValueMarkers.call(this)},o.prototype._drawLines=function(){var t=this._valueDrawParams();if(0!==t.values.length){var e=t.renderer,i=t.projection,o=t.dates,r=i.yByValue(this.baseValue),n=null,a=-1/0;e.beginPath();for(var l=t.startIndex,s=t.startColumn;l<=t.endIndex;l++,s++){var c,h=t.values[l];null!=h&&((c=o?i.xByDate(o[l]):i.xByColumn(s))===n?a=Math.max(a,h):(null!==n&&e.verLine(n,i.yByValue(a)+m.CanvasOffset,r+m.CanvasOffset),a=h,n=c))}e.verLine(n,i.yByValue(a)+m.CanvasOffset,r+m.CanvasOffset),e.stroke(t.theme)}},o.prototype._drawColoredLines=function(){var s,c,h,u,t,f=this._barDrawParams();0!==f.values.length&&(s=f.renderer,c=f.projection,h=f.dates,u=c.yByValue(this.baseValue),(t=function(t,e){var i=null,o=-1/0;s.beginPath();for(var r=f.startIndex,n=f.startColumn;r<=f.endIndex;r++,n++){var a,l=f.values[r];null!=l&&(t&&f.close[r]<f.open[r]||!t&&f.close[r]>=f.open[r]||((a=h?c.xByDate(h[r]):c.xByColumn(n))===i?o=Math.max(o,l):(null!==i&&s.verLine(a,c.yByValue(l)+m.CanvasOffset,u+m.CanvasOffset),o=l,i=a)))}s.verLine(i,c.yByValue(o)+m.CanvasOffset,u+m.CanvasOffset),s.stroke(e)})(!0,f.theme.upBar),t(!1,f.theme.downBar))},o.prototype._drawColumns=function(){var t=this._barDrawParams();if(0!==t.values.length){var e,i=t.renderer,o=t.projection,r=t.dates,n=o.yByValue(this.baseValue),a=this.chart.dateScale.columnWidth,l=Math.round(Math.max(a*this.columnWidthRatio,this.minColumnWidth)/2),s=2*l,c=null,h=-1/0;i.beginPath();for(var u=t.startIndex,f=t.startColumn;u<=t.endIndex;u++,f++){var d,p=t.values[u];null!=p&&((d=r?o.xByDate(r[u]):o.xByColumn(f))===c?h=Math.max(h,p):(null!==c&&(e=o.yByValue(h),i.rect(c-l+m.CanvasOffset,Math.min(e,n)+m.CanvasOffset,s,Math.max(Math.abs(e-n),1))),h=p,c=d))}e=o.yByValue(h),i.rect(c-l+m.CanvasOffset,Math.min(e,n)+m.CanvasOffset,s,Math.max(Math.abs(e-n),1));a=t.theme;i.fillStroke(a.fill,a.line)}},o.prototype._setupValueMarkersTheme=function(){var t,e,i,o=this._barDrawParams();0!==o.values.length&&(t=this.actualTheme,i=null,e=o.values.length-1,i=o.close[e]>=o.open[e]?t.upCandle&&t.upCandle.fill.fillColor:t.downCandle&&t.downCandle.fill.fillColor,t.strokeColor=i)},o.prototype._drawColoredColumns=function(){var s,c,h,u,f,d,p,t,y=this._barDrawParams();0!==y.values.length&&(s=y.renderer,c=y.projection,h=y.dates,u=c.yByValue(this.baseValue),t=this.chart.dateScale.columnWidth,d=Math.round(Math.max(t*this.columnWidthRatio,this.minColumnWidth)/2),p=2*d,(t=function(t,e){var i=null,o=-1/0;s.beginPath();for(var r=y.startIndex,n=y.startColumn;r<=y.endIndex;r++,n++){var a,l=y.values[r];null!=l&&(t&&y.close[r]<y.open[r]||!t&&y.close[r]>=y.open[r]||((a=h?c.xByDate(h[r]):c.xByColumn(n))===i?o=Math.max(o,l):(null!==i&&(f=c.yByValue(o),s.rect(i-d+m.CanvasOffset,Math.min(f,u)+m.CanvasOffset,p,Math.max(Math.abs(f-u),1))),o=l,i=a)))}f=c.yByValue(o),s.rect(i-d+m.CanvasOffset,Math.min(f,u)+m.CanvasOffset,p,Math.max(Math.abs(f-u),1)),s.fillStroke(e.fill,e.line)})(!0,y.theme.upCandle),t(!1,y.theme.downCandle))},o.Style=t,o.defaults={plotStyle:t.LINE,baseValue:0,columnWidthRatio:.9,minWidth:3},o);function o(t){var e=i.call(this,t)||this;return t&&null!=t.columnWidthRatio&&(e.columnWidthRatio=t.columnWidthRatio),e._plotThemeKey="histogram",e}m.HistogramPlot=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e={SIMPLE:"simple",MOUNTAIN:"mountain",STEP:"step"};Object.freeze(e);var i,o=(i=t.Plot,__extends(r,i),r.prototype.draw=function(){if(this.visible)switch(this.plotStyle){case e.MOUNTAIN:this._drawMountainLine();break;case e.STEP:this._drawStepLine();break;default:this._drawSimpleLine()}},r.prototype._drawSimpleLine=function(){var t=this._valueDrawParams(),e=t.values;if(0!==e.length){var i=t.renderer,o=t.projection,r=t.dates,n=null,a=null,l=1/0,s=-1/0,c=!0,h=t.startIndex,u=t.startColumn,f=t.endIndex,d=null;i.beginPath();for(var p=h,y=u;p<=f;p++,y++){var m,_,C,b,g=e[p];null!=g&&((C=g!=g)&&c||(m=r?o.xByDate(r[p]):o.xByColumn(y),c?(i.moveTo(m,o.yByValue(g)),c=!1):(c=C?!0:c)||m!==n?(l!==1/0&&(b=o.yByValue(l),_=1.8<Math.abs(d-b),Math.abs(s-l)<1e-5?_&&i.lineTo(n,b):(C=o.yByValue(s),Math.abs(C-b)<1.8?_&&i.lineTo(n,b):(_&&i.moveTo(n,b),i.lineTo(n,C),1e-5<Math.abs(a-s)&&(b=o.yByValue(a),1.8<Math.abs(b-C)&&i.moveTo(n,b))))),c?(l=1/0,s=a=-1/0,d=null):(d=o.yByValue(g),i.lineTo(m,d),l=s=a=g),n=m):(l=Math.min(l,g),s=Math.max(s,g),a=g)))}l!==1/0&&l!==s&&i.verLine(n,o.yByValue(l),o.yByValue(s)),i.stroke(t.theme.line||t.theme)}},r.prototype._drawMountainLine=function(){var t=this._valueDrawParams();if(0!==t.values.length){var e=t.renderer,i=t.projection,o=null,r=null,n=1/0,a=!0,l=this.chartPanel.layer.size.height;e.fillTheme(t.theme.fill);for(var s=t.startIndex,c=t.startColumn;s<=t.endIndex;s++,c++){var h,u,f=t.values[s];null!=f&&((h=f!=f)&&a||(u=i.xByColumn(c),a?(e.beginPath(),e.moveTo(u,i.yByValue(f)),o=r=u,a=!1):(a=h?!0:a)||u!==r?(n!==1/0&&e.lineTo(r,i.yByValue(n)),a?(n=1/0,e.lineTo(r,l),e.lineTo(o,l),e.closePath(),e.fill(),o=u):(e.lineTo(u,i.yByValue(f)),n=f),r=u):n=Math.min(n,f)))}n!==1/0&&e.lineTo(r,i.yByValue(n)),e.lineTo(r,l),e.lineTo(o,l),e.closePath(),e.fill(),this._drawSimpleLine()}},r.prototype._drawStepLine=function(){var t=this._valueDrawParams();if(0!==t.values.length){var e=t.renderer,i=t.projection,o=t.dates,r=null,n=null,a=null,l=1/0,s=-1/0,c=!0;e.beginPath();for(var h=t.startIndex,u=t.startColumn;h<=t.endIndex;h++,u++){var f,d,p,y=t.values[h];null!=y&&((d=y!=y)&&c||(p=o?i.xByDate(o[h]):i.xByColumn(u),c?(r=p,n=i.yByValue(y),e.moveTo(p,n),l=s=y,c=!1):(c=d?!0:c)||p!==r?(c?(l=1/0,s=a=-1/0):(e.lineTo(r,n),f=i.yByValue(l),Math.abs(s-l)<1e-5?(e.lineTo(r,f),n=f):(d=i.yByValue(s),Math.abs(d-f)<1.8?(e.lineTo(r,f),n=f):(e.verLine(r,f,d),n=i.yByValue(a),e.moveTo(r,n))),l=s=a=y),r=p):(l=Math.min(l,y),s=Math.max(s,y),a=y)))}null!=a&&a!==-1/0&&(e.lineTo(p,n),e.lineTo(p,i.yByValue(a))),e.stroke(t.theme.line||t.theme)}},r.Style=e,r.defaults={plotStyle:e.SIMPLE},r);function r(t){t=i.call(this,t)||this;return t._plotThemeKey="line",t}t.LinePlot=o}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var i=e.PlotEvent||(e.PlotEvent={});i.POINT_SIZE_CHANGED="plotPointSizeChanged";var t={DOT:"dot"};Object.freeze(t);var o,t=(o=e.Plot,__extends(r,o),Object.defineProperty(r.prototype,"pointSize",{get:function(){return this._options.pointSize||r.defaults.pointSize},set:function(t){if(e.JsUtil.isNegativeNumber(t))throw new TypeError("Value must be a positive number.");this._setOption("pointSize",t,i.POINT_SIZE_CHANGED)},enumerable:!0,configurable:!0}),r.prototype.draw=function(){if(this.visible){var t=this._valueDrawParams();if(0!==t.values.length){function e(t){for(var e=0,i=s.length;e<i;e++)o.circlePath(t,s[e],n),o.fill()}var o=t.renderer,i=t.projection,r=t.dates,n=this.pointSize,a=null,l=[],s=[];o.fillTheme(t.theme.fill||t.theme);for(var c=t.startIndex,h=t.startColumn;c<=t.endIndex;c++,h++){var u,f,d=t.values[c];null!=d&&((f=r?i.xByDate(r[c]):i.xByColumn(h))!==a?(null!=a&&(e(a),s.length=l.length=0),a=f,l.push(d),s.push(i.yByValue(d))):0<=l.indexOf(d)||(u=i.yByValue(d),0<=s.indexOf(u)||(l.push(d),s.push(u))))}e(f)}}},r.defaults={plotStyle:(r.Style=t).DOT,pointSize:2},r);function r(t){t=o.call(this,t)||this;return t._plotThemeKey="point",t}e.PointPlot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(C){"use strict";var e,t=(e=C.Plot,__extends(i,e),i.prototype.draw=function(){var t=this._barDrawParams(),e=t.theme.aboveCross,t=t.theme.belowCross;e&&t?(this.drawArea(!0,e),this.drawArea(!1,t)):this._drawOneColorArea()},i.prototype.drawArea=function(t,e){if(this.visible){var i=this._barDrawParams();if(0!==i.values.length){var o=this.renderer,r=this.projection,n=this.dataSeries[0],a=this.dataSeries[1],l=this._getIntersectionPoint(n,a,i);if(0!==l.length){var s=i.startIndex;o.beginPath();for(var c=1;c<l.length;c++){var h=null,u=void 0,f=void 0,d=l[c].x,p=l[c].y;if(t!==a.values[l[c].index]>=n.values[l[c].index]){o.moveTo(d,p);for(var y=void 0,m=l[c].index;s<m;m--)null!==n.values[m]&&null!==a.values[m]&&(u=a.values[m],d=r.xByRecord(m),p=r.yByValue(u),d!==h?(f?(_=r.yByValue(f),o.lineTo(h,_),f=null):o.lineTo(d,p),h=d,y=m):f=u);f=h=null,d>=l[c-1].x&&d<=l[c].x&&null===n.values[y]&&a.values[y]&&o.lineTo(l[c-1].x,l[c-1].y);for(var _,C=s;C<=l[c].index;C++)null!==n.values[C]&&null!==a.values[C]&&(u=n.values[C],d=r.xByRecord(C),p=r.yByValue(u),d!==h?(f?(_=r.yByValue(f),o.lineTo(h,_),f=null):o.lineTo(d,p),h=d):f=u)}else s=l[c].index}o.fill(e)}}}},i.prototype._drawOneColorArea=function(){if(this.visible){var t=this._barDrawParams();if(0!==t.values.length){var e=this.renderer,i=this.projection,o=null,r=null,n=this.dataSeries[0].values[t.startIndex],a=i.xByRecord(t.startIndex),l=i.yByValue(n);e.beginPath(),e.moveTo(a,l);for(var s=t.startIndex+1;s<=t.endIndex;s++)null!=(n=this.dataSeries[0].values[s])&&(a=i.xByRecord(s),l=i.yByValue(n),a!==r?(o?(c=i.yByValue(o),e.lineTo(r,c),o=null):e.lineTo(a,l),a=r):o=n);(o=r=null)==(n=this.dataSeries[1].values[t.endIndex+1])&&(t.endIndex=this.dataSeries[1].rightNearestVisibleValueIndex(t.endIndex),n=this.dataSeries[1].values[t.endIndex]),a=i.xByRecord(t.endIndex),l=i.yByValue(n),e.lineTo(a,l);for(var c,s=t.endIndex;s>=t.startIndex;s--)null!=(n=this.dataSeries[1].values[s])&&(a=i.xByRecord(s),l=i.yByValue(n),a!==r?(o?(c=i.yByValue(o),e.lineTo(r,c),o=null):e.lineTo(a,l),e.lineTo(a,l),r=a):o=n);null==(n=this.dataSeries[0].values[t.startIndex])&&(t.startIndex=this.dataSeries[0].rightNearestVisibleValueIndex(t.startIndex),n=this.dataSeries[0].values[t.startIndex]),a=i.xByRecord(t.startIndex),l=i.yByValue(n),e.lineTo(a,l),e.fill(t.theme)}}},i.prototype._getIntersectionPoint=function(t,e,i){var o=t.values,r=e.values,n=this.projection,a=[],l=i.startIndex;null==(e=o[l])&&(e=o[l=this.dataSeries[0].rightNearestVisibleValueIndex(l)]);var s=this._addValue(this.projection.xByRecord(l),this.projection.yByValue(e),l);a.push(s);for(var c,h,u,f,d,p,y,m,_=i.startIndex;_<=i.endIndex;_++)null==r[_]&&null==o[_]||(c=n.xByRecord(_),h=n.yByValue(o[_]),u=n.xByRecord(_+1),f=n.yByValue(o[_+1]),d=n.xByRecord(_),p=n.yByValue(r[_]),y=n.xByRecord(_+1),m=n.yByValue(r[_+1]),(m=C.Geometry.intersectionPoints({x:c,y:h},{x:u,y:f},{x:d,y:p},{x:y,y:m}))&&(s=this._addValue(m.x,m.y,_),a.push(s)));e=o[i.endIndex],l=i.endIndex;return null==e&&(e=o[l=t.leftNearestVisibleValueIndex(l)]),s=this._addValue(n.xByRecord(l),n.yByValue(e),l),a.push(s),a},i.prototype._addValue=function(t,e,i){var o={};return o.x=t,o.y=e,o.index=i,o},i);function i(t){return e.call(this,t)||this}C.FillPlot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.BarPlot,__extends(o,e),Object.defineProperty(o.prototype,"boxSize",{get:function(){return this._boxSize},set:function(t){this._boxSize=t},enumerable:!0,configurable:!0}),o.prototype.draw=function(){var t,e;!this.visible||0!==(t=this._barDrawParams()).values.length&&((e=t.renderer).beginPath(),this._drawColumns(t,!0),e.stroke(t.theme.upCandle.border),e.beginPath(),this._drawColumns(t,!1),e.stroke(t.theme.downCandle.border))},o.prototype._drawColumns=function(t,e){for(var i=t.renderer,o=t.projection,r=this.boxSize,n=this.chart.dateScale.columnWidth,a=Math.max(n*this.columnWidthRatio,this.minWidth),l=Math.round(a/2),s=e?null:t.theme.downCandle.border,c=t.startIndex,h=t.startColumn;c<=t.endIndex;c++,h++){var u=t.open[c],f=t.close[c];if(null!=u&&null!=f)if(e===u<=f)for(var d=t.dates?o.xByDate(t.dates[c]):o.xByColumn(h),p=t.low[c],y=t.high[c];1e-6<y-p;){var m=o.yByValue(p),_=o.yByValue(p+r);m===_&&m--,e?a<3?i.verLine(d,m,_):(i.line(d-l,m,d+l,_),i.line(d-l,_,d+l,m)):a<3?i.verLine(d,m,_):(i.ellipsePath(d,(m+_)/2,l,(_-m)/2),i.stroke(s)),p+=r}}},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.PointAndFigurePlot=i}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};!function(L){"use strict";var A;(t=A=L.LabelPlotPosition||(L.LabelPlotPosition={})).Top="top",t.Bottom="bottom",L.LabelPlotStyle={Tooltip:"Tooltip"},Object.freeze(L.LabelPlotStyle);var o,t=(o=L.Plot,__extends(r,o),r.prototype.draw=function(){var t;this.visible&&(this.chart.dateScale.columnWidth<this._barWidthTextThreshold||(t=L.LabelPlotStyle,this.plotStyle===t.Tooltip&&this._drawTooltip()))},r.prototype._drawTooltip=function(){var t=this._barDrawParams();if(0!==t.values.length){var e=t.renderer,i=t.projection,o=t.dates,r=t.startIndex,n=t.endIndex,a=t.startColumn,l=this.chart,s=this.tooltip,c=this.theme,h=this._position,l=l.dataManager,u=t.values,f=l.getDataSeries(L.DataSeriesSuffix.HIGH).values,d=l.getDataSeries(L.DataSeriesSuffix.LOW).values,p=this._offset,y=c.text.fontSize;if(u.length){if(e.beginPath(),c.fill.fillEnabled){for(var m=r,_=a;m<=n;m++,_++)if(null!=(E=u[m])){for(var C=Array.isArray(E)?E:[E],b=-1/0,g=0;g<C.length;g++)var S="object"==typeof(T=C[g])?T.value:T,v=e.textWidth(S),b=Math.max(b,v);b+=16;var w=y*C.length+8,P=(o?i.xByDate(o[m]):i.xByColumn(_))-b/2,k=void 0,x=void 0,O="object"==typeof E?E.value:E;switch(h){case A.Top:x=this._forBars?f[m]:Math.max(0,O),k=i.yByValue(x)-p-w;break;case A.Bottom:x=this._forBars?d[m]:Math.min(0,O),k=i.yByValue(x)+p}P+=L.CanvasOffset,k+=L.CanvasOffset,b=e.textWidth(E)+8,e.rect(P-b/2,k-w/2,b,w)}e.fill({fillColor:c.fill.fillColor}),e.fillStroke(c.fill,c.stroke)}e.textTheme(s.actualTheme.text),e.textOptions({baseline:L.TextBaseline.MIDDLE,align:L.TextAlign.CENTER});for(var E,D=!1,m=r,_=a;m<=n;m++,_++)if(null!=(E=u[m])){C=Array.isArray(E)?E:[E],P=o?i.xByDate(o[m]):i.xByColumn(_),k=void 0,x=void 0,O="object"==typeof E?E.value:E;switch(h){case A.Top:var I=y*C.length;x=this._forBars?f[m]:Math.max(0,O),k=i.yByValue(x)-p-4+y/2-I;break;case A.Bottom:x=this._forBars?d[m]:Math.min(0,O),k=i.yByValue(x)+p+4+y/2}P+=L.CanvasOffset,k+=L.CanvasOffset;for(g=0;g<C.length;g++){var T,S="object"==typeof(T=C[g])?T.label||T.value:T,M=k+g*y,F="object"==typeof T&&T.textColor;F?(e.textTheme(__assign({},c.text,{fillColor:F})),D=!0):D&&(e.textTheme(c.text),D=!1),e.fillText(S,P,M)}}e.closePath()}}},r.Style=L.LabelPlotStyle,r.defaults={plotStyle:L.LabelPlotStyle.Tooltip,position:A.Top,offset:16,forBars:!1},r);function r(t){var e=o.call(this,t)||this,i=r.defaults;return e._position=t&&t.position||i.position,e._offset=t&&t.offset||i.offset,e._barWidthTextThreshold=t&&t.barWidthTextThreshold||i.barWidthTextThreshold,e._forBars=t&&t.forBars||i.forBars,e._plotThemeKey="label",e}L.LabelPlot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){"use strict";var O;(t=O=e.Style||(e.Style={})).CONNECTED="connected",t.CONTINIOUS="continious",t.STEPPED="stepped",t.SOLID="solid",t.HOLLOW="hollow";var i,t=(i=e.Plot,__extends(o,i),Object.defineProperty(o.prototype,"settings",{get:function(){return this._setting},set:function(t){this._setting=t},enumerable:!0,configurable:!0}),o.prototype.draw=function(){var t,e,i;this.visible&&(this._getBasis(),e=(t=this._setting.general).styleLine,i=this._barDrawParams().values,t.style===O.CONNECTED?this._drawRectangleLine(i,!0,e,!0):this._drawRectangleLine(i,!0,e),this._drawBands())},o.prototype._drawBands=function(){var t,e=this._setting.bands;e.band1.isShow&&(t=e.band1.styleLine,this._drawRectangleLine(this._valueBand11,!1,t,!0),this._drawRectangleLine(this._valueBand12,!1,t,!0)),e.band2.isShow&&(t=e.band2.styleLine,this._drawRectangleLine(this._valueBand21,!1,t,!0),this._drawRectangleLine(this._valueBand22,!1,t,!0)),e.band3.isShow&&(t=e.band3.styleLine,this._drawRectangleLine(this._valueBand31,!1,t,!0),this._drawRectangleLine(this._valueBand32,!1,t,!0))},o.prototype._getBasis=function(){for(var t=this._barDrawParams().values,e=t.length,i=this.chart.lastVisibleIndex,o=0,r=i<e?i:e,n=0;n<r;n++){var a=t[n];a&&(o+=a);var l=Math.sqrt(o/(n+1)),s=l,c=2*l,l=2.5*l;this._valueBand11[n]=a+s,this._valueBand12[n]=a-s,this._valueBand21[n]=a+c,this._valueBand22[n]=a-c,this._valueBand31[n]=a+l,this._valueBand32[n]=a-l}},o.prototype._drawRectangleLine=function(t,e,i,o){void 0===o&&(o=!1);var r=this._barDrawParams(),n=t.length;if(0!==n){var a=r.renderer,l=r.projection,s=this.chart,c=this._setting,h=c.label,u=h.isShowVWAPLabel,f=h.lebelLineLength,d=c.general.style,p=s.firstVisibleIndex,r=s.lastVisibleIndex,y=l.xByRecord(r)-f,m=this._offset;o&&(a.beginPath(),h=l.xByRecord(0),c=l.yByValue(t[0]),a.moveTo(h,c));for(var _=r<n?r:n,C=p;C<_;C++){var b=C+1,g=l.xByRecord(C),S=l.xByRecord(b),v=l.yByValue(t[C]),w=l.yByValue(t[b]);if(u&&!(S+m<y)){if(e&&u){var P=t[C-1],k=s.lastVisibleRecord,x=10,b=a.textWidth("VWAP"),P=l.yByValue(P),k=l.xByRecord(k);a.horLine(k-b-x,k-f,P),a.stroke(i),this._drawTextWithBackground("VWAP",k,P,x,a);break}break}d?o?a.lineTo(g,v):(a.rect(g-(x=5),v-x,S-g,10),O.HOLLOW===d&&(P=s.theme.drawing.abstractMarker.fill,a.fill(P))):(a.horLine(g,S,v),a.verLine(S,v,w))}a.stroke(i)}},o.prototype._drawTextWithBackground=function(t,e,i,o,r){var n=this.chart.theme,a=n.drawing.abstractMarker.fill,l=n.plot.indicator.blackText,s=l.fontSize,n=r.textWidth(t),s=s+o,e=e-n;r.beginPath(),r.rect(e-o,i-o,n+o,s),r.fill(a),r.fillText(t,e-5,i+3,l)},o);function o(t){t=i.call(this,t)||this;return t._color="yellow",t._setting={general:{style:O.CONNECTED,styleLine:{width:1,lineStyle:e.LineStyle.SOLID,strokeColor:t._color}},bands:{band1:{isShow:!0,coefficient:1,styleLine:{width:1,lineStyle:e.LineStyle.SOLID,strokeColor:t._color}},band2:{isShow:!0,coefficient:2,styleLine:{width:1,lineStyle:e.LineStyle.SOLID,strokeColor:t._color}},band3:{isShow:!0,coefficient:3,styleLine:{width:1,lineStyle:e.LineStyle.SOLID,strokeColor:t._color}}},label:{isShowVWAPLabel:!0,lebelLineLength:400}},t._offset=50,t._valueBand11=[],t._valueBand12=[],t._valueBand21=[],t._valueBand22=[],t._valueBand31=[],t._valueBand32=[],t._plotThemeKey="line",t}e.VWAPPlot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(s){"use strict";var a;(t=a=s.ResizableElementPlotDirection||(s.ResizableElementPlotDirection={})).Left="left",t.Right="right",t.Top="top",t.Bottom="bottom";var i,t=(i=s.Rect,__extends(e,i),e);function e(t){var e=i.call(this,t)||this;return e.id=t.id,e}s.ResizableRect=t;var o,t=(o=s.Plot,__extends(r,o),Object.defineProperty(r.prototype,"isActive",{get:function(){return null!=this._activeRect},enumerable:!0,configurable:!0}),r.prototype.draw=function(){var t,e,i,o,r;this.visible&&this._activeRect&&(t=this.renderer,e=(r=this._activeRect).left,i=r.top,o=r.width,r=r.height,t.beginPath(),t.rect(e,i,o,r),t.stroke(this._strokeTheme),t.closePath(),this._directions.left&&this._drawResizeControl(e,i+r/2),this._directions.right&&this._drawResizeControl(e+o,i+r/2),this._directions.top&&this._drawResizeControl(e+o/2,i),this._directions.bottom&&this._drawResizeControl(e+o/2,i+r))},r.prototype._drawResizeControl=function(t,e){var i=this.renderer;i.beginPath(),i.circle(t,e,this._controlSize/2),i.fill({fillColor:this._strokeTheme.strokeColor}),i.closePath()},r.prototype._onChartPanelChanged=function(t){var e=this;o.prototype._onChartPanelChanged.call(this,t),this.chart&&(this.chart.on(s.MouseEvent.WHEEL,function(){e._disableMouseMove(),e._finishResize(),e._clearActiveRect(),clearTimeout(e._mouseWheelTimeout),e._mouseWheelTimeout=setTimeout(function(){e._enableMouseMove()},100)},this),this.chart.on(s.PanelEvent.FORCE_MOVE_STARTED,function(){e._disableMouseMove();var t=e._activeControlDirection;t?e._startResize(t):e._clearActiveRect()},this),this.chart.on(s.PanelEvent.FORCE_MOVE_FINISHED,function(){e._enableMouseMove(),e._finishResize()},this),this._enableMouseMove())},r.prototype._getActiveControlDirection=function(){var t=this._activeRect,e=t.left,i=t.top,o=t.width,r=t.height,n=this._activePoint,t=this._controlSize;return this._directions.left&&e-t/2<=n.x&&n.x<=e+t/2&&i<=n.y&&n.y<=i+r?a.Left:this._directions.right&&e+o-t/2<=n.x&&n.x<=e+o+t/2&&i<=n.y&&n.y<=i+r?a.Right:this._directions.top&&e<=n.x&&n.x<=e+o&&i-t/2<=n.y&&n.y<=i+t/2?a.Top:this._directions.bottom&&e<=n.x&&n.x<=e+o&&i+r-t/2<=n.y&&n.y<=i+r+t/2?a.Bottom:void 0},r.prototype._clearActiveRect=function(){delete this._activeRect,delete this._activeRectId,delete this._activeControlDirection},r.prototype.destroy=function(){var t=this.chart;o.prototype.destroy.call(this),t&&(t.off(s.MouseEvent.MOVE,this._onMouseMove),t.off(s.MouseEvent.MOVE,this._onResize),t.off(s.MouseEvent.WHEEL,this),t.off(s.PanelEvent.FORCE_MOVE_STARTED,this),t.off(s.PanelEvent.FORCE_MOVE_FINISHED,this))},r.defaults={getRects:function(){return[]},handlers:{},directions:{left:!0,right:!0,top:!0,bottom:!0}},r);function r(t){var l=o.call(this,t)||this;l._controlSize=8,l._strokeTheme={width:1,strokeColor:"green",lineStyle:s.LineStyle.SOLID},l._enableMouseMove=function(){l.chart.on(s.MouseEvent.MOVE,l._onMouseMove,l._onMouseMove)},l._disableMouseMove=function(){l.chart.off(s.MouseEvent.MOVE,l._onMouseMove)},l._onMouseMove=function(t){if(l.visible){var e=l._activePoint=t.value,i=l._activeRect;l._clearActiveRect();var o=l._getRects();if(o.length){for(var t=l.chart,r=o.length-1;0<=r;r--){var n=o[r],a=n.clone();if(a.left-=l._controlSize/2,a.top-=l._controlSize/2,a.width+=l._controlSize,a.height+=l._controlSize,a.containsPoint(e)){l._activeRect=n,l._activeRectId=n.id,l._activeControlDirection=l._getActiveControlDirection();break}}i!==l._activeRect&&t.setNeedsUpdate(),l._activeControlDirection?t.addCssClass(s.DrawingCursorClass.RESIZE):t.removeCssClass(s.DrawingCursorClass.RESIZE)}}},l._startResize=function(t){var e=l.chart;e.scrollEnabled=!1,e.on(s.MouseEvent.MOVE,l._onResize(t),l._onResize),l._handlers.started&&l._handlers.started(l._activeRect)},l._finishResize=function(){var t=l.chart;t.scrollEnabled=!0,t.off(s.MouseEvent.MOVE,l._onResize),l._handlers.finished&&l._handlers.finished(l._activeRect)},l._onResize=function(r){return function(t){var e=t.value,i=l._activeRect=l._getRects().find(function(t){return t.id===l._activeRectId});switch(r){case a.Left:var o=i.left-e.x;i.left-=o,i.width+=o;break;case a.Right:i.width=e.x-i.left;break;case a.Top:case a.Bottom:}l._activePoint=e,l._handlers.continued&&l._handlers.continued(l._activeRect),l.chart.setNeedsUpdate()}};var e=r.defaults;return l._getRects=t.getRects||e.getRects,l._handlers=t.handlers||e.handlers,l._directions=t.directions||e.directions,l._plotThemeKey="label",l}s.ResizableElementPlot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(k){"use strict";var e,t=(e=k.Plot,__extends(i,e),i.prototype.draw=function(){if(this.visible){for(var t=this._barDrawParams(),e=t.renderer,i=t.projection,o=t.values,r=t.startIndex,n=t.endIndex,a=t.startColumn,l=o.length-1;null==o[r]&&0<r;)r--,a--;for(;null==o[n]&&n<l;)n++;var s,c,t=this.chart.dataManager,h=t.getDataSeries(k.DataSeriesSuffix.HIGH).values,u=t.getDataSeries(k.DataSeriesSuffix.LOW).values;e.beginPath();for(var f,d,p,y,m,_=r,C=a;_<=n;_++,C++)null!=(b=o[_])?f=b!==k.ZigZagExtreme.Low?(g=i.xByColumn(C),S=i.yByValue(h[_]),e.line(s,c,g,S),k.ZigZagExtreme.High):(s=i.xByColumn(C),c=i.yByValue(u[_]),k.ZigZagExtreme.Low):l<=_&&f===k.ZigZagExtreme.Low&&(d=i.xByColumn(C),p=i.yByValue(u[_]),e.line(s,c,d,p));e.stroke(this.theme.up),e.closePath(),e.beginPath();for(var b,g,S,v,w,P,_=r,C=a;_<=n;_++,C++)null!=(b=o[_])?v=b!==k.ZigZagExtreme.High?(g=i.xByColumn(C),S=i.yByValue(u[_]),e.line(y,m,g,S),k.ZigZagExtreme.Low):(y=i.xByColumn(C),m=i.yByValue(h[_]),k.ZigZagExtreme.High):l<=_&&v===k.ZigZagExtreme.High&&(w=i.xByColumn(C),P=i.yByValue(h[_]),e.line(y,m,w,P));e.stroke(this.theme.down),e.closePath()}},i);function i(t){t=e.call(this,t)||this;return t._plotThemeKey="zigZag",t}k.ZigZagPlot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};!function(pe){"use strict";var e,ye,me,_e,l,Ce,n;(t=e=pe.FootprintMode||(pe.FootprintMode={})).Volume="volume",t.TradesCount="tradesCount",(t=ye=pe.FootprintBarStyle||(pe.FootprintBarStyle={})).NoBars="noBars",t.DeltaPrintBars="deltaPrintBars",t.DeltaShadingBars="deltaShadingBars",t.VolumeProfileBars="volumeProfileBars",(t=me=pe.FootprintBarAlignment||(pe.FootprintBarAlignment={})).Left="left",t.Middle="middle",t.Right="right",(t=_e=pe.FootprintTextStyle||(pe.FootprintTextStyle={})).NoText="noText",t.BidDeltaAsk="bidDeltaAsk",t.BidTotalAsk="bidTotalAsk",t.BidAsk="bidAsk",(t=l=pe.FootprintProfileFilter||(pe.FootprintProfileFilter={})).NoProfileFilter="noProfileFilter",t.MaxWidthProfile="maxWidthProfile",t.MinVolumeProfile="minVolumeProfile",t.AutoMaxProfile="autoMaxProfile",(t=Ce=pe.FootprintAutoProfilingRange||(pe.FootprintAutoProfilingRange={})).Visible="visible",t.Chart="chart",(t=n=pe.FootprintVolumeFilterMode||(pe.FootprintVolumeFilterMode={})).GreaterThan="greaterThan",t.LessThan="lessThan";var i,t=(i=pe.AdvancedPlot,__extends(o,i),o.prototype._handleSettings=function(t){var e,i,o,r=this,n=this.chart,a=this.chartPanel;a&&(e=a.layer.size.width,a=n.container.find("."+this.valueScale.rightPanelCssClass).outerWidth(),t=t.text.initialBarWidth,i=(e-a)/t,this._settingsHandled&&t===this._settings.text.initialBarWidth||this._setRecordRange(i),this._settingsHandled||(o=function(){r._setRecordRange(i),n.off(pe.ChartEvent.HISTORY_LOADED,o)},n.on(pe.ChartEvent.HISTORY_LOADED,o)))},o.prototype._setRecordRange=function(t){var e=this.chart;e.recordRange(t),e.firstVisibleRecord+=1,e.lastVisibleRecord+=1},o.prototype.draw=function(){if(this.visible){var t=this.chart,e=t.dataManager,i=t.dateScale,o=t.instrument,r=i.columnWidth;if(!(r<this._maxBarWidth)){var n=this._barDrawParams(),a=n.renderer,l=n.projection,s=n.dates,c=n.startIndex,h=n.endIndex,u=n.startColumn;if(0!==s.length){var f,d,p=e.getDataSeries(pe.DataSeriesSuffix.DETAILS).values,y=e.getDataSeries(pe.DataSeriesSuffix.OPEN).values,m=e.getDataSeries(pe.DataSeriesSuffix.HIGH).values,_=e.getDataSeries(pe.DataSeriesSuffix.LOW).values,C=e.getDataSeries(pe.DataSeriesSuffix.CLOSE).values,t=this._settings,i=t.main,b=i.fillColor,g=i.strokeColor,S=i.barStrokeColor,v=i.enableOpenClose,w=i.closeOpenColor,P=i.openCloseColor,n=i.customTickSize,k=t.font,s=t.intraBar,x=s.barStyle,O=s.useDeltaShadingColors,E=s.sellShadeBarColor,D=s.buyShadeBarColor,I=s.barColor,T=s.barPocColor,M=s.barAlignment,F=s.sellVolumeBarColor,L=s.sellPocBarColor,A=s.buyVolumeBarColor,V=s.buyPocBarColor,e=t.text,N=e.textStyle,R=e.margin,z=e.hideSides,j=e.separator,i=e.barWidthTextThreshold,s=t.profile,e=s.autoProfilingRange,B=s.showPocOnlyOnBiggestBar,H=s.strokeWidth,s=t.deltaImbalance,U=s.enabled,X=s.threshold,G=s.strongBidVolumeColor,W=s.weakBidVolumeColor,q=s.strongAskVolumeColor,K=s.weakAskVolumeColor,Y=s.enableWeakBidVolume,Z=s.enableWeakAskVolume,s=t.pullback,t=s.enabled,J=s.fillColor,$=s.strokeColor,Q=s.textColor,tt=s.currentBidAskColor,n=n.enabled?n.value:1,n=o.tickSize*n,et=l.yByValue(0)-l.yByValue(o.tickSize),it=l.yByValue(0)-l.yByValue(n),ot=r/2,rt=a.textWidth(j),nt=r<i;switch(e){case Ce.Visible:f=c,d=h;break;case Ce.Chart:f=0,d=p.length-1}for(var at=-1/0,lt=-1/0,st=-1/0,ct=f;ct<=d;ct++){var ht=this._handleValue(p[ct]);if(this._isValidDetails(ht))for(var ut=0;ut<ht.length;ut++)var ft=ht[ut],at=Math.max(at,this._getProfile(ft)),lt=Math.max(lt,this._getProfile(ft.bidInfo)),st=Math.max(st,this._getProfile(ft.askInfo))}if(t&&!nt&&h===p.length-1){var ht=this._handleValue(p[h]),dt=m[h],pt=_[h];if(this._isValidDetails(ht)&&this._isValidDetails(this._prevDetails)){t=this._prevHigh!==dt,m=this._prevLow!==pt,_=this._prevIndex<h;if(t||m||_){for(var yt=-1/0,mt=1/0,ut=0;ut<ht.length;ut++)var _t=ht[ut].price,yt=Math.max(yt,_t),mt=Math.min(mt,_t);var Ct=t?yt:mt;this._pullbackData=[{bidInfo:{volume:0,tradesCount:0,profile:0},askInfo:{volume:0,tradesCount:0,profile:0},volume:0,tradesCount:0,profile:0,price:Ct}]}else{for(ct=0;ct<this._pullbackData.length;ct++){var bt=this._pullbackData[ct];bt.bidInfo.isCurrent=!1,bt.askInfo.isCurrent=!1}for(ct=0;ct<ht.length;ct++)for(var gt=ht[ct],St=this,ut=0;ut<this._prevDetails.length;ut++)!function(t){var e=St._prevDetails[t],i=St._getProfile(gt.bidInfo)!==St._getProfile(e.bidInfo),o=St._getProfile(gt.askInfo)!==St._getProfile(e.askInfo);if(gt.price!==e.price||!i&&!o)return;var r=gt.price,n=St._pullbackData.findIndex(function(t){return t.price===r}),a=gt.bidInfo.volume-e.bidInfo.volume,l=gt.bidInfo.tradesCount-e.bidInfo.tradesCount,s=0<St._getProfile(gt.bidInfo)-St._getProfile(e.bidInfo),c=gt.askInfo.volume-e.askInfo.volume,t=gt.askInfo.tradesCount-e.askInfo.tradesCount,i=0<St._getProfile(gt.askInfo)-St._getProfile(e.askInfo),o=gt.volume-e.volume,e=gt.tradesCount-e.tradesCount;-1===n?St._pullbackData.push({bidInfo:{volume:a,tradesCount:l,isCurrent:s},askInfo:{volume:c,tradesCount:t,isCurrent:i},volume:o,tradesCount:e,price:r}):((n=St._pullbackData[n]).bidInfo.volume+=a,n.bidInfo.tradesCount+=l,n.bidInfo.isCurrent=s,n.askInfo.volume+=c,n.askInfo.tradesCount+=t,n.askInfo.isCurrent=i,n.volume+=o,n.tradesCount+=e)}(ut)}this._pullbackData=this._handleValue(this._pullbackData,!0)}this._prevIndex=h,this._prevHigh=dt,this._prevLow=pt,this._prevDetails=jQuery.extend(!0,[],ht)}else delete this._prevIndex,delete this._prevHigh,delete this._prevLow,delete this._prevDetails,this._pullbackData=[];var vt=this._isValidDetails(this._pullbackData),wt=vt?p.concat([this._pullbackData]):p,Pt=vt?h+1:h;a.beginPath();for(var ct=c,kt=u;ct<=Pt;ct++,kt++){ht=(Dt=vt&&h<ct)?wt[ct]:this._handleValue(wt[ct]);if(this._isValidDetails(ht)){for(dt=-1/0,pt=1/0,ut=0;ut<ht.length;ut++){Ct=ht[ut].price;dt=Math.max(dt,Ct),pt=Math.min(pt,Ct)}var xt=l.xByColumn(kt),Ot=l.yByValue(dt),Et=l.yByValue(pt);a.rect(xt-ot,Ot-it/2,r,Et-Ot+it),h<=ct&&($t=de=void 0,$t=ct===h?(de=b,g):(de=J,$),a.fillStroke({fillColor:de},{strokeColor:$t}),a.closePath(),a.beginPath())}}for(ct=c,kt=u;ct<=Pt;ct++,kt++){var Dt,ht=(Dt=vt&&h<ct)?wt[ct]:this._handleValue(wt[ct]);if(this._isValidDetails(ht)){for(var It=(xt=l.xByColumn(kt))-ot,Tt=-1/0,Mt=-1/0,Ft=-1/0,ut=0;ut<ht.length;ut++)ft=ht[ut],Tt=Math.max(Tt,this._getProfile(ft)),Mt=Math.max(Mt,this._getProfile(ft.bidInfo)),Ft=Math.max(Ft,this._getProfile(ft.askInfo));for(ut=0;ut<ht.length;ut++){var Lt,At,Vt,Nt,Rt=(ft=ht[ut]).bidInfo,zt=ft.askInfo,jt=ft.tradesCount,Ct=ft.price,Bt=this._getProfile(ft),Ht=this._getProfile(ft.bidInfo),Ut=this._getProfile(ft.askInfo),Xt=Ut-Ht,Gt=ht[ut-1],Wt=ht[ut+1],qt=l.yByValue(Ct),Kt=qt-it/2;if(!Dt){if(x!==ye.NoBars)if(x!==ye.DeltaPrintBars){if(this._volumeFilter(jt)){var Yt=void 0,Zt=void 0;if(x!==ye.VolumeProfileBars)Yt=r,Zt=It;else switch(Yt=this._getVolumeWidth(Bt,at,Tt,r),M){case me.Left:Zt=It;break;case me.Middle:Zt=xt-Yt/2;break;case me.Right:Zt=It+r-Yt}pe.JsUtil.debug("footprint_no_colors")||(de=void 0,de=O&&Ht!==Ut?Ut<Ht?pe.ColorUtil.mixColors(I,E,Ut?Math.min(1,Ht/Ut-1):1):pe.ColorUtil.mixColors(I,D,Ht?Math.min(1,Ut/Ht-1):1):I,a.rect(Zt,Kt,Yt,it),a.fillStroke({fillColor:de},{strokeColor:S}),a.closePath(),a.beginPath()),Bt!==at&&(B||Bt!==Tt)||(a.rect(It,Kt,r,it),a.save(),a.clip(),a.stroke({strokeColor:T,width:2*H}),a.restore(),Bt===at&&a.fill({fillColor:T}),a.closePath(),a.beginPath())}}else for(var Jt=0;Jt<2;Jt++){var $t,Qt,te=(Jt?zt:Rt).tradesCount;this._volumeFilter(te)&&(te=Qt=$t=de=Zt=Yt=void 0,te=Jt?(Zt=It+r-(Yt=this._getVolumeWidth(Ut,st,Ft,ot)),de=A,$t=V,Qt=Ut===st,Ut===Ft):(Yt=this._getVolumeWidth(Ht,lt,Mt,ot),Zt=It,de=F,$t=L,Qt=Ht===lt,Ht===Mt),a.rect(Zt,Kt,Yt,it),a.fill({fillColor:de}),a.closePath(),a.beginPath(),(Qt||!B&&te)&&(a.rect(It+Jt*ot,Kt,ot,it),a.save(),a.clip(),a.stroke({strokeColor:$t,width:2*H}),a.restore(),a.closePath(),a.beginPath()))}!v||(Lt=y[ct])!==(At=C[ct])&&(Vt=l.yByValue(Lt),Nt=(oe=l.yByValue(At))-et/2,jt=Math.min(4,r),de=Lt<At?w:P,a.rect(It,Nt,jt,Vt-oe+et),a.fill({fillColor:de}),a.closePath(),a.beginPath())}var ee=Math.min(k.fontSize,it);if(N!==_e.NoText&&!nt&&ee&&!pe.JsUtil.debug("footprint_no_text")){a.save();var ie=void 0;switch(N){case _e.BidDeltaAsk:ie=Xt.toString();break;case _e.BidTotalAsk:ie=Bt.toString();break;case _e.BidAsk:ie=j}var oe=__assign({},k);if(oe.fontSize=ee,Dt&&(oe.fillColor=Q),a.textOptions({align:pe.TextAlign.CENTER,baseline:pe.TextBaseline.MIDDLE}),a.fillText(ie,xt,qt,oe),!z)for(var re=N===_e.BidAsk,Jt=0;Jt<2;Jt++){var ne=void 0,ae=void 0,le=void 0,se=void 0,ce=void 0,he=void 0,ue=void 0,ue=Jt?(ne=zt,ae=q,le=K,se=Z,Gt&&(ce=Gt.bidInfo),re?(he=xt+rt/2+R,pe.TextAlign.LEFT):(he=It-R+r,pe.TextAlign.RIGHT)):(ne=Rt,ae=G,le=W,se=Y,Wt&&(ce=Wt.askInfo),re?(he=xt-rt/2-R,pe.TextAlign.RIGHT):(he=It+R,pe.TextAlign.LEFT)),fe=this._getProfile(ne),de=void 0;Dt?de=ne.isCurrent?tt:Q:U&&ce&&((ce=this._getProfile(ce))*X<fe?de=ae:se&&fe*X<ce&&(de=le));le=__assign({},k);le.fontSize=ee,de&&(le.fillColor=de),a.textOptions({align:ue,baseline:pe.TextBaseline.MIDDLE}),a.fillText(fe.toString(),he,qt,le)}a.restore()}}}}}}}},o.prototype._handleValue=function(i,t){if(void 0===t&&(t=!1),!this._isValidDetails(i))return i;for(var e=this.chart.instrument,o=this._settings.main.customTickSize,r=o.enabled?o.value:1,n=t?e.tickSize*r:e.tickSize,a=-1/0,l=1/0,s=0;s<i.length;s++)var c=i[s].price,a=Math.max(a,c),l=Math.min(l,c);for(var h=[],c=l;c<=a;c+=n)!function(e){var t=i.find(function(t){return t.price===e});h.push(t||{bidInfo:{volume:0,tradesCount:0},askInfo:{volume:0,tradesCount:0},volume:0,tradesCount:0,price:e})}(c);if(h.sort(function(t,e){return t.price-e.price}),!o.enabled||t)return h;for(var u=[],f=0;f<h.length;f+=o.value){for(var d=pe.JsUtil.clone(h[f]),s=f+1;s<Math.min(f+o.value,h.length);s++){var p=h[s],y=p.bidInfo,m=p.askInfo,_=p.volume,p=p.tradesCount;d.bidInfo.volume+=y.volume,d.bidInfo.tradesCount+=y.tradesCount,d.askInfo.volume+=m.volume,d.askInfo.tradesCount+=m.tradesCount,d.volume+=_,d.tradesCount+=p}for(c=0,s=1;s<o.value;s++)c+=s*e.tickSize;d.price+=c/o.value,u.push(d)}return u},o.prototype._getProfile=function(t){switch(this._settings.main.mode){case e.Volume:return t.volume;case e.TradesCount:return t.tradesCount}},o.prototype._getVolumeWidth=function(t,e,i,o){var r=this._settings.profile,n=r.profileFilter,a=r.filterValue;switch(n){case l.NoProfileFilter:return t*o/i;case l.MaxWidthProfile:return Math.min(o,t*o/a);case l.MinVolumeProfile:return a<=t?t*o/i:0;case l.AutoMaxProfile:return t*o/e}},o.prototype._volumeFilter=function(t){var e=this._settings.volumeFilter,i=e.enabled,o=e.mode,r=e.value;if(!i)return!0;switch(o){case n.GreaterThan:return r<t;case n.LessThan:return t<r}},o);function o(){var t=i.call(this)||this;return t._settings={main:{fillColor:"#404040",strokeColor:"transparent",barStrokeColor:"transparent",enableOpenClose:!0,closeOpenColor:"green",openCloseColor:"red",mode:e.Volume,customTickSize:{enabled:!1,value:1}},font:{fontFamily:"Open Sans",fontSize:11,fillColor:"#848484",fontWeight:"400"},intraBar:{barStyle:ye.VolumeProfileBars,useDeltaShadingColors:!0,sellShadeBarColor:"#ff0000",buyShadeBarColor:"#00ff00",barColor:"#ffffff",barPocColor:"#3452F1",barAlignment:me.Left,sellVolumeBarColor:"silver",sellPocBarColor:"gold",buyVolumeBarColor:"silver",buyPocBarColor:"gold"},text:{textStyle:_e.BidAsk,margin:4,hideSides:!1,separator:"x",initialBarWidth:80,barWidthTextThreshold:60},profile:{profileFilter:l.AutoMaxProfile,filterValue:4e3,autoProfilingRange:Ce.Visible,showPocOnlyOnBiggestBar:!1,strokeWidth:2},volumeFilter:{enabled:!1,mode:n.GreaterThan,value:100},deltaImbalance:{enabled:!0,threshold:3.5,strongBidVolumeColor:"#ff0000",weakBidVolumeColor:"#0000ff",strongAskVolumeColor:"#00ff00",weakAskVolumeColor:"#0000ff",enableWeakBidVolume:!0,enableWeakAskVolume:!0},pullback:{enabled:!0,fillColor:"#717171",strokeColor:"transparent",textColor:"#c1c1c1",currentBidAskColor:"#ffffff"}},t._pullbackData=[],t._maxBarWidth=16,t._plotThemeKey="footprint",t}pe.FootprintPlot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};!function(zt){"use strict";var ot,V,N,R,jt,Bt,Ht,Ut,i="#33BBFF",Xt="#FFFFFF",Gt="#FF0000",Wt="#00FF00",qt={0:"#000000",20:"#0000FF",40:"#00FFFF",60:"#00FF00",80:"#FFFF00",100:"#FF0000"},o={K:1e3,M:1e6,B:1e9};(t=ot=zt.VolumeProfileType||(zt.VolumeProfileType={})).Volume="volume",t.TradesCount="tradesCount",t.Price="price",(t=V=zt.VolumeProfilePeriodType||(zt.VolumeProfilePeriodType={})).Every="every",t.Last="last",(t=N=zt.VolumeProfilePeriodUnit||(zt.VolumeProfilePeriodUnit={})).Bars="bars",t.ToPresent="toPresent",t.AllBars="allBars",t.VisibleBars="visibleBars",(t=R=zt.VolumeProfileHide||(zt.VolumeProfileHide={})).LastProfile="lastProfile",t.AllProfiles="allProfiles",(t=jt=zt.VolumeProfileAlign||(zt.VolumeProfileAlign={})).Left="left",t.Right="right",(t=Bt=zt.VolumeProfileProfileType||(zt.VolumeProfileProfileType={})).HollowBlocks="hollowBlocks",t.Dots="dots",t.Lines="lines",t.Hollowgram="hollowgram",t.Solidgram="solidgram",t.FilledLine="filledLine",t.HollowLine="hollowLine",t.SolidBlock="solidBlock",(t=Ht=zt.VolumeProfileProfileColorType||(zt.VolumeProfileProfileColorType={})).ProfileColor="profileColor",t.PeakValley="peakValley",t.HeatMap="heatMap",t.CustomBlend="customBlend",t.FpShading="fpShading",(t=Ut=zt.VolumeProfileExtendNakedType||(zt.VolumeProfileExtendNakedType={})).Closes="closes",t.HighsLows="highsLows",t.ClosesHighsLows="closesHighsLows",(zt.CustomPeriodState||(zt.CustomPeriodState={})).Hovered="hovered";var Kt={DEFAULT:"default",CUSTOM:"custom",COMPOSITE:"composite",PRICE_STATS:"priceStats"};Object.freeze(Kt);var r,t=(r=zt.AdvancedPlot,__extends(z,r),z.prototype._handleSettings=function(t){var e=t.general.period,i=e.date;null!=i&&(e.date=new Date(i)),this._rth.setWorkingTimes(t.workingTimes),this._eth.setWorkingTimes(t.eth.workingTimes),this._periodsDataCache={},!this._settingsHandled&&this._commonVolumeProfilePlotStyles.includes(this.plotStyle)&&(this._needsShift=!0)},z.prototype.getCustomPeriods=function(){return this._customPeriods},z.prototype.createCustomPeriod=function(t){var e=t.startIndex;(null==(i=t.endIndex)||i<e)&&(i=e);var e=Math.max(e,0),i=Math.min(i,this.chart.recordCount-1),t=+new Date,i=__assign({id:t,name:null,state:null,startIndex:e,endIndex:i},this._getCustomPeriodHighLow(e,i));return this._customPeriods.push(i),this.chart.setNeedsUpdate(),t},z.prototype.updateCustomPeriod=function(o){var r=this;this._customPeriods=this._customPeriods.map(function(t){if(t.id!==o.id)return t;var e=__assign({},t,o),i=e.startIndex,t=e.endIndex;return t<i&&(t=i),i=Math.max(i,0),t=Math.min(t,r.chart.recordCount-1),__assign({},e,{startIndex:i,endIndex:t},r._getCustomPeriodHighLow(i,t))}),this.chart.setNeedsUpdate()},z.prototype.deleteCustomPeriod=function(e){this._customPeriods=this._customPeriods.filter(function(t){return t.id!==e})},z.prototype._getCustomPeriodHighLow=function(t,e){for(var i=this.chart.dataManager,o=i.getDataSeries(zt.DataSeriesSuffix.HIGH).values,r=i.getDataSeries(zt.DataSeriesSuffix.LOW).values,n=-1/0,a=1/0,l=t;l<=e;l++)n=Math.max(n,o[l]),a=Math.min(a,r[l]);return{high:n,low:a}},z.prototype.draw=function(){if(this.visible){var t=this._barDrawParams(),e=t.dates,i=t.startIndex,o=t.endIndex;if(0!==e.length){var r=e.length-1,n=this._settings,a=n.general,l=a.period,s=a.hide,c=a.calculateXProfiles,h=a.sessions,u=h.current,f=h.prev,d=h.days,p=n.eth,t=n.splitProfile,a=n.overlayEthOverRth;if(this._startIndex=i,this._endIndex=o,this._labelLines=[],this._periods=[],this._periodsData.set(null,[]),this._periodsData.set(this._settings,[]),this._periodsData.set(p,[]),this.plotStyle===z.Style.DEFAULT){if(!s.enabled||s.value!==R.AllProfiles){var y=this._rth.periods,h=this._eth.periods,m=void 0;if(t)m=y;else{m=[];if([N.Bars,N.ToPresent,N.AllBars,N.VisibleBars].includes(l.unit))switch(l.unit){case N.Bars:for(var _=c,C=o;m.unshift({startIndex:Math.max(0,C-l.value+1),endIndex:C}),C-=l.value,l.type===V.Every&&0<C&&--_;);break;case N.ToPresent:if(l.date){for(var b=void 0,g=r-1;0<=g;g--)if(+l.date>+e[g]){b=g+1;break}m.unshift({startIndex:b||0,endIndex:r})}break;case N.AllBars:m.unshift({startIndex:0,endIndex:o});break;case N.VisibleBars:m.unshift({startIndex:i,endIndex:o})}else{var S=l.unit;if(zt.TimeFrame.timeFrameToTimeInterval(this.chart.timeFrame)<=zt.Session.getPeriodTimeInterval(S)*l.value){var _=c,v=void 0;do{for(var w=e[D=null!=v?v-1:r],P=zt.Session.getPeriodStartTime(w,S,l.value),k=zt.Session.getDatePoint(w,S),x=l.value,v=null,g=D-1;0<=g;g--){var O=e[g],E=zt.Session.getDatePoint(O,S);if(l.type===V.Every&&E!==k){if(!--x){v=g+1;break}k=E}if(l.type===V.Last&&+O<P){v=g+1;break}}if(null==v)v=0;else if(o<v)continue;m.unshift({startIndex:v,endIndex:D})}while(l.type===V.Every&&0<v&&--_)}}}n=!t||a?m:zt.Session.getSplittedPeriods(this._rth.periods,this._eth.periods);s.enabled&&s.value===R.LastProfile&&n.pop(),this._drawPeriods(n),t&&this._drawPeriods(h,p)}}else if(this.plotStyle===z.Style.CUSTOM)for(g=0;g<this._customPeriods.length;g++)this._drawPeriod(this._getPeriodData(this._customPeriods[g]));else if(this.plotStyle===z.Style.COMPOSITE){y=this._rth.periods.length?this._rth.periods:{startIndex:0,endIndex:r};this._drawPeriod(this._getPeriodData(y)),a&&this._eth.periods.length&&this._drawPeriod(this._getPeriodData(this._eth.periods),p)}else if(this.plotStyle===z.Style.PRICE_STATS&&(u.enabled||f.enabled||d.enabled)){var D,k=e[r].getDate(),I=D=r,T=0;u.enabled&&(T=1),f.enabled&&(T=2);var M=void 0;M=d.enabled?(f=d.count-(d.includeCurrentSession?2:1),Math.max(f,T)):T;for(var F=0,L={1:"current",2:"prev"},g=r-1;-1<=g;g--){g<0&&++F;var A={startIndex:g+1,endIndex:T<F?I:D};if(g<0){this._setPriceStatsPeriodsArgs(A,L[F]);break}E=e[g].getDate();if(E!==k&&(k=E,!(2<++F&&F<M))){if(this._setPriceStatsPeriodsArgs(A,L[F]),M<=F)break;D=g,d.includeCurrentSession||1!==F||(I=g)}}this._drawPriceStats()}this._drawLabelLines(),this._periodsData.delete(null),this._periodsData.delete(this._settings),this._periodsData.delete(p)}}},z.prototype._drawPeriods=function(t,e){void 0===e&&(e=null);for(var i=0;i<t.length;i++)this._drawPeriod(this._getPeriodData(t[i]),e)},z.prototype._setPriceStatsPeriodsArgs=function(t,e){var i=this._settings,o=i.general.sessions,r=i.eth,i=i.overlayEthOverRth;o[e=e||"days"].enabled&&(i&&(i=zt.Session.getLimitedPeriods(this._eth.periods,t),i=this._getPeriodData(i),this._priceStatsPeriodsArgs.unshift([i,r,e])),t=zt.Session.getLimitedPeriods(this._rth.periods,t),t=this._getPeriodData(t),this._priceStatsPeriodsArgs.unshift([t,this._settings,e]))},z.prototype._drawPriceStats=function(){for(var t=-1/0,e=0;e<this._priceStatsPeriodsArgs.length;e++)(o=(i=this._priceStatsPeriodsArgs[e])[0])&&(t=Math.max(t,o.poc));for(var i,o,e=0;e<this._priceStatsPeriodsArgs.length;e++)(o=(i=this._priceStatsPeriodsArgs[e])[0])&&(o.pocCorrelation=o.poc/t),this._drawPeriod.apply(this,i);this._priceStatsPeriodsArgs=[],this._needsShift&&this._shift()&&(this._needsShift=!1)},z.prototype._shift=function(){for(var t=this._settings.general.margin,e=this._getSizeInPixels(t),i=this._periodsData.get(this._settings),o=0,r=0;r<i.length;r++)o-=i[r].width+e;var n=this.chart,a=n.dateScale,l=(n.recordCount-n.lastVisibleRecord)*a.columnWidth;return!!(o&&o<l)&&(setTimeout(function(){a.scrollOnPixels(o-l),n.setNeedsUpdate(!0)}),!0)},z.prototype._drawPeriod=function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),t){var o=t.startIndex,r=t.endIndex,n=t.periods,a=t.prices,l=t.profiles,s=t.profilesSum,c=t.poc,h=t.pocProfile,u=t.bidProfilesMap,f=t.askProfilesMap,d=t.high,p=t.low,y=t.vaHigh,m=t.vaLow,_=t.pocCorrelation,C=this._commonVolumeProfilePlotStyles.includes(this.plotStyle),b=C&&this._periods.includes(i);b||this._periods.push(i);var g=C||r>=this._startIndex&&o<=this._endIndex,S=this._periodsData.get(e),v=this._barDrawParams(),w=v.renderer,P=v.projection,k=this.chart,x=k.dataManager,O=k.instrument,E=k.dateScale,D=this.chartPanel.layer.size,I=this._canvasWidth,T=this._settings,M=T.general,F=M.customTickSize,L=M.align,A=M.width,V=M.margin,N=M.sessions,R=T.graphics,t=R.summaryEnabled,z=R.summaryFont,v=T.highlight,j=v.poc,B=v.va,k=e||this._settings,M=k.profile,H=M.type,U=M.color,R=M.widthCorrelation,T=M.extendNakedPocs,X=M.extendNaked,G=M.vaInsideOpacity,v=M.vaOutsideOpacity,e=k.lines,W=e.current,M=e.prev,k=e.dev,e=F.enabled?F.value:1,F=O.tickSize*e,q=this._getSizeInPixels(V),O=C?1:R;null!=_&&(O*=_);var K,Y,Z,J=this.plotStyle!==Kt.PRICE_STATS?v:1,e=x.getDataSeries(zt.DataSeriesSuffix.OPEN).values,V=x.getDataSeries(zt.DataSeriesSuffix.CLOSE).values,R=e[o],_=V[r],v=C?0:E.columnWidth/2,x=P.xByRecord(o)-v,e=P.xByRecord(r)+v,$=P.yByValue(0)-P.yByValue(F),V=P.yByValue(c),E=P.yByValue(y),v=P.yByValue(m);if(C){for(var Q=this._getSizeInPixels(i?N[i].width:A),tt=D.height,et=0,it=0;it<S.length;it++)et+=S[it].width+q;switch(L){case jt.Left:K=et;break;case jt.Right:K=I-et}Y=0}else{var ot=$/2;switch(Q=e-(et=x),tt=P.yByValue(0)-P.yByValue(F*a.length),L){case jt.Left:K=et;break;case jt.Right:K=et+Q}Y=P.yByValue(a[a.length-1])-ot}switch(L){case jt.Left:Z=K+Q;break;case jt.Right:Z=K-Q}ot=Math.min(K,Z),r={startIndex:o,endIndex:r,width:Q,endX:Z,high:d,low:p,close:_,poc:c,pocY:V,vaHighY:E,vaLowY:v};if(g){w.closePath(),w.beginPath(),b||(w.rect(K,Y,Z-K,tt),w.fill({fillColor:"rgba(255, 255, 255, 0.1)"}),w.closePath(),w.beginPath());for(var rt,nt=[],it=0;it<l.length;it++){var at=a[it],lt=l[it],st=u[at],ct=f[at],ht=y!==m&&at<=y&&m<=at?G:J,ut=void 0,ft=j.enabled&&at===c,dt=B.enabled&&(at===y||at===m);if(ft||dt)ut=(ft?j:B).value;else switch(U.type){case Ht.ProfileColor:ut=U.value;break;case Ht.PeakValley:break;case Ht.HeatMap:var pt=100*lt/h,yt=Math.ceil(.05*pt)/.05,mt=yt&&yt-20;ut=mt===yt?qt[mt]:zt.ColorUtil.mixColors(qt[mt],qt[yt],(pt-mt)/(yt-mt));break;case Ht.CustomBlend:ut=zt.ColorUtil.mixColors(Gt,Wt,lt/h);break;case Ht.FpShading:ut=st===ct?Xt:ct<st?ct?zt.ColorUtil.mixColors(Xt,Gt,Math.min(1,st/ct-1)):Gt:st?zt.ColorUtil.mixColors(Xt,Wt,Math.min(1,ct/st-1)):Wt}ut=zt.ColorUtil.hexToRgba(ut,ht),nt.push(ut)}for(var _t,Ct=Q*O,it=0;it<l.length;it++){var at=a[it],lt=l[it],bt=P.yByValue(at),gt=bt-$/2,St=gt+$,vt=H===Bt.SolidBlock?Ct:lt*Ct/h,wt=(ut=nt[it])!==nt[it-1],Pt=ut!==nt[it+1],kt=void 0;switch(L){case jt.Left:kt=K+vt;break;case jt.Right:kt=K-vt}var xt={fillColor:ut},Ot={strokeColor:ut};switch(it||(rt={profileEndX:kt,profileMiddleY:bt,profileY:St}),H){case Bt.HollowBlocks:w.rect(K,gt,vt,$);break;case Bt.Dots:w.line(K,bt,kt,bt),Ot.lineStyle=zt.LineStyle.DOT;break;case Bt.Lines:w.line(K,bt,kt,bt);break;case Bt.Hollowgram:it?(wt&&w.moveTo(rt.profileEndX,St),w.lineTo(kt,St)):w.moveTo(kt,St),w.lineTo(kt,gt);break;case Bt.Solidgram:wt?w.moveTo(kt,rt.profileY):w.lineTo(kt,St),w.lineTo(kt,gt),Pt&&(w.lineTo(K,gt),w.lineTo(K,rt.profileY),w.lineTo(rt.profileEndX,rt.profileY));break;case Bt.FilledLine:wt?w.moveTo(kt,bt):w.lineTo(kt,bt),Pt&&(w.lineTo(K,bt),w.lineTo(K,rt.profileMiddleY),w.lineTo(rt.profileEndX,rt.profileMiddleY));break;case Bt.HollowLine:it?(wt&&w.moveTo(rt.profileEndX,rt.profileMiddleY),w.lineTo(kt,bt)):w.moveTo(kt,bt);break;case Bt.SolidBlock:w.rect(K,gt,vt,$)}Pt&&([Bt.Solidgram,Bt.FilledLine,Bt.SolidBlock].includes(H)?w.fill(xt):w.stroke(Ot),w.closePath(),w.beginPath()),Pt&&(rt={profileEndX:kt,profileMiddleY:bt,profileY:gt})}if(!b&&i){switch(i){case"current":_t="Current";break;case"prev":_t="Previous";break;default:_t=N.days.count+" days"}i={fontFamily:"Open Sans",fontSize:12,fillColor:Xt,fontWeight:"400"};w.textOptions({align:zt.TextAlign.CENTER,baseline:zt.TextBaseline.TOP}),w.fillText(_t,(K+Z)/2,Y+6,i),w.closePath(),w.beginPath()}if(W.poc.enabled&&this._drawLine(V,x,e,W.poc.strokeTheme),W.poc.labelEnabled&&this._labelLines.push({label:"POC",value:c,y:V,color:W.poc.strokeTheme.strokeColor}),W.va.enabled&&this._drawLine([E,v],x,e,W.va.strokeTheme),W.va.labelEnabled&&this._labelLines.push({label:"VA High",value:y,y:E,color:W.va.strokeTheme.strokeColor},{label:"VA Low",value:m,y:v,color:W.va.strokeTheme.strokeColor}),k.poc.enabled&&this._drawDevPoc(n,0,k.poc.strokeTheme),k.va.enabled&&this._drawDevVa(n,0,k.va.strokeTheme),!C){if(T)for(it=0;it<S.length;it++){var Et=S[it];this._drawLine(Et.pocY,Et.endX,this._getIntersectBarX(Et.endIndex,Et.poc),W.poc.strokeTheme)}if(X.enabled)for(it=0;it<S.length;it++){var Et=S[it],Dt=void 0;switch(X.type){case Ut.Closes:Dt=[Et.close];break;case Ut.HighsLows:Dt=[Et.high,Et.low];break;case Ut.ClosesHighsLows:Dt=[Et.close,Et.high,Et.low]}for(var It=[],Tt=0;Tt<Dt.length;Tt++){var Mt=P.yByValue(Dt[Tt]);It.push(Mt)}this._drawLine(It,Et.endX,this._getIntersectBarXs(Et.endIndex,Dt),X.strokeTheme)}if(S.length&&(T=S[S.length-1],M.poc.enabled&&this._drawLine(T.pocY,K,Z,M.poc.strokeTheme),M.va.enabled&&this._drawLine([T.vaHighY,T.vaLowY],K,Z,M.va.strokeTheme)),t){w.textTheme(z),w.textOptions({align:zt.TextAlign.LEFT,baseline:zt.TextBaseline.TOP});for(var Ft=["Vol: "+this._formatNumber(s),"Rng: "+this._formatNumber(d-p),"Ch: "+this._formatNumber(_-R)],Lt=-1/0,it=0;it<Ft.length;it++)var At=Ft[it],Vt=w.textWidth(At),Lt=Math.max(Lt,Vt);if((Lt+=16)<=Q)for(var Nt=ot+8,Rt=Y+tt+8,it=0;it<Ft.length;it++){At=Ft[it];w.fillText(At,Nt,Rt+it*(z.fontSize+4),z)}w.closePath(),w.beginPath()}}S.push(r)}else S.push(r)}},z.prototype._getPeriodData=function(t){if(Array.isArray(t)){if(!t.length)return}else t=[t];var e=zt.Session.getFullPeriod(t),i=e.startIndex,o=e.endIndex;if(!(o<i)){var r=i+"-"+o;if(this._periodsDataCache[r])return this._periodsDataCache[r];for(var n=this._settings.general,a=n.type,l=n.vaCorrelation,s=n.smoothed,c=n.customTickSize,e=this.chart,n=e.dataManager,h=e.instrument,c=c.enabled?c.value:1,u=h.tickSize*c,f=n.getDataSeries(zt.DataSeriesSuffix.HIGH).values,d=n.getDataSeries(zt.DataSeriesSuffix.LOW).values,p=n.getDataSeries(zt.DataSeriesSuffix.DETAILS).values,y={},m={},_={},C=-1/0,b=1/0,g=0;g<t.length;g++)for(var S=t[g],v=S.startIndex,w=S.endIndex,P=v;P<=w;P++){var k=p[P],x=f[P],O=d[P],C=Math.max(C,x),b=Math.min(b,O);if(this._isValidDetails(k))for(var E=0;E<k.length;E++){var D=k[E],I=D.bidInfo,T=D.askInfo,M=D.volume,F=D.tradesCount,L=D.price,A=void 0,V=void 0,N=void 0;switch(a){case ot.Volume:A=M,V=I.volume,N=T.volume;break;case ot.TradesCount:A=F,V=I.tradesCount,N=T.tradesCount;break;case ot.Price:A=L,V=I.price,N=T.price}y[L]=(y[L]||0)+A,m[L]=(m[L]||0)+V,_[L]=(_[L]||0)+N}else if(a===ot.Price)for(L=O;L<=x;L+=h.tickSize)y[L]=(y[L]||0)+L,m[L]=0,_[L]=0}for(var R=Object.entries(y).sort(function(t,e){return+t[0]-+e[0]}),z=Object.entries(m).sort(function(t,e){return+t[0]-+e[0]}),j=Object.entries(_).sort(function(t,e){return+t[0]-+e[0]}),B=[],H=[],U=[],g=0;g<R.length;g++){A=R[g][1],V=z[g][1],N=j[g][1];B.push(A),H.push(V),U.push(N)}s.enabled&&1<s.value&&(B=this._getSmoothedValues(B,s.value),H=this._getSmoothedValues(H,s.value),U=this._getSmoothedValues(U,s.value));for(g=0;g<R.length;g++)y[L=R[g][0]]=B[g],m[L]=H[g],_[L]=U[g];for(var X=0,G=-1/0,W=h.tickSize*Math.floor(c/2),q=C+W-(C-b)%u,L=b+W;L<=q;L+=u){null==y[L]&&(y[L]=0),null==m[L]&&(m[L]=0),null==_[L]&&(_[L]=0);for(var K=L-W;K<=L+W;K+=h.tickSize)K!==L&&(null!=y[K]&&(y[L]+=y[K],delete y[K]),null!=m[K]&&(m[L]+=m[K],delete m[K]),null!=_[K]&&(_[L]+=_[K],delete _[K]));X+=A=y[L],G=Math.max(G,A)}for(var Y=Object.entries(y).sort(function(t,e){return+t[0]-+e[0]}),Z=[],J=[],g=0;g<Y.length;g++){var $=Y[g],L=$[0],A=$[1];Z.push(+L),J.push(A)}for(var s=J.findIndex(function(t){return t===G}),c=Z[s],Q=X*l,tt=s,et=s,it=G;it<Q;)tt<J.length-1&&(it+=J[++tt]),0<et&&(it+=J[--et]);l=Z[tt],s=Z[et],s={startIndex:i,endIndex:o,periods:t,prices:Z,profiles:J,profilesSum:X,poc:c,pocProfile:G,bidProfilesMap:m,askProfilesMap:_,high:C,low:b,vaHigh:l,vaLow:s};return this._periodsDataCache[r]=s}},z.prototype._getIntersectBarX=function(t,e){for(var i=this.projection,o=this.chart.dataManager,r=o.getDataSeries(zt.DataSeriesSuffix.HIGH).values,n=o.getDataSeries(zt.DataSeriesSuffix.LOW).values,a=t+1;a<r.length;a++)if(r[a]>=e&&e>=n[a])return i.xByRecord(a);return this.chartPanel.layer.size.width},z.prototype._getIntersectBarXs=function(t,e){for(var i=[],o=0;o<e.length;o++){var r=this._getIntersectBarX(t,e[o]);i.push(r)}return i},z.prototype._getSmoothedValues=function(t,e){for(var i=[],o=(e-1)/2,r=0;r<t.length;r++){for(var n=t[r],a=1,l=1;l<=o;l++){var s=r-l,c=r+l;0<=s&&(n+=t[s],a++),c<t.length&&(n+=t[c],a++)}i.push(n/a)}return i},z.prototype._drawDevPoc=function(t,e,i){this._drawDevLine("pocY",t,e=void 0===e?0:e,i=void 0===i?null:i)},z.prototype._drawDevVa=function(t,e,i){this._drawDevLine(["vaHighY","vaLowY"],t,e=void 0===e?0:e,i=void 0===i?null:i)},z.prototype._drawDevLine=function(t,e,i,o){void 0===i&&(i=0),void 0===o&&(o=null),Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]);for(var r=this.renderer,n=this.projection,a=zt.Session.getFullPeriod(e),l=a.startIndex,s=[],c=[],h=a.endIndex;l<=h;){var u=zt.Session.getLimitedPeriods(e,{startIndex:l,endIndex:h}),f=this._getPeriodData(u),d=n.xByRecord(h)+i;s.push(f),c.push(d),h--}for(var p=0;p<t.length;p++)for(var y=t[p],m=void 0,_=0;_<s.length;_++){var f=s[_],d=c[_],C=f[y];_?(C!==m&&r.lineTo(d,m),r.lineTo(d,C)):r.moveTo(d,C),m=C}r.stroke(o||this._strokeTheme),r.closePath(),r.beginPath()},z.prototype._formatNumber=function(t){for(var e in o){var i=t/o[e];if(1<=i&&i<1e3)return i.toFixed(2)+e}return t.toFixed(2)},z.Style=Kt,z.defaults={plotStyle:Kt.DEFAULT},z);function z(t){var e=r.call(this,t)||this;return e._strokeTheme={width:1,strokeColor:i,lineStyle:zt.LineStyle.SOLID},e._sessionSettings={profile:{type:Bt.Solidgram,color:{type:Ht.ProfileColor,value:"#A0A0A0"},widthCorrelation:.5,extendNakedPocs:!1,extendNaked:{enabled:!1,type:Ut.ClosesHighsLows,strokeTheme:e._strokeTheme},vaInsideOpacity:1,vaOutsideOpacity:.5},lines:{current:{poc:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:zt.LineStyle.SOLID},labelEnabled:!1},va:{enabled:!0,strokeTheme:{width:1,strokeColor:"red",lineStyle:zt.LineStyle.SOLID},labelEnabled:!1}},prev:{poc:{enabled:!1,strokeTheme:{width:1,strokeColor:"green",lineStyle:zt.LineStyle.SOLID}},va:{enabled:!1,strokeTheme:{width:1,strokeColor:"red",lineStyle:zt.LineStyle.SOLID}}},dev:{poc:{enabled:!1,strokeTheme:{width:1,strokeColor:"green",lineStyle:zt.LineStyle.SOLID}},va:{enabled:!1,strokeTheme:{width:1,strokeColor:"red",lineStyle:zt.LineStyle.SOLID}}}},workingTimes:[]},e._settings=__assign({general:{type:ot.Price,period:{type:V.Every,value:2,unit:zt.SessionPeriodUnit.Week,date:null},hide:{enabled:!1,value:R.LastProfile},vaCorrelation:.7,smoothed:{enabled:!1,value:9},customTickSize:{enabled:!1,value:5},calculateXProfiles:999,align:jt.Right,width:{value:70,unit:zt.IndicatorSizeUnit.Pixel},margin:{value:4,unit:zt.IndicatorSizeUnit.Pixel},sessions:{current:{enabled:!0,width:{value:70,unit:zt.IndicatorSizeUnit.Pixel}},prev:{enabled:!0,width:{value:70,unit:zt.IndicatorSizeUnit.Pixel}},days:{enabled:!0,count:10,includeCurrentSession:!1,width:{value:70,unit:zt.IndicatorSizeUnit.Pixel}}}},graphics:{summaryEnabled:!0,summaryFont:{fontFamily:"Open Sans",fontSize:12,fillColor:i,fontWeight:"400"}}},zt.JsUtil.clone(e._sessionSettings),{eth:zt.JsUtil.merge(e._sessionSettings,{profile:{color:{value:i}}}),splitProfile:!1,overlayEthOverRth:!1,highlight:{poc:{enabled:!0,value:i},va:{enabled:!0,value:i}}}),e._periodsData=new Map,e._periods=[],e._periodsDataCache={},e._customPeriods=[],e._priceStatsPeriodsArgs=[],e._commonVolumeProfilePlotStyles=[Kt.COMPOSITE,Kt.PRICE_STATS],e._needsShift=!1,e._plotThemeKey="volumeProfile",setTimeout(function(){e.settings={workingTimes:[{startDay:0,startTime:0,endDay:0,endTime:86399e3},{startDay:1,startTime:0,endDay:1,endTime:86399e3},{startDay:2,startTime:0,endDay:2,endTime:86399e3},{startDay:3,startTime:0,endDay:3,endTime:86399e3},{startDay:4,startTime:0,endDay:4,endTime:86399e3},{startDay:5,startTime:0,endDay:5,endTime:86399e3},{startDay:6,startTime:0,endDay:6,endTime:86399e3}],eth:{workingTimes:[{startDay:0,startTime:0,endDay:0,endTime:86399e3},{startDay:1,startTime:0,endDay:1,endTime:86399e3},{startDay:2,startTime:0,endDay:2,endTime:86399e3},{startDay:3,startTime:0,endDay:3,endTime:86399e3},{startDay:4,startTime:0,endDay:4,endTime:86399e3},{startDay:5,startTime:0,endDay:5,endTime:86399e3},{startDay:6,startTime:0,endDay:6,endTime:86399e3}]}},e.chart.setNeedsUpdate()},1e3),e}zt.VolumeProfilePlot=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};!function(i){"use strict";var e;(t=e=i.SessionStatsStyle||(i.SessionStatsStyle={})).Line="line",t.Block="block";var r,t=(r=i.AdvancedPlot,__extends(o,r),o.prototype._onChartPanelChanged=function(t){var e=this.chart.dataManager;this._opens=e.getDataSeries(i.DataSeriesSuffix.OPEN).values,this._highs=e.getDataSeries(i.DataSeriesSuffix.HIGH).values,this._lows=e.getDataSeries(i.DataSeriesSuffix.LOW).values,this._closes=e.getDataSeries(i.DataSeriesSuffix.CLOSE).values,r.prototype._onChartPanelChanged.call(this,t)},o.prototype._handleSettings=function(t){t=t.workingTimes;this._rth.setWorkingTimes(t.rth),this._eth.setWorkingTimes(t.eth),this._setLinesData()},o.prototype._setLinesData=function(){for(var t in this._linesData){var e;this._linesData.hasOwnProperty(t)&&(t=(e=this._linesData[t]).getPeriod(),e.period=t,e.value=t&&e.getValue(t))}},o.prototype.draw=function(){if(this.visible){var t=this._barDrawParams(),e=t.renderer,i=t.projection;if(0!==t.dates.length){var o,r,n,a,l,s,c,h,t=this._settings,u=t.general.width,f=t.lines;for(o in this._labelLines=[],e.beginPath(),f)f.hasOwnProperty(o)&&(r=f[o],n=(l=this._linesData[o]).period,a=l.value,h=l.getValue,r.enabled&&n&&null!=a&&a!==1/0&&a!==-1/0&&(s=n.startIndex,c=n.endIndex,l=i.xByRecord(s),s=i.xByRecord(c),c=i.yByValue(a),this._drawLine(c,l,s,r.strokeTheme),r.devEnabled&&this._drawDevLine(n,h,r.strokeTheme),r.labelEnabled&&(h=this._getSizeInPixels(u),this._labelLines.push({label:r.label,value:a,y:c,color:r.strokeTheme.strokeColor,width:h}))));this._drawLabelLines()}}},o.prototype._drawDevLine=function(t,e,i){for(var o,r=this.renderer,n=this.projection,a=t.startIndex,l=t.endIndex,s=l;a<=s;){var c=e({startIndex:a,endIndex:s}),h=n.xByRecord(s),c=n.yByValue(c);s===l?r.moveTo(h,c):(c!==o&&r.lineTo(h,o),r.lineTo(h,c)),o=c,--s}r.stroke(__assign({},i,{strokeColor:"red"})),r.closePath(),r.beginPath()},o);function o(t){var o=r.call(this,t)||this;return o._settings={general:{style:e.Line,width:{value:200,unit:i.IndicatorSizeUnit.Pixel},margin:{value:10,unit:i.IndicatorSizeUnit.Pixel}},font:{fontFamily:"Open Sans",fontSize:12,fillColor:"#33BBFF",fontWeight:"400"},workingTimes:{rth:[],eth:[]},lines:{rthHigh:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"RTH High"},rthLow:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"RTH Low"},ethHigh:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"ETH High"},ethLow:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"ETH Low"},ibHigh:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"IB High"},ibLow:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"IB Low"},prevRthHigh:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!0,labelEnabled:!0,label:"Prev RTH High"},prevRthLow:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"Prev RTH Low"},rthMid:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"RTH Mid"},ethMid:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"ETH Mid"},rthSettle:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"RTH Settle"},rthOpen:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"RTH Open"},prevWkHigh:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"Prev WK High"},prevWkLow:{enabled:!0,strokeTheme:{width:1,strokeColor:"green",lineStyle:i.LineStyle.SOLID},devEnabled:!1,labelEnabled:!0,label:"Prev WK Low"}}},o._getHigh=function(t){for(var e=-1/0,i=t.startIndex;i<=t.endIndex;i++)e=Math.max(e,o._highs[i]);return e},o._getLow=function(t){for(var e=1/0,i=t.startIndex;i<=t.endIndex;i++)e=Math.min(e,o._lows[i]);return e},o._getMid=function(t){return(o._getHigh(t)+o._getLow(t))/2},o._linesData={rthHigh:{getPeriod:function(){return o._rth.getPeriod()},getValue:o._getHigh},rthLow:{getPeriod:function(){return o._rth.getPeriod()},getValue:o._getLow},ethHigh:{getPeriod:function(){return o._eth.getPeriod()},getValue:o._getHigh},ethLow:{getPeriod:function(){return o._eth.getPeriod()},getValue:o._getLow},ibHigh:{getPeriod:function(){},getValue:function(t){}},ibLow:{getPeriod:function(){},getValue:function(t){}},prevRthHigh:{getPeriod:function(){return o._rth.getPeriod(1)},getValue:o._getHigh},prevRthLow:{getPeriod:function(){return o._rth.getPeriod(1)},getValue:o._getLow},rthMid:{getPeriod:function(){return o._rth.getPeriod()},getValue:o._getMid},ethMid:{getPeriod:function(){return o._eth.getPeriod()},getValue:o._getMid},rthSettle:{getPeriod:function(){return o._rth.getPeriod(1)},getValue:function(t){return o._closes[t.endIndex]}},rthOpen:{getPeriod:function(){return o._rth.getPeriod()},getValue:function(t){return o._opens[t.startIndex]}},prevWkHigh:{getPeriod:function(){return i.Session.getPeriod(o._dates,i.SessionPeriodUnit.Week,1)},getValue:o._getHigh},prevWkLow:{getPeriod:function(){return i.Session.getPeriod(o._dates,i.SessionPeriodUnit.Week,1)},getValue:o._getLow}},o._plotThemeKey="sessionStats",o}i.SessionStatsPlot=t}(StockChartX=StockChartX||{}),function(t){"use strict";var r,f,e=t.TableStyle||(t.TableStyle={});e.BAR_STATS="barStatus",(i=r=r||{}).LEFT="left",i.CENTER="center",i.RIGHT="right",(i=f=f||{}).WHITE="white",i.RED="red",i.GREY="grey",i.BLACK="black",(i=t.TableType||(t.TableType={})).TITLE="title",i.BARS="bars";var i=(o.prototype.draw=function(t,e,i,o,r){this._height=r/3,this._drawBars(t,e,o,r),this._drawTitle(i,t,o,r)},o.prototype._drawTitle=function(t,e,i,o){this._height=o/3;o=e.projection,e=e.renderer;this._drawColumn(t,i,o,e)},o.prototype._drawBars=function(t,e,i,o){var r=e.length;if(r){var n=t.projection,a=t.renderer,l=0<t.startIndex?t.startIndex-1:0;a.textTheme({fontFamily:this._fontFamily,fontSize:this._fontSize,fontStyle:this._fontStyle,fillColor:f.BLACK});for(var s=0,c=0;c<r;c++){var h=e[c],u=t.endIndex<e[c].length?t.endIndex+1:e[c].length;this._drawRow(h,i,s,l,u,n,a),s+=this._height}}},o.prototype._drawRow=function(t,e,i,o,r,n,a){for(var l=o;l<r;l++){var s=n.xByRecord(l);this._drawСell(t[l],s,i,e,a)}},o.prototype._drawColumn=function(t,e,i,o,r){var n=e/2;r&&(n=i.xByRecord(r));for(var a=this._height,l=0,s=0;s<t.length;s++)this._drawСell(t[s],n,l,e,o),l+=a},o.prototype._drawСell=function(t,e,i,o,r){r.beginPath(),e-=o/2;var n=this._height;"number"==typeof t?l=this._getCellFillColor(t):"string"==typeof t&&(l=f.WHITE),r.rect(e,i,o,n),r.fill({fillColor:l});var a=r.textWidth(t.toString()),l=this._marginText;o<a+2*l||(r.beginPath(),n=i+n/2+this._fontSize/2,l=this._getXByTextAlign(e,o,a,l),r.fillText(t.toString(),l,n,{fontFamily:this._fontFamily,fontSize:this._fontSize,fontStyle:this._fontStyle,fillColor:f.BLACK}))},o.prototype._getCellFillColor=function(t){if(this._style===e.BAR_STATS)return t<0?f.RED:0<t?f.GREY:f.WHITE},o.prototype._getXByTextAlign=function(t,e,i,o){switch(this._textAlign){case r.RIGHT:return t+e-i-o;case r.CENTER:return t+e/2-i/2;case r.LEFT:return t+o}},o);function o(){this._style=e.BAR_STATS,this._fontSize=15,this._fontStyle="normal",this._fontFamily="Arial",this._textAlign=r.CENTER,this._marginText=20,this._height=30}t.Table=i}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__awaiter=this&&this.__awaiter||function(n,a,l,s){return new(l=l||Promise)(function(t,e){function i(t){try{r(s.next(t))}catch(t){e(t)}}function o(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new l(function(t){t(e.value)}).then(i,o)}r((s=s.apply(n,a||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(n,e[1])).done)return a;switch(n=0,(e=a?[0,a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,n=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],n=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};!function(p){"use strict";var i=jQuery;p.ZIndexVolume=29,p.IndicatorDataSeries={OPEN:"Open",HIGH:"High",LOW:"Low",CLOSE:"Close",VOLUME:"Volume",DETAILS:"Details",MEDIAN:"Median",TYPICAL:"Typical",WEIGHTED:"Weighted"},Object.freeze(p.IndicatorDataSeries),p.IndicatorParam={SOURCE:"Source",SOURCE2:"Source2",PERIODS:"Periods",R2_SCALE:"R2 Scale",STANDARD_DEVIATIONS:"Standard Deviations",MA_PERIOD:"Moving Average Period",SMOOTH:"Smooth",MA_TYPE:"Moving Average Type",SHIFT:"Shift",BAND_PCT:"Band PCT",PCT_K_PERIODS:"%K Periods",PCT_K_SMOOTHING:"%K Smoothing",PCT_K_DOUBLE_SMOOTHING:"%K Double Smoothing",PCT_D_PERIODS:"%D Periods",PCT_D_MA_TYPE:"%D Moving Average Type",RATE_OF_CHANGE:"Rate of Change",SHORT_CYCLE:"Short Cycle",LONG_CYCLE:"Long Cycle",SIGNAL_PERIODS:"Signal Periods",LINE_WIDTH:"Line Width",LINE_STYLE:"Line Style",LINE_COLOR:"Line Color",LINE_ENABLED:"Line Enabled",LINE2_WIDTH:"Line 2 Width",LINE2_STYLE:"Line 2 Style",LINE2_COLOR:"Line 2 Color",LINE2_ENABLED:"Line 2 Enabled",LINE3_WIDTH:"Line 3 Width",LINE3_STYLE:"Line 3 Style",LINE3_ENABLED:"Line 3 Enabled",LINE3_COLOR:"Line 3 Color",LINE4_WIDTH:"Line 4 Width",LINE4_STYLE:"Line 4 Style",LINE4_COLOR:"Line 4 Color",LINE4_ENABLED:"Line 5 Enabled",LINE5_WIDTH:"Line 5 Width",LINE5_STYLE:"Line 5 Style",LINE5_COLOR:"Line 5 Color",LINE5_ENABLED:"Line 6 Enabled",LABEL_COLOR:"Label Color",LABEL_ENABLED:"Label Enabled",LABEL2_COLOR:"Label 2 Color",LABEL2_ENABLED:"Label 2 Enabled",LABEL3_COLOR:"Label 3 Color",LABEL3_ENABLED:"Label 3 Enabled",LABEL4_COLOR:"Label 4 Color",LABEL4_ENABLED:"Label 4 Enabled",FILL_ABOVE:"Fill Above",FILL_BELOW:"Fill Below",FILL_ENABLED:"Fill Enabled",FAST:"Fast",SLOW:"Slow",VOLUME_DIVISOR:"Volume Divisor",OFFSET_MULTIPLIER:"Offset Multiplier",ENVELOPE_PERCENTAGE:"Envelope Percentage",BAR_COUNT:"Bar Count",Q_PERIODS:"%Q Periods",T_COUNT:"Count",V_FACTOR:"Factor",FORECAST:"Forecast",INTERMEDIATE:"Intermediate",VOLATILITY_PERIOD:"Volatility Period",BARS_REQUIRED_TO_PLOT:"Bars Required To Plot",EMA1:"ema1",EMA2:"ema2",CONVERSION_PERIODS:"Conversion Line Periods",BASE_PERIODS:"Base Line Periods",LOGIN_SPAN2_PERIODS:"Logging Span2 Periods",DISPLACEMENT:"Displacement",LIMIT_VALUE:"Limit Value"},Object.freeze(p.IndicatorParam),p.IchimokuDataSeriesNames={Tenka:"Tenkan Sen",Kijun:"Kijun Sen",Chikou:"Chikou Span",SenkouA:"Senkou Span A",SenkouB:"Senkou Span B"},Object.freeze(p.IchimokuDataSeriesNames);var l="scxPanelTitleCaption",s="scxPanelTitleIcon",c="scxIndicatorRemoveIcon",h="scxPanelTitleValue",e="scxIndicatorCollapseHide",o="scxIndicatorCollapseShow",u="scxIndicatorTitle";p.AutoScaleMultiplierValue=5;var t=(Object.defineProperty(r,"registeredIndicators",{get:function(){return this._indicators.registeredItems},enumerable:!0,configurable:!0}),r.register=function(t){this._indicators.register(t.className,t)},r.deserialize=function(t){if(!t)return null;var e="string"==typeof t?JSON.parse(t):t,e=this._indicators.createInstance(e.className);return e.loadState(t),e},r._indicators=new p.ClassRegistrar,r);function r(){}var n,a=(n=p.IndicatorBase,__extends(f,n),Object.defineProperty(f,"className",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"chart",{get:function(){return this._chart},set:function(t){if(t&&!(t instanceof p.Chart))throw new TypeError("Chart must be an instance of StockChartX.Chart.");this._removeControls(),(this._chart=t)&&this._options.valueScaleIndex&&(this.valueScale=this._chart.valueScales[this._options.valueScaleIndex]),this._onChartChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"chartPanel",{get:function(){return this._panel},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"valueScale",{get:function(){return this._valueScale},set:function(t){if(t&&!(t instanceof p.ValueScale))throw new TypeError("Value scale must be an instance of StockChartX.ValueScale.");this._valueScale=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isOverlay",{get:function(){return this._isOverlay},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"panelHeightRatio",{get:function(){return this._options.panelHeightRatio},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"className",{get:function(){return this.constructor.className},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showValueMarkers",{get:function(){return this._options.showValueMarkers},set:function(t){this._options.showValueMarkers!==(t=!!t)&&(this._options.showValueMarkers=t,this.updateTitleControlsVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"coloredVolumeTheme",{get:function(){return this._options.coloredVolumeTheme},set:function(t){this._options.coloredVolumeTheme=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showValuesInTitle",{get:function(){return this._options.showValuesInTitle},set:function(t){this._options.showValuesInTitle!==(t=!!t)&&(this._options.showValuesInTitle=t,this.updateTitleControlsVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"allowContextMenu",{get:function(){return this._options.allowContextMenu},set:function(t){this._options.allowContextMenu!==(t=!!t)&&(this._options.allowContextMenu=t,this.updateTitleControlsVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showParamsInTitle",{get:function(){return this._options.showParamsInTitle},set:function(t){this._options.showParamsInTitle!==(t=!!t)&&(this._options.showParamsInTitle=t,this.updateTitleControlsVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showTitle",{get:function(){return this._options.showTitle},set:function(t){this._options.showTitle!==t&&(this._options.showTitle=t,this.updateTitleControlsVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showLineLevels",{get:function(){return this._options.showLineLevels},set:function(t){this._options.showLineLevels=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"allowSettingsDialog",{get:function(){return this._options.allowSettingsDialog},set:function(t){this._options.allowSettingsDialog!==(t=!!t)&&(this._options.allowSettingsDialog=t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"parameters",{get:function(){return this._options.parameters},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"fieldNames",{get:function(){return this._dataSeriesNames},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"plots",{get:function(){for(var t=[],e=0,i=this._plotItems;e<i.length;e++){var o=i[e];t.push(o.plot)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"linePlots",{get:function(){for(var t=[],e=0,i=this._plots;e<i.length;e++){var o=i[e];"label"!==o.plotThemeKey&&t.push(o)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"labelPlots",{get:function(){for(var t=[],e=0,i=this._plots;e<i.length;e++){var o=i[e];"label"===o.plotThemeKey&&t.push(o)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"visible",{get:function(){return this._options.visible},set:function(t){this._options.visible=t=!!t;for(var e=0,i=this._plotItems.length;e<i;e++){var o=this._plotItems[e].plot;o&&(o.visible=t)}},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"zIndex",{get:function(){return this._options.zIndex},set:function(t){this._options.zIndex=t;for(var e=0,i=this.plots;e<i.length;e++)i[e].zIndex=this._options.zIndex},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"canMergeUp",{get:function(){return 0<this._panel.getIndex()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"canMergeDown",{get:function(){return this._panel.getIndex()<this.chart.chartPanels.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"canUnmergeUp",{get:function(){return 1<this._panel.indicators.length&&this._panel!==this.chart.mainPanel},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"canUnmergeDown",{get:function(){return 1<this._panel.indicators.length||this._panel===this.chart.mainPanel},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isInitialized",{get:function(){return 0<this._plotItems.length},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"values",{get:function(){return this.updateIndicator(),this._values},set:function(t){this._values=t},enumerable:!0,configurable:!0}),f.prototype.getPlotName=function(t){return""},f.prototype.getPlots=function(){return this._plotItems.map(function(t){return t.plot})},f.prototype.serialize=function(){var t=this._panel;t&&(this._options.panelHeightRatio=t.heightRatio),this.valueScale?this._options.valueScaleIndex=this.valueScale.index:delete this._options.valueScaleIndex;var e=i.extend(!0,{},this._options);return t&&(e.panelIndex=t.getIndex()),e.className=this.className,e._prevParams=this._options.parameters,e.zIndex=this.zIndex,this.removeLineLevels(),e},f.prototype._initPanel=function(){var t;this.className===p.VOL.className||this.className===p.VolumeUpDown.className||this.className===p.ADL.className||this.className===p.VOLMA.className||this.className===p.VolumeOscillator.className||this.className===p.OBV.className||this.className===p.ChaikinOscillator.className?((t=this._panel.valueScale.formatter)instanceof p.IntlNumberFormat&&t.setDecimalDigits(0),this._panel.valueScale.calibrator.divider=1e6,this._panel.valueScale.calibrator.suffix="M"):((t=this._panel.valueScale.formatter)instanceof p.IntlNumberFormat&&t.setDecimalDigits(3),this._panel.valueScale.calibrator.divider=null,this._panel.valueScale.calibrator.suffix=null)},f.prototype._updatePlotItem=function(t){return!1},f.prototype._needsCustomScale=function(){return this.className===p.VOL.className||this.className===p.VolumeUpDown.className},f.prototype.clearDataSeries=function(t){},f.prototype.update=function(t){if(void 0===t&&(t=!1),this._resetValues(),this.setDefaultSettings(),this.chart){this.setupIndicator();for(var e=this.chart.recordCount,i=0,o=this._values.dataSeriesArray;i<o.length;i++){var r=o[i];r.initialize(e+1,r.name)}for(var n=0;n<=e+1;n++)this.updateIndicator();if(this._panel||this._addPanel(),1!==this._panel.state||this._panel.visible){this._initPanelTitle(t);for(var a=0,l=this._plotItems;a<l.length;a++){var s=l[a];this._panel.removePlot(s.plot)}if(0!==this._plotItems.length){for(n=0;n<this._plotItems.length;n++){var c,h=this._plotItems[n];this._updatePlotItem(n)||(c=this._values.get(n).toDataSeries(0),c=this._ichimokuSeries(c),c=this._dataSeriesPeriod(c),h.plot=this._plots[n],h.plot.dataSeries=c,h.dataSeries=c,h.plot.showValueMarkers=this.showValueMarkers,c=void 0,c=h.plot.plotStyle===p.HistogramPlot.Style.COLUMN?this._getHistogramTheme(n):this._getTheme(h.plot,n),h.plot.theme=c,h.color=this._getColor(h.plot)),h.plot.visible=this._getVisible(h.plot),h.plot.valueScale=this._valueScale,this.zIndex&&(h.plot.zIndex=this.zIndex)}this._needsCustomScale&&this._setAutoScaleMultiplier(this.valueScale);for(var u=0,f=this._plotItems;u<f.length;u++){var s=f[u],d=this._getColor(s.plot);this._addPanelPlot(s.plot,d),s.plot.update()}this._fillPlot&&this._drawFillPlot(),this.updateHoverRecord(),this._updatePanelTitle(),this.removeLineLevels(),this.showLineLevels&&this._panel.addDrawings(this._lineLevels)}}}},f.prototype._ichimokuSeries=function(t){var e=t;return this.className===p.Ichimoku.className&&(t.name===p.IchimokuDataSeriesNames.Chikou&&(e=this.shiftInToThePast(t,this.displacement)),t.name!==p.IchimokuDataSeriesNames.SenkouA&&t.name!==p.IchimokuDataSeriesNames.SenkouB||(e=this.shiftInToTheFuture(t,this.displacement))),e},f.prototype._getTheme=function(t,e){return"label"===t.plotThemeKey?this._getLabelTheme(e):this._lineTheme(e)},f.prototype._getColor=function(t){t=t.theme;return t.strokeColor||t.fill.fillColor},f.prototype._getVisible=function(t){return this.visible},f.prototype._resetValues=function(){this.currentBar=0},f.prototype.setDefaultSettings=function(){if(this._isInitialized=!1,this._needsDefaults&&(this.values=new p.DataSeriesCollection,this.setDefaults(),this._needsDefaults=!1),this._prevParams)for(var t in this._prevParams)this._prevParams.hasOwnProperty(t)&&this.setParameterValue(t,this._prevParams[t]);this.multiBars=new p.MultiBars(this),this.multiBars=this.multiBars,this._prevParams={}},f.prototype.addPlot=function(t,e,i,o,r){var n=this;if(this.chart){var a,l=new p.TADataSeries(e,this),s=this._plots.length,c=this._addLineParameters(this._plots.length,t,o,r),h=i?(a=this._getHistogramTheme(s),new p.HistogramPlot({dataSeries:l,plotStyle:i,theme:a,columnWidthRatio:o})):(a=this._lineTheme(s),this.linePlot(a,l));return this._plots.push(h),this.values.add(l),function(){c(),n._removePlot(h),n.values.remove(e)}}},f.prototype.addBarPlot=function(){var t=this;if(this.chart){var e=new p.BarPlot({indicator:this});return this._plots.push(e),function(){t._removePlot(e)}}},f.prototype.addLabelPlot=function(t,e){var i=this;if(this.chart){var o=this._addLineParameters(this._plots.length,null,null,null),r=new p.TADataSeries(t,this),n=new p.LabelPlot(__assign({dataSeries:r},e));return this._plots.push(n),this.values.add(r),function(){o(),i._removePlot(n),i.values.remove(t)}}},f.prototype.addFillPlot=function(t,e,i,o){var r;this.chart&&(r=void 0,t=new p.TADataSeries(t,this),e=new p.TADataSeries(e,this),this._addFillParameters(i,o),r=this._fillTheme(),this._fillPlot=this.fillPlot(r,t,e))},f.prototype.addLine=function(t,e){t=new p.HorizontalLineDrawing({point:{record:0,value:e},theme:{line:{strokeColor:t,width:1}},locked:!0});t.selectable=!1,t.removable=!1,this._lineLevels.push(t)},f.prototype._removePlot=function(e){this._panel.removePlot(e),this._plots=this._plots.filter(function(t){return t!==e}),this._plotItems=this._plotItems.filter(function(t){return t.plot!==e})},f.prototype._fillTheme=function(){return{belowCross:{fillColor:this.getParameterValue(p.IndicatorParam.FILL_BELOW)},aboveCross:{fillColor:this.getParameterValue(p.IndicatorParam.FILL_ABOVE)}}},f.prototype._getHistogramTheme=function(t){var e,i,o,r;switch(t){case 0:e=p.IndicatorParam.LINE_COLOR,i=p.IndicatorParam.LINE_ENABLED,o=this.getParameterValue(e)||this.chart.theme.plot.indicator.line1.strokeColor,r=null==this.getParameterValue(i)||this.getParameterValue(i);break;case 1:e=p.IndicatorParam.LINE2_COLOR,i=p.IndicatorParam.LINE2_ENABLED,o=this.getParameterValue(e)||this.chart.theme.plot.indicator.line3.strokeColor,r=null==this.getParameterValue(i)||this.getParameterValue(i);break;case 2:e=p.IndicatorParam.LINE3_COLOR,i=p.IndicatorParam.LINE3_ENABLED,o=this.getParameterValue(e)||this.chart.theme.plot.indicator.line2.strokeColor,r=null==this.getParameterValue(i)||this.getParameterValue(i);break;default:return null}return{line:{strokeEnabled:!1},fill:{fillEnabled:r,fillColor:this.chart.theme.chart.background.some(p.HtmlUtil.isDarkColor)||"white"!==o?o:"grey"}}},f.prototype._getLabelTheme=function(t){var e,i,o,r;switch(t){case 0:e=p.IndicatorParam.LABEL_COLOR,i=p.IndicatorParam.LABEL_ENABLED,o=this.getParameterValue(e)||this.chart.theme.plot.indicator.line1.strokeColor,r=null==this.getParameterValue(i)||this.getParameterValue(i);break;case 1:e=p.IndicatorParam.LABEL2_COLOR,i=p.IndicatorParam.LABEL2_ENABLED,o=this.getParameterValue(e)||this.chart.theme.plot.indicator.line2.strokeColor,r=null==this.getParameterValue(i)||this.getParameterValue(i);break;case 2:e=p.IndicatorParam.LABEL3_COLOR,i=p.IndicatorParam.LABEL3_ENABLED,o=this.getParameterValue(e)||this.chart.theme.plot.indicator.line3.strokeColor,r=null==this.getParameterValue(i)||this.getParameterValue(i);break;case 3:e=p.IndicatorParam.LABEL4_COLOR,i=p.IndicatorParam.LABEL4_ENABLED,o=this.getParameterValue(e)||this.chart.theme.plot.indicator.line4.strokeColor,r=null==this.getParameterValue(i)||this.getParameterValue(i);break;default:return null}return{fill:{fillEnabled:r,fillColor:o}}},f.prototype._addPanel=function(){if(!this._panel)if(this._isOverlay)this._panel=this._chart.mainPanel;else{try{this._panel=this._chart.addChartPanel(this._chart.chartPanels.length,this.panelHeightRatio,!0)}catch(t){return this._chart.removeIndicators(this),void this._chart.setNeedsUpdate()}this._initPanel(),this._chart.layout(),this._panel.setNeedsAutoScale()}},f.prototype.linePlot=function(t,e){return new p.LinePlot({dataSeries:e,theme:t})},f.prototype.fillPlot=function(t,e,i){return new p.FillPlot({dataSeries:[e,i],theme:t})},f.prototype.draw=function(){},f.prototype._drawFillPlot=function(){var t=this.values.get(p.IchimokuDataSeriesNames.SenkouA),e=this.values.get(p.IchimokuDataSeriesNames.SenkouB),t=t.toDataSeries(0),e=e.toDataSeries(0),t=this._ichimokuSeries(t),e=this._ichimokuSeries(e);this._fillPlot.dataSeries=[t,e],this._fillPlot.theme=this._fillTheme(),this.visible?this._fillPlot.visible=this.getParameterValue(p.IndicatorParam.FILL_ENABLED):this._fillPlot.visible=!1,this._panel.addPlot(this._fillPlot)},f.prototype._removeControls=function(){this._titleControls&&(this._unSubscribeEvents(),this._titleControls.rootDiv.remove(),this._titleControls=null)},f.prototype._onChartChanged=function(){},f.prototype.destroy=function(){var t=this.chart,e=this._panel;e&&e!==t.mainPanel&&0<e.indicators.length&&e.indicators[0]._initPanel(),this._titleContextMenu&&this._titleContextMenu.destroy(),this._parametersContextMenu&&this._parametersContextMenu.destroy(),this._fillPlot&&e.removePlot(this._fillPlot),this._removeControls(),this.chart=null,this._panel=null},f.prototype.getInfoAbout=function(){return""},f.prototype.showInfoDialog=function(){var e=this;p.UI.ViewLoader.indicatorInfoDialog(function(t){t.show({chart:e.chart,indicator:e})})},f.prototype.showSettingsDialog=function(){var e=this;p.UI.ViewLoader.indicatorSettingsDialog(function(t){t.show({chart:e.chart,indicator:e,done:function(){e.update(),e._panel.setNeedsUpdate(!0)}})})},f.prototype.updateHoverRecord=function(t){if(this.showValuesInTitle){null==t&&(t=this._chart.hoveredRecord);for(var e=0,i=this._plotItems;e<i.length;e++){var o=i[e],r=o.dataSeries?o.dataSeries.length:0;r<=0||((null==t||t<0||r<=t)&&(t=r-1),r=o.dataSeries.valueAtIndex(t),r=isNaN(r)||null===r?"n/a":this._panel.formatValue(r),o.titleValueSpan.text(r))}}},f.prototype._addPanelPlot=function(t,e){this._panel.addPlot(t),this._initPanelTitle();for(var i=0,o=this._plotItems;i<o.length;i++){var r=o[i];if(!r.plot)return r.plot=t,r.dataSeries=t.dataSeries[0],r.color=e,this._updatePanelTitle(),r}},f.prototype._initPanelTitle=function(o){var r=this;if(void 0===o&&(o=!1),this._panel.visible&&(!this._titleControls||o)){var t=this._titleControls={},e={menuContainer:null,showOnClick:!0,indicator:this,onItemSelected:function(t,e){var i=t.data("id");switch(i){case p.UI.IndicatorContextMenu.MenuItem.ABOUT:r.showInfoDialog();break;case p.UI.IndicatorContextMenu.MenuItem.SETTINGS:r.showSettingsDialog();break;case p.UI.IndicatorContextMenu.MenuItem.SHOW_PARAMS:r.showParamsInTitle=e,r._panel.setNeedsUpdate();break;case p.UI.IndicatorContextMenu.MenuItem.SHOW_MARKERS:r.showValueMarkers=e,r._panel.setNeedsUpdate();break;case p.UI.IndicatorContextMenu.MenuItem.SHOW_VALUES:r.showValuesInTitle=e,r._panel.setNeedsUpdate();break;case p.UI.IndicatorContextMenu.MenuItem.VISIBLE:r.visible=e,r.updateTitleControlsVisibility(),r._panel.setNeedsUpdate();break;case p.UI.IndicatorContextMenu.MenuItem.LINE_LEVELS:r.showLineLevels=e,r.update(o),r._panel.setNeedsUpdate(!0);break;case p.UI.IndicatorContextMenu.MenuItem.MERGE_UP:r._merge(!0);break;case p.UI.IndicatorContextMenu.MenuItem.MERGE_DOWN:r._merge(!1);break;case p.UI.IndicatorContextMenu.MenuItem.UNMERGE_UP:r._unmerge(!0);break;case p.UI.IndicatorContextMenu.MenuItem.UNMERGE_DOWN:r._unmerge(!1);break;case p.UI.IndicatorContextMenu.MenuItem.DELETE:r._remove();break;case void 0:break;default:throw new Error("Unknown menu item '"+i+"'")}}},i=t.rootDiv=this._panel.titleDiv.scxAppend("div",u);o&&this._panel.titleDiv.children(".scxIndicatorTitle").html(""),t.name=i.scxAppend("div",l).text(this.name),this.allowContextMenu&&(this._titleContextMenu=t.name.scx().indicatorContextMenu(e),t.parameters=i.scxAppend("div",l),this._parametersContextMenu=t.parameters.scx().indicatorContextMenu(e)),this._removeTitle=i.scxAppend("span",[s,c]).on("click",function(){r._remove()});for(var n=0,a=this._plots.length;n<a;n++)this._plotItems.push({titlePlotSpan:i.scxAppend("span",h),titleValueSpan:i.scxAppend("span",h)});this.updateTitleControlsVisibility(),this._subscribeEvents()}},f.prototype._merge=function(t){var e,i,o=this.chart,r=this._panel.getIndex(),n=t?r-1:r+1;this._panel.removePlot(this._fillPlot),n<0||n>=o.chartPanels.length||(t&&this._needsCustomScale()&&1===r&&(this.valueScale=o.addValueScale(),this.valueScale.rightPanelVisible=!1),i=this.serialize(),e=o.chartPanels[n],i.panelIndex=n,i=o.addIndicators(i),e!==o.mainPanel&&e.indicators[0]===i&&i._initPanel(),t&&this._needsCustomScale()&&1===r&&(i.zIndex=p.ZIndexVolume),o.removeIndicators(this),o.setNeedsUpdate(!0))},f.prototype._setAutoScaleMultiplier=function(t){t&&(this._panel.getValueScale(t).autoScaleMultiplier=p.AutoScaleMultiplierValue)},f.prototype.removeLineLevels=function(){this._panel.forceRemoveDrawings(this._lineLevels)},f.prototype._unmerge=function(t){this._panel.removePlot(this._fillPlot);var e=t?this._panel.getIndex():this._panel.getIndex()+1;try{var i=this.chart.addChartPanel(e);i.layout(i.frame),this.chart.removeValueScale(this.valueScale),this._merge(t)}catch(t){p.Localization.localizeText(this.chart,"indicator.all.notification.noMoreSpace").then(function(t){p.UI.Notification.warning(t)})}},f.prototype._updatePanelTitle=function(){return __awaiter(this,void 0,void 0,function(){var e,i,o,r;return __generator(this,function(t){switch(t.label){case 0:return this._setTitle(this.name,this._titleControls.name),[4,this._localizedParameters(this._titleParameters())];case 1:for(e=t.sent(),this._titleControls.parameters&&this._titleControls.parameters.text("()"===e?"":e),this._setlocalizedAtribute(this._removeTitle,"indicator.all.removeIndicator"),i=function(t){var e=o._plotItems[t],t=e.dataSeries.name;e.titlePlotSpan.css("color",e.color),p.Localization.localizeText(o._chart,"indicator.all.panelTitle."+t,{defaultValue:t}).then(function(t){e.titlePlotSpan.text(t)}),e.titleValueSpan.css("color",e.color),p.Localization.localizeText(o._chart,"indicator.all.panelTitle."+t,{defaultValue:t}).then(function(t){e.titleValueSpan.attr("title",t)})},o=this,r=0;r<this._plotItems.length;r++)i(r);return[2]}})})},f.prototype._localizedParameters=function(e){return __awaiter(this,void 0,void 0,function(){var i=this;return __generator(this,function(t){return p.JsUtil.flattenArray(e)?[2,Promise.all(e.map(function(e){return __awaiter(i,void 0,void 0,function(){return __generator(this,function(t){return[2,p.Localization.localizeText(this._chart,"indicator.all.parameter."+e,{defaultValue:e})]})})})).then(function(t){return"("+t.join(", ")+")"})]:[2]})})},f.prototype.updateTitleControlsVisibility=function(){var t=this.showValueMarkers,e=this.showValuesInTitle?"inline-block":"none",i=this._titleControls;i&&(i.parameters&&i.parameters.css("display",this.showParamsInTitle?"inline-block":"none"),i.name.css("opacity",this.visible?"1":"0.5"),i.rootDiv.css("display",this.showTitle?"block":"none"));for(var o=0,r=this._plotItems;o<r.length;o++){var n=r[o];n.plot&&(n.plot.showValueMarkers=t),n.titlePlotSpan.css("display",this._plotItems.length<=1?"none":e),n.titleValueSpan.css("display",e)}this._fillPlot&&(this._fillPlot.visible=this.visible,this._drawFillPlot())},f.prototype._initIndicator=function(){this._options.parameters={}},f.prototype._subscribeEvents=function(){var e=this;this._chart.on(p.ChartEvent.HOVER_RECORD_CHANGED+".scxIndicator",function(t){e.updateHoverRecord(t.value)},this)},f.prototype._unSubscribeEvents=function(){this._chart&&this._chart.off(p.ChartEvent.HOVER_RECORD_CHANGED+".scxIndicator",this)},f.prototype._remove=function(){var t=this._chart;t.removeIndicators(this),t.setNeedsUpdate(!0)},f.prototype.loadState=function(t){if(!(t=t||{})||"object"!=typeof t)throw new TypeError("Config expected.");var e=this._chart=t.chart||this.chart;if(this._options={panelHeightRatio:t.panelHeightRatio,showParamsInTitle:!0,allowContextMenu:!0,showValueMarkers:!0,showValuesInTitle:!0,allowSettingsDialog:!0,visible:!0,showTitle:!0,showLineLevels:!1},this.allowSettingsDialog=null==t.allowSettingsDialog||t.allowSettingsDialog,this.showParamsInTitle=null==t.showParamsInTitle||t.showParamsInTitle,this.showValueMarkers=null==t.showValueMarkers||t.showValueMarkers,this.showValuesInTitle=null==t.showValuesInTitle||t.showValuesInTitle,this.allowContextMenu=null==t.allowContextMenu||t.allowContextMenu,this.visible=null==t.visible||t.visible,this.coloredVolumeTheme=null!=t.coloredVolumeTheme?t.coloredVolumeTheme:null,this._options.valueScaleIndex=t.valueScaleIndex,this.showTitle=null==t.showTitle||t.showTitle,this._prevParams=t._prevParams,this.showLineLevels=null!=t.showLineLevels&&t.showLineLevels,this.zIndex=t.zIndex,e&&(null!=t.panelIndex&&(this._panel=e.chartPanelsContainer.panels[t.panelIndex]),t.valueScaleIndex&&(this.valueScale=e.valueScales[t.valueScaleIndex])),t.parameters)for(var i in t.parameters)t.parameters.hasOwnProperty(i)&&this.setParameterValue(i,t.parameters[i])},f.prototype._collapseIndicatorName=function(t){this._collapseIndicatorTitle=!t,this._collapseIndicatorIcon&&(this._collapseIndicatorTitle?this._collapseIndicatorIcon.removeClass(e).addClass(o):this._collapseIndicatorIcon.removeClass(o).addClass(e)),this._panel&&this._panel.setNeedsUpdate()},f);function f(){var t=n.call(this)||this;return t._isOverlay=!1,t._plotItems=[],t._usePrimaryDataSeries=!0,t._collapseIndicatorTitle=!1,t._needsDefaults=!0,t._plots=[],t._lineLevels=[],t._options={showParamsInTitle:!0,showValueMarkers:!0,showValuesInTitle:!0,allowSettingsDialog:!0,allowContextMenu:!0,visible:!0,showTitle:!0,showLineLevels:!1},t.allowSettingsDialog=!0,t.showParamsInTitle=!0,t.showValueMarkers=!0,t.showValuesInTitle=!0,t.visible=!0,t.coloredVolumeTheme=null,t.showTitle=!0,t._initIndicator(),t}p.Indicator=a,p.JsUtil.applyMixins(a,[t])}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){(t=r.IndicatorSizeUnit||(r.IndicatorSizeUnit={})).Pixel="pixel",t.Percent="percent",r.IndicatorSettingsProxy=function(t,e){for(var i in t){var o=t[i];t.hasOwnProperty(i)&&r.JsUtil.isObject(o)&&(t[i]=r.IndicatorSettingsProxy(o,e))}return new Proxy(t,{set:function(t,e,i){return console.log(e,i),t[e]=i,!0}})};var e,t=(e=r.Indicator,__extends(i,e),Object.defineProperty(i.prototype,"settings",{get:function(){return this._settings},set:function(t){var e;this.chart&&(e=r.JsUtil.merge(this._settings,t),t=!!this._handleSettings(e),this._settings=e,this.chart.setNeedsUpdate(t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"renderer",{get:function(){return this._panel&&this._panel.layer.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"projection",{get:function(){return this._panel&&this._panel.getProjection(this.valueScale)},enumerable:!0,configurable:!0}),i.prototype._onChartChanged=function(){this._handleSettings(this._settings),this._settingsHandled=!0,e.prototype._onChartChanged.call(this)},i.prototype._handleSettings=function(t){},i.prototype._getVisiblePeriod=function(){var t,e,i=this.chart,o=i.dataManager.getDataSeries(r.DataSeriesSuffix.DATE);return i=o?(t=i.dateScale.visibleDateRange,e=o.floorIndex(t.min),o.ceilIndex(t.max)):(e=i.firstVisibleIndex,i.lastVisibleIndex),{startIndex:Math.max(o.leftNearestVisibleValueIndex(e)-1,0),endIndex:Math.min(o.rightNearestVisibleValueIndex(i)+1,o.length-1)}},i.prototype._getBarValue=function(t,e){var i=this.details.get(e=void 0===e?0:e);if(!this._isValidDetails(i))return 0;for(var o=0,r=0;r<i.length;r++)o+=t(i[r]);return o},i.prototype._isValidDetails=function(t){return Array.isArray(t)&&0<t.length},i);function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._settingsHandled=!1,t}r.AdvancedIndicator=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"DM"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="DM",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line2.strokeColor,"ADX"),this.addPlot(this.indicatorTheme.line1.strokeColor,"+DI"),this.addPlot(this.indicatorTheme.line3.strokeColor,"-DI")},o.prototype.setConfigure=function(){this._dmPlus=new e.TADataSeries("dmPlus",this),this._dmMinus=new e.TADataSeries("dmMinus",this),this._sumDmPlus=new e.TADataSeries("sumDmPlus",this),this._sumDmMinus=new e.TADataSeries("sumDmMinus",this),this._sumTr=new e.TADataSeries("sumTr",this),this._tr=new e.TADataSeries("tr",this)},o.prototype.onBarUpdate=function(){var t,e,i,o=this.values.get("ADX"),r=this.values.get("+DI"),n=this.values.get("-DI"),a=this.high.get(0),l=this.low.get(0),s=a-l;0===this.currentBar?(this._tr.set(s),this._dmPlus.set(0),this._dmMinus.set(0),this._sumTr.set(0),this._sumDmPlus.set(0),this._sumDmMinus.set(this._dmMinus.get(0)),o.set(50)):(e=this.low.get(1),i=this.high.get(1),t=this.close.get(1),this._tr.set(Math.max(Math.abs(l-t),Math.max(s,Math.abs(a-t)))),this._dmPlus.set(e-l<a-i?Math.max(a-i,0):0),this._dmMinus.set(a-i<e-l?Math.max(e-l,0):0),a=this._sumDmPlus.get(1),i=this._sumDmMinus.get(1),e=this._sumTr.get(1),this.currentBar<this.period?(this._sumTr.set(e+this._tr.get(0)),this._sumDmPlus.set(a+this._dmPlus.get(0)),this._sumDmMinus.set(i+this._dmMinus.get(0))):(this._sumTr.set(e-this._sumTr.get(1)/this.period+this._tr.get(0)),this._sumDmPlus.set(a-a/this.period+this._dmPlus.get(0)),this._sumDmMinus.set(i-i/this.period+this._dmMinus.get(0))),l=100*(0===this._sumTr.get(0)?0:this._sumDmPlus.get(0)/this._sumTr.get(0)),e=100*(0===this._sumTr.get(0)?0:this._sumDmMinus.get(0)/this._sumTr.get(0)),a=Math.abs(l-e),o.set(0==(i=l+e)?50:((this.period-1)*o.get(1)+100*a/i)/this.period),r.set(l),n.set(e))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.DM=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){var t,e=(t=n.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"ADL"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(n.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(n.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="ADL",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},i.prototype.setConfigure=function(){},i.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.high.get(0),i=this.low.get(0),o=this.close.get(0),r=this.volume.get(0),r=(0===this.currentBar?0:t.get(1))+(0!==n.JsUtil.approxCompare(e,i)?(o-i-(e-o))/(e-i)*r:0);t.set(r)},i);function i(){return null!==t&&t.apply(this,arguments)||this}n.ADL=e,n.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"APZ"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"bandPct",{get:function(){return this.getParameterValue(e.IndicatorParam.BAND_PCT)},set:function(t){this.setParameterValue(e.IndicatorParam.BAND_PCT,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="APZ",this.period=20,this.bandPct=2,this._isOverlay=!0,this.addPlot(this.indicatorTheme.line2.strokeColor,"Upper"),this.addPlot(this.indicatorTheme.line3.strokeColor,"Lower")},o.prototype.setConfigure=function(){this._ema1=this.EMA(null,this._newPeriod),this._emaEMA=this.EMA(this._ema1,this._newPeriod),this._emaRange=this.EMA(this.Range(),this.period)},o.prototype.onBarUpdate=function(){var t,e,i=this.values.get("Lower"),o=this.values.get("Upper");this.currentBar<this.period||(e=this.bandPct*this._emaRange.values.get(0).get(0),t=this._emaEMA.values.get(0).get(0)-e,e=this._emaEMA.values.get(0).get(0)+e,i.set(t),o.set(e))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.APZ=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"EMA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="EMA",this.period=14,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._constant1=2/(1+this.period),this._constant2=1-2/(1+this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=0===this.currentBar?this.input.get(0):this.input.get(0)*this._constant1+this._constant2*t.get(1);t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.EMA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"ATR"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="ATR",this.period=14,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e=this.high.get(0),i=this.low.get(0),o=this.values.get(this.name);t=0===this.currentBar?e-i:(t=this.close.get(1),t=Math.max(Math.abs(i-t),Math.max(e-i,Math.abs(e-t))),((Math.min(this.currentBar+1,this.period)-1)*o.get(1)+t)/Math.min(this.currentBar+1,this.period)),o.set(t)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.ATR=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(o){var t,e=(t=o.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"BarStats"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(o.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(o.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="BarStats",this.period=14,this._isOverlay=!1;var t=new o.TADataSeries(this.name,this),e=this.linePlots.length,i=this._lineTheme(e);this._addLineParameters(e,this.indicatorTheme.line1.strokeColor,void 0,void 0),this._plots.push(new o.BarStatsPlot({dataSeries:t,theme:i})),this.values.add(t)},i.prototype.setConfigure=function(){},i.prototype.onBarUpdate=function(){},i);function i(){return null!==t&&t.apply(this,arguments)||this}o.BarStats=e,o.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"SMA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="SMA",this.period=14,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._priorSum=0,this._sum=0},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name);this.isFirstTickOfBar&&(this._priorSum=this._sum),this._priorSum=this._sum,this._sum=this._priorSum+this.input.get(0)-(this.currentBar>=this.period?this.input.get(this.period):0);var e=this._sum/(this.currentBar<this.period?this.currentBar+1:this.period);t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.SMA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"SUM"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="SUM",this.period=14,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.input.get(0)+(0<this.currentBar?t.get(1):0)-(this.currentBar>=this.period?this.input.get(this.period):0);t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.SUM=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){var t,e=(t=r.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"CMO"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(r.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(r.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(r.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(r.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="CMO",this.period=14,this._isOverlay=!1,this.inputSeriesKind=r.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},i.prototype.setConfigure=function(){this._down=new r.TADataSeries("Down",this),this._up=new r.TADataSeries("Up",this),this._sumDown=this.SUM(this._down,this.period),this._sumUp=this.SUM(this._up,this.period)},i.prototype.onBarUpdate=function(){var t=this.values.get(this.name);if(0===this.currentBar)return this._down.set(0),void this._up.set(0);var e=this.input.get(0),i=this.input.get(1),o=Math.max(i-e,0),i=Math.max(e-i,0);this._down.set(o),this._up.set(i);o=this._sumDown.values.get(0).get(0),i=this._sumUp.values.get(0).get(0),o=0===r.JsUtil.approxCompare(i,o)?0:(i-o)/(i+o)*100;t.set(o)},i);function i(){return null!==t&&t.apply(this,arguments)||this}r.CMO=e,r.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"MAX"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="MAX",this.period=14,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._lastBar=0,this._lastMax=0,this._runningMax=0,this._runningBar=0,this._thisBar=0},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name);if(0===this.currentBar)return this._runningMax=this.input.get(0),this._lastMax=this.input.get(0),this._runningBar=0,this._lastBar=0,this._thisBar=0,t=this.input.get(0),void e.set(t);if(this.currentBar-this._runningBar>=this.period){this._runningMax=Number.MIN_VALUE;for(var i=Math.min(this.currentBar,this.period-1);0<i;i--)this.input.get(i)>=this._runningMax&&(this._runningMax=this.input.get(i),this._runningBar=this.currentBar-i)}this._thisBar!==this.currentBar&&(this._lastMax=this._runningMax,this._lastBar=this._runningBar,this._thisBar=this.currentBar),this.input.get(0)>=this._lastMax?(this._runningMax=this.input.get(0),this._runningBar=this.currentBar):(this._runningMax=this._lastMax,this._runningBar=this._lastBar),t=this._runningMax,e.set(t)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.MAX=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"MIN"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="MIN",this.period=14,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._lastBar=0,this._lastMin=0,this._runningMin=0,this._runningBar=0,this._thisBar=0},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name);if(0===this.currentBar)return this._runningMin=this.input.get(0),this._lastMin=this.input.get(0),this._runningBar=0,this._lastBar=0,this._thisBar=0,t=this.input.get(0),void e.set(t);if(this.currentBar-this._runningBar>=this.period){this._runningMin=Number.MAX_VALUE;for(var i=Math.min(this.currentBar,this.period-1);0<i;i--)this.input.get(i)<=this._runningMin&&(this._runningMin=this.input.get(i),this._runningBar=this.currentBar-i)}this._thisBar!==this.currentBar&&(this._lastMin=this._runningMin,this._lastBar=this._runningBar,this._thisBar=this.currentBar),this.input.get(0)<=this._lastMin?(this._runningMin=this.input.get(0),this._runningBar=this.currentBar):(this._runningMin=this._lastMin,this._runningBar=this._lastBar),t=this._runningMin,e.set(t)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.MIN=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(h){var t,e=(t=h.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"ADX"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(h.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(h.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="ADX",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line1.strokeColor,25),this.addLine(this.levelsTheme.line2.strokeColor,75)},i.prototype.setConfigure=function(){this._dmPlus=new h.TADataSeries("dmPlus",this),this._dmMinus=new h.TADataSeries("dmPlus",this),this._sumDmPlus=new h.TADataSeries("dmPlus",this),this._sumDmMinus=new h.TADataSeries("dmPlus",this),this._sumTr=new h.TADataSeries("dmPlus",this),this._tr=new h.TADataSeries("dmPlus",this)},i.prototype.onBarUpdate=function(){var t,e,i,o,r,n,a,l=this.values.get(this.name),s=this.high.get(0),c=this.low.get(0);0===this.currentBar?(this._tr.set(t=s-c),this._dmPlus.set(0),this._dmMinus.set(0),this._sumTr.set(t),this._sumDmPlus.set(0),this._sumDmMinus.set(0),l.set(50)):(o=this.high.get(1),r=this.low.get(1),n=this.close.get(1),t=Math.max(Math.abs(c-n),Math.max(s-c,Math.abs(s-n))),e=r-c<s-o?Math.max(s-o,0):0,i=s-o<r-c?Math.max(r-c,0):0,this._tr.set(t),this._dmPlus.set(e),this._dmMinus.set(i),s=n=a=void 0,s=this.currentBar<this.period?(a=this._sumTr.get(1)+t,n=this._sumDmPlus.get(1)+e,this._sumDmMinus.get(0)+i):(o=this._sumTr.get(1),r=this._sumDmPlus.get(1),c=this._sumDmMinus.get(1),a=o-o/this.period+t,n=r-r/this.period+e,c-c/this.period+i),this._sumTr.set(a),this._sumDmPlus.set(n),this._sumDmMinus.set(s),a=this._sumTr.get(0),n=100*(0===h.JsUtil.approxCompare(a,0)?0:n/a),s=100*(0===h.JsUtil.approxCompare(a,0)?0:s/a),a=Math.abs(n-s),s=0===h.JsUtil.approxCompare(s=n+s,0)?50:((this.period-1)*l.get(1)+100*a/s)/this.period,l.set(s))},i);function i(){return null!==t&&t.apply(this,arguments)||this}h.ADX=e,h.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"OBV"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="OBV",this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e,i,o=this.values.get(this.name);0===this.currentBar?o.set(0):(t=this.close.get(0),e=this.close.get(1),i=this.volume.get(0),e<t?o.set(o.get(1)+i):t<e?o.set(o.get(1)-i):o.set(o.get(1)))},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.OBV=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"ROC"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="ROC",this.period=14,this._isOverlay=!1,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line5.strokeColor,0)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name);this.currentBar<=this.period?e.set(this.input.get(0)):(t=this.input.get(Math.min(this.currentBar,this.period)),t=(this.input.get(0)-t)/t*100,e.set(t))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.ROC=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"VOL"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="VOL",this._isOverlay=!1,this.addPlot("#3452F1",this.name,t.HistogramPlot.Style.COLUMN)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){this.values.get(this.name).set(this.volume.get(0))},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.VOL=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"VMA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"volatilityPeriod",{get:function(){return this.getParameterValue(e.IndicatorParam.VOLATILITY_PERIOD)},set:function(t){this.setParameterValue(e.IndicatorParam.VOLATILITY_PERIOD,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="VMA",this.period=9,this.volatilityPeriod=9,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._sc=2/(this.period+1),this._cmo=this.CMO(this.input,this.volatilityPeriod)},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name);0!==this.currentBar?(t=Math.abs(this._cmo.values.get(0).get(0))/100,t=this._sc*t*this.input.get(0)+(1-this._sc*t)*e.get(1),e.set(t)):e.set(this.input.get(0))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.VMA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){var t,e=(t=n.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"BOP"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(n.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(n.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"smooth",{get:function(){return this.getParameterValue(n.IndicatorParam.SMOOTH)},set:function(t){this.setParameterValue(n.IndicatorParam.SMOOTH,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="BOP",this.period=14,this.smooth=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name,n.HistogramPlot.Style.COLUMN)},i.prototype.setConfigure=function(){this._bop=new n.TADataSeries("bop",this),this._sma=this.SMA(this._bop,this.smooth)},i.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.high.get(0),i=this.low.get(0),o=this.close.get(0),r=this.open.get(0);0===n.JsUtil.approxCompare(e-i,0)?this._bop.set(0):this._bop.set((o-r)/(e-i));i=this._sma.values.get(0).get(0);t.set(i)},i);function i(){return null!==t&&t.apply(this,arguments)||this}n.BOP=e,n.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"PPO"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"smooth",{get:function(){return this.getParameterValue(e.IndicatorParam.SMOOTH)},set:function(t){this.setParameterValue(e.IndicatorParam.SMOOTH,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"slow",{get:function(){return this.getParameterValue(e.IndicatorParam.SLOW)},set:function(t){this.setParameterValue(e.IndicatorParam.SLOW,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"fast",{get:function(){return this.getParameterValue(e.IndicatorParam.FAST)},set:function(t){this.setParameterValue(e.IndicatorParam.FAST,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="PPO",this.period=14,this.fast=12,this.slow=26,this.smooth=9,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line2.strokeColor,"Default"),this.addPlot(this.indicatorTheme.line3.strokeColor,"PPOSmoothed"),this.addLine(this.levelsTheme.line5.strokeColor,0)},o.prototype.setConfigure=function(){this._emaFast=this.EMA(null,this.fast),this._emaSlow=this.EMA(null,this.slow),this._values0=this.values.get("Default")},o.prototype.onBarUpdate=function(){var t=this.values.get("PPOSmoothed"),e=this.values.get("Default"),i=this._emaSlow.values.get(0).get(0),i=(this._emaFast.values.get(0).get(0)-i)/i*100;e.set(i||0);i=this.EMA(this._values0,this.smooth).values.get(0).get(0);t.set(i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.PPO=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"TSF"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"forecast",{get:function(){return this.getParameterValue(e.IndicatorParam.FORECAST)},set:function(t){this.setParameterValue(e.IndicatorParam.FORECAST,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="TSF",this.period=14,this.forecast=3,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._avg=this._divisor=this._intercept=this._myPeriod=this._priorSumXY=this._priorSumY=this._slope=this._sumX=this._sumX2=this._sumY=this._sumXY=0,this._sum=this.SUM(this.input,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._sum.values.get(0);this.isFirstTickOfBar&&(this._priorSumY=this._sumY,this._priorSumXY=this._sumXY,this._myPeriod=Math.min(this.currentBar+1,this.period),this._sumX=this._myPeriod*(this._myPeriod-1)*.5,this._sumX2=this._myPeriod*(this._myPeriod+1)*.5,this._divisor=this._myPeriod*(this._myPeriod+1)*(2*this._myPeriod+1)/6-this._sumX2*this._sumX2/this._myPeriod);var i=this.input.get(0);this._sumXY=this._priorSumXY-(this.currentBar>=this.period?this._priorSumY:0)+this._myPeriod*i,this._sumY=this._priorSumY+i-(this.currentBar>=this.period?this.input.get(this.period):0),this._avg=this._sumY/this._myPeriod,this._slope=(this._sumXY-this._sumX2*this._avg)/this._divisor,this._intercept=(e.get(0)-this._slope*this._sumX)/this._myPeriod;i=0===this.currentBar?i:this._intercept+this._slope*(this._myPeriod-1+this.forecast);t.set(i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.TSF=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(o){var t,e=(t=o.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"TSI"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(o.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(o.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(o.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(o.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fast",{get:function(){return this.getParameterValue(o.IndicatorParam.FAST)},set:function(t){this.setParameterValue(o.IndicatorParam.FAST,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"slow",{get:function(){return this.getParameterValue(o.IndicatorParam.SLOW)},set:function(t){this.setParameterValue(o.IndicatorParam.SLOW,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="TSI",this.period=14,this.fast=3,this.slow=14,this._isOverlay=!1,this.inputSeriesKind=o.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},i.prototype.setConfigure=function(){this._constant1=2/(1+this.slow),this._constant2=1-2/(1+this.slow),this._constant3=2/(1+this.fast),this._constant4=1-2/(1+this.fast),this._fastEma=new o.TADataSeries("fastEma",this),this._fastAbsEma=new o.TADataSeries("fastAbsEma",this),this._slowEma=new o.TADataSeries("slowEma",this),this._slowAbsEma=new o.TADataSeries("slowAbsEma",this)},i.prototype.onBarUpdate=function(){var t,e,i=this.values.get(this.name);0===this.currentBar?(this._fastAbsEma.set(0),this._fastEma.set(0),this._slowAbsEma.set(0),this._slowEma.set(0),i.set(0)):(t=(e=this.input.get(0)-this.input.get(1))*this._constant1+this._constant2*this._slowEma.get(1),this._slowEma.set(t),t=this._slowEma.get(0)*this._constant3+this._constant4*this._fastEma.get(1),this._fastEma.set(t),e=Math.abs(e)*this._constant1+this._constant2*this._slowAbsEma.get(1),this._slowAbsEma.set(e),e=this._slowAbsEma.get(0)*this._constant3+this._constant4*this._fastAbsEma.get(1),this._fastAbsEma.set(e),e=o.JsUtil.equals(this._fastAbsEma.get(0),0)?0:100*this._fastEma.get(0)/this._fastAbsEma.get(0),i.set(e))},i);function i(){return null!==t&&t.apply(this,arguments)||this}o.TSI=e,o.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"PFE"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"smooth",{get:function(){return this.getParameterValue(e.IndicatorParam.SMOOTH)},set:function(t){this.setParameterValue(e.IndicatorParam.SMOOTH,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="PFE",this.period=14,this.smooth=10,this._isOverlay=!1,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line5.strokeColor,0)},o.prototype.setConfigure=function(){this._div=new e.TADataSeries("dmPlus",this),this._pfeSeries=new e.TADataSeries("dmPlus",this),this._singlePfeSeries=new e.TADataSeries("dmPlus",this),this._ema=this.EMA(this._pfeSeries,this.smooth)},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name),i=this.input.get(0);if(this.currentBar<this.period)return n=0===this.currentBar?1:Math.sqrt(Math.pow(this.input.get(1)-i,2)+1),this._singlePfeSeries.set(n),t=this._singlePfeSeries.get(0)+(0<this.currentBar?this._div.get(1):0),void this._div.set(t);var o=this.input.get(0),r=this.input.get(this.period),n=Math.sqrt(Math.pow(o-i,2)+1);this._singlePfeSeries.set(n),t=this._singlePfeSeries.get(0)+this._div.get(1)-this._singlePfeSeries.get(this.period),this._div.set(t);r=(i<r?-1:1)*(Math.sqrt(Math.pow(i-r,2)+Math.pow(this.period,2))/this._div.get(0));this._pfeSeries.set(r);r=this._ema.values.get(0).get(0);e.set(r)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.PFE=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"WMA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="WMA",this.period=14,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._priorSum=0,this._priorWsum=0,this._sum=0,this._wsum=0},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name);this.isFirstTickOfBar&&(this._priorWsum=this._wsum,this._priorSum=this._sum,this._myPeriod=Math.min(this.currentBar+1,this.period)),this._wsum=this._priorWsum-(this.currentBar>=this.period?this._priorSum:0)+this._myPeriod*this.input.get(0),this._sum=this._priorSum+this.input.get(0)-(this.currentBar>=this.period?this.input.get(this.period):0);var e=this._wsum/(.5*this._myPeriod*(this._myPeriod+1));t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.WMA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"HML"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="HML",this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.high.get(0)-this.low.get(0);t.set(e)},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.HML=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"RSI"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"smooth",{get:function(){return this.getParameterValue(e.IndicatorParam.SMOOTH)},set:function(t){this.setParameterValue(e.IndicatorParam.SMOOTH,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="RSI",this.period=14,this.smooth=3,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line2.strokeColor,this.name),this.addPlot(this.indicatorTheme.line3.strokeColor,"Avg"),this.addLine(this.levelsTheme.line1.strokeColor,30),this.addLine(this.levelsTheme.line1.strokeColor,70)},o.prototype.setConfigure=function(){this._constant1=2/(1+this.smooth),this._constant2=1-2/(1+this.smooth),this._constant3=this.period-1,this._down=new e.TADataSeries("dmPlus",this),this._up=new e.TADataSeries("dmPlus",this),this._avgDown=new e.TADataSeries("dmPlus",this),this._avgUp=new e.TADataSeries("dmPlus",this),this._smaDown=this.SMA(this._down,this.period),this._smaUp=this.SMA(this._up,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.values.get("Avg");if(0===this.currentBar)return this._down.set(0),this._up.set(0),void(this.period<3&&e.set(50));var i,o=this.input.get(0),r=this.input.get(1),n=Math.max(r-o,0),r=Math.max(o-r,0);this._down.set(n),this._up.set(r),this.currentBar+1<this.period?this.currentBar+1===this.period-1&&e.set(50):(this.currentBar+1===this.period?(this._avgDown.set(this._smaDown.values.get(0).get(0)),this._avgUp.set(this._smaUp.values.get(0).get(0))):(i=(this._avgDown.get(1)*this._constant3+n)/this.period,r=(this._avgUp.get(1)*this._constant3+r)/this.period,this._avgDown.set(i),this._avgUp.set(r)),i=0===(i=this._avgDown.get(0))?100:100-100/(1+this._avgUp.get(0)/i),t.set(i),i=this._constant1*i+this._constant2*e.get(1),e.set(i))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.RSI=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){var t,e=(t=r.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"MFI"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(r.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(r.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="MFI",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line1.strokeColor,20),this.addLine(this.levelsTheme.line2.strokeColor,80)},i.prototype.setConfigure=function(){this._negative=new r.TADataSeries("Negative",this),this._positive=new r.TADataSeries("Positive",this),this._sumNegative=this.SUM(this._negative,this.period),this._sumPositive=this.SUM(this._positive,this.period)},i.prototype.onBarUpdate=function(){var t,e,i,o=this.values.get(this.name);i=0===this.currentBar?50:(i=(e=this.typical.get(0))<(t=this.typical.get(1))?e*this.volume.get(0):0,e=t<e?e*this.volume.get(0):0,this._negative.set(i),this._positive.set(e),i=this._sumNegative.values.get(0).get(0),e=this._sumPositive.values.get(0).get(0),r.JsUtil.equals(i,0)?50:100-100/(1+e/i)),o.set(i)},i);function i(){return null!==t&&t.apply(this,arguments)||this}r.MFI=e,r.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"ASI"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"limitValue",{get:function(){return this.getParameterValue(e.IndicatorParam.LIMIT_VALUE)},set:function(t){this.setParameterValue(e.IndicatorParam.LIMIT_VALUE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="ASI",this.limitValue=.5,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._swingIndex=this.SwingIndex(this.limitValue)},o.prototype.onBarUpdate=function(){var t,e;this.currentBar<1||(t=this.values.get(this.name),e=this._swingIndex.values.get(0).get(0)+t.get(1),t.set(e))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.ASI=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){var t,e=(t=i.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"CRS"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(i.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(i.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind2",{get:function(){return this.getParameterValue(i.IndicatorParam.SOURCE2)},set:function(t){this.setParameterValue(i.IndicatorParam.SOURCE2,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="CRS",this.inputSeriesKind=i.DataSeriesSuffix.CLOSE,this.inputSeriesKind2=i.DataSeriesSuffix.OPEN,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.input.get(0)/this.input2.get(0);1===e&&(e=i.nullValue),t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}i.CRS=e,i.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"EFI"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="EFI",this.addPlot(this.indicatorTheme.line2.strokeColor,"Indicator"),this.addPlot(this.indicatorTheme.line3.strokeColor,"Signal")},o.prototype.setConfigure=function(){this._ema=this.EMA(this.values.get("Indicator"),2)},o.prototype.onBarUpdate=function(){var t,e,i,o;this.currentBar<2||(t=this.values.get("Indicator"),e=this.values.get("Signal"),i=this.close,o=this.volume,o=(i.get(1)-i.get(0))*o.get(0),t.set(o),o=this._ema.values.get(0),e.set(o.get(0)))},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.EFI=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"GRI"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="GRI",this.period=14,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._max=this.MAX(this.high,this.period),this._min=this.MIN(this.low,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._max.values.get(0),i=this._min.values.get(0),i=Math.log(e.get(0)-i.get(0))/Math.log(this.period);t.set(i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.GRI=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"IMI"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="IMI",this.period=14,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._prevUpSum=0,this._prevDnSum=0,this._upSum=0,this._dnSum=0},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.close,i=this.open;e.get(0)>i.get(0)?this._upSum=this._prevUpSum+(e.get(0)-i.get(0)):this._dnSum=this._prevDnSum+(i.get(0)-e.get(0));e=this._upSum/(this._upSum+this._dnSum)*100;t.set(e),this._prevUpSum=this._upSum,this._prevDnSum=this._dnSum},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.IMI=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){var t,e=(t=n.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"CCI"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(n.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(n.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="CCI",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line5.strokeColor,200),this.addLine(this.levelsTheme.line5.strokeColor,100),this.addLine(this.levelsTheme.line5.strokeColor,0),this.addLine(this.levelsTheme.line5.strokeColor,-100),this.addLine(this.levelsTheme.line5.strokeColor,-200)},i.prototype.setConfigure=function(){this._sma=this.SMA(this.typical,this.period)},i.prototype.onBarUpdate=function(){var t=this.values.get(this.name);if(0===this.currentBar)t.set(0);else{for(var e=0,i=this._sma.values.get(0).get(0),o=Math.min(this.currentBar,this.period-1);0<=o;o--)e+=Math.abs(this.typical.get(o)-i);var r=(this.typical.get(0)-i)/(0===n.JsUtil.approxCompare(e,0)?1:e/Math.min(this.period,this.currentBar+1)*.015);t.set(r)}},i);function i(){return null!==t&&t.apply(this,arguments)||this}n.CCI=e,n.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"RSS"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ema1",{get:function(){return this.getParameterValue(e.IndicatorParam.EMA1)},set:function(t){this.setParameterValue(e.IndicatorParam.EMA1,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"ema2",{get:function(){return this.getParameterValue(e.IndicatorParam.EMA2)},set:function(t){this.setParameterValue(e.IndicatorParam.EMA2,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="RSS",this.ema1=10,this.ema2=40,this.period=4,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line1.strokeColor,20),this.addLine(this.levelsTheme.line1.strokeColor,80)},o.prototype.setConfigure=function(){this._spread=new e.TADataSeries("spread",this),this._rs=new e.TADataSeries("rs",this),this._ema1=this.EMA(null,this.ema1),this._ema2=this.EMA(null,this.ema2),this._rsi=this.RSI(this._spread,this.period,1),this._sma=this.SMA(this._rs,5)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._ema1.values.get(0),i=this._ema2.values.get(0),i=e.get(0)-i.get(0);this._spread.set(i),this._rs.set(this._rsi.values.get(0).get(0));i=this._sma.values.get(0).get(0);t.set(i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.RSS=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"HMA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="HMA",this.period=14,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._diffSeries=new e.TADataSeries("Down",this),this._wma1=this.WMA(this.input,this.period/2),this._wma2=this.WMA(this.input,this.period),this._wmaDiffSeries=this.WMA(this._diffSeries,Math.floor(Math.sqrt(this.period)))},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._wma1.values.get(0).get(0),i=this._wma2.values.get(0).get(0);this._diffSeries.set(2*e-i);i=this._wmaDiffSeries.values.get(0).get(0);t.set(i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.HMA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"PNB"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="PNB",this._isOverlay=!0,this.addPlot(this.indicatorTheme.line2.strokeColor,"Prime Bands Top"),this.addPlot(this.indicatorTheme.line3.strokeColor,"Prime Bands Bottom")},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e,i=this.values.get("Prime Bands Top"),o=this.values.get("Prime Bands Bottom"),r=this.low,n=this.high,a=r.get(0);for(this._i=a;1<this._i;--this._i)if(this.isPrime(this._i)){e=this._i;break}for(o.set(e),a=n.get(0),this._i=a;this._i<2*a;++this._i)if(this.isPrime(this._i)){t=this._i;break}i.set(t)},o.prototype.isPrime=function(t){if(3<t){if(!(t%2))return!1;if(!(t%3))return!1}for(var e=5,i=2,o=Math.sqrt(t)+1;e<=o;){if(!(t%e))return!1;e+=i,i=6-i}return!0},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.PNB=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"TMA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="TMA",this.period=15,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._p1=0,(this._p2=0)==(1&this.period)?(this._p1=this.period/2,this._p2=this._p1+1):(this._p1=(this.period+1)/2,this._p2=this._p1),this._sma0=this.SMA(this.input,this._p1),this._sma=this.SMA(this._sma0,this._p2)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._sma.values.get(0).get(0);t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.TMA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"NVI"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="NVI",this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name),i=this.volume;this.currentBar<1?e.set(1):(t=i.get(0)<i.get(1)?(t=this.input.get(1),e.get(1)+(this.input.get(0)-t)/t*e.get(1)):e.get(1),e.set(t))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.NVI=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"PVI"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="PVI",this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name),i=this.volume;this.currentBar<2?e.set(1):(t=i.get(0)>i.get(1)?(t=this.input.get(1),e.get(1)+(this.input.get(0)-t)/t*e.get(1)):e.get(1),e.set(t))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.PVI=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"PVT"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="PVT",this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e,i;this.currentBar<2||(t=this.values.get(this.name),i=this.volume,e=this.input.get(1),i=(this.input.get(0)-e)/e*i.get(0)+t.get(1),t.set(i/=1e4))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.PVT=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"TVI"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"limitValue",{get:function(){return this.getParameterValue(e.IndicatorParam.LIMIT_VALUE)},set:function(t){this.setParameterValue(e.IndicatorParam.LIMIT_VALUE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="TVI",this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.limitValue=.5,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._tvi=0},o.prototype.onBarUpdate=function(){var t,e;this.currentBar<1||(t=this.values.get(this.name),(e=this.input.get(0)-this.input.get(1))>this.limitValue?this._direction=1:e<-this.limitValue&&(this._direction=-1),e<=this.limitValue&&e>=-this.limitValue&&(this._direction=this._lastDirection),this._lastDirection=this._direction,1===this._direction?this._tvi=this._tvi+this.volume.get(0):-1===this._direction&&(this._tvi=this._tvi-this.volume.get(0)),this._tvi/=1e4,t.set(this._tvi))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.TVI=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"TMF"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="TMF",this.period=14,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._ema=this.EMA(this.volume,this.period),this._ema2=this.EMA(this.values.get(this.name),this.period),this._high=new e.TADataSeries("high",this),this._low=new e.TADataSeries("low",this)},o.prototype.onBarUpdate=function(){var t,e,i,o;this.currentBar<1||(t=this._ema.values.get(0),e=this.values.get(this.name),i=this._high,o=this._low,i.set(Math.max(this.high.get(0),this.close.get(1))),o.set(Math.min(this.low.get(0),this.close.get(1))),e.set((this.close.get(0)-o.get(0)-(i.get(0)-this.close.get(0)))/(i.get(0)-o.value(0))*this.volume.get(0)),o=this._ema2.values.get(0),e.set(o.get(0)/t.get(0)))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.TMF=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"WWS"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="WWS",this.period=14,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this._isOverlay=!0,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e;this.currentBar<1||(e=(t=this.values.get(this.name)).get(1)+1/this.period*(this.input.get(0)-t.get(1)),t.set(e))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.WWS=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"CFO"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="CFO",this.period=14,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._tsf=this.TSF(this.input,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._tsf.values.get(0),e=(this.input.get(0)-e.get(0))/this.input.get(0)*100;t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.CFO=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"EFT"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="EFT",this.period=14,this.addPlot(this.indicatorTheme.line2.strokeColor,"Indicator"),this.addPlot(this.indicatorTheme.line3.strokeColor,"Indicator Trigger")},o.prototype.setConfigure=function(){this._max=this.MAX(this.median,this.period),this._min=this.MIN(this.median,this.period),this._value1=0,this._prevValue1=0,this._prevFish=0},o.prototype.onBarUpdate=function(){var t=this.values.get("Indicator"),e=this.values.get("Indicator Trigger"),i=this._max.values.get(0),o=this._min.values.get(0);i.get(0)!==o.get(0)?this._value1=.66*((this.median.get(0)-o.get(0))/(i.get(0)-o.get(0))-.5)+.67*this._prevValue1:this._value1=0,.99<this._value1&&(this._value1=.999),this._value1<-.99&&(this._value1=-.999);o=.5*Math.log((1+this._value1)/(1-this._value1))+.5*this._prevFish;t.set(o),e.set(this._prevFish),this._prevValue1=this._value1,this._prevFish=o},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.EFT=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"PGO"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="PGO",this.period=14,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._sma=this.SMA(this.close,this.period),this._tr=this.TrueRange(null,this.period),this._ema=this.EMA(this._tr,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._sma.values.get(0),i=this._ema.values.get(0);0!==i.get(0)?t.set((this.close.get(0)-e.get(0))/i.get(0)):t.set(null)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.PGO=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"PNO"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="PNO",this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._top=0,this._bottom=0},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.close.get(0);e<10&&(e*=10);for(var i=e;1<i;--i)if(this._isPrime(i)){this._bottom=i;break}for(i=e;i<2*e;++i)if(this._isPrime(i)){this._top=i;break}Math.abs(e-this._top)<Math.abs(e-this._bottom)?t.set(e-this._top):t.set(e-this._bottom)},o.prototype._isPrime=function(t){if(3<t){if(!(t%2))return!1;if(!(t%3))return!1}for(var e=5,i=2,o=Math.sqrt(t)+1;e<=o;){if(!(t%e))return!1;e+=i,i=6-i}return!0},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.PNO=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"WAD"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="WAD",this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e,i;this.currentBar<1||(t=this.values.get(0),e=this.close.get(1),this.high.get(0)>e&&(e=this.high.get(0)),i=this.close.get(1),this.low.get(0)<i&&(i=this.low.get(0)),e=this.close.get(0)>this.close.get(1)?this.close.get(0)-i:this.close.get(0)<this.close.get(1)?this.close.get(0)-e:0,t.set(e+t.get(1)))},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.WAD=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"RIND"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"periodQ",{get:function(){return this.getParameterValue(e.IndicatorParam.Q_PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.Q_PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"smooth",{get:function(){return this.getParameterValue(e.IndicatorParam.SMOOTH)},set:function(t){this.setParameterValue(e.IndicatorParam.SMOOTH,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="RIND",this.periodQ=3,this.smooth=10,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._stochRange=new e.TADataSeries("stochRange",this),this._val1=new e.TADataSeries("val",this),this._ema=this.EMA(this._stochRange,this.smooth),this._min=this.MIN(this._val1,this.periodQ),this._max=this.MAX(this._val1,this.periodQ)},o.prototype.onBarUpdate=function(){var t,e,i,o,r=this.values.get(this.name);0!==this.currentBar?(t=this.high.get(0),i=this.low.get(0),e=this.close.get(0),o=this.close.get(1),i=Math.max(t,o)-Math.min(i,o),this._val1.set(e=o<e?i/(e-o):i),o=this._min.values.get(0).get(0),i=this._max.values.get(0).get(0),this._stochRange.set(0<i-o?(e-o)/(i-o)*100:100*(e-o)),o=this._ema.values.get(0),r.set(o.get(0))):this._stochRange.set(50)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.RIND=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"DEMA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="DEMA",this.period=14,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._ema=this.EMA(this.input,this.period),this._emaEma=this.EMA(this._ema,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._ema.values.get(0),i=this._emaEma.values.get(0),i=2*e.get(0)-i.get(0);t.set(i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.DEMA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){var t,e=(t=n.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"KAMA"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(n.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(n.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(n.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(n.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fast",{get:function(){return this.getParameterValue(n.IndicatorParam.FAST)},set:function(t){this.setParameterValue(n.IndicatorParam.FAST,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"slow",{get:function(){return this.getParameterValue(n.IndicatorParam.SLOW)},set:function(t){this.setParameterValue(n.IndicatorParam.SLOW,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="KAMA",this.period=14,this.fast=25,this.slow=40,this._isOverlay=!1,this.inputSeriesKind=n.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},i.prototype.setConfigure=function(){this._fastCF=2/(this.fast+1),this._slowCF=2/(this.slow+1),this._diffSeries=new n.TADataSeries("diffSeries",this),this._sum=this.SUM(this._diffSeries,this.period)},i.prototype.onBarUpdate=function(){var t,e,i=this.values.get(this.name),o=this.input.get(0),r=0<this.currentBar?Math.abs(o-this.input.get(1)):o;this._diffSeries.set(r),this.currentBar<this.period?i.set(o):(t=Math.abs(o-this.input.get(this.period)),e=this._sum.values.get(0).get(0),n.JsUtil.equals(e,0)?i.set(i.get(1)):(r=(r=i.get(1))+Math.pow(t/e*(this._fastCF-this._slowCF)+this._slowCF,2)*(o-r),i.set(r)))},i);function i(){return null!==t&&t.apply(this,arguments)||this}n.KAMA=e,n.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"DBox"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="DBox",this.period=5,this._isOverlay=!0,this.addPlot(this.indicatorTheme.line1.strokeColor,"Top"),this.addPlot(this.indicatorTheme.line1.strokeColor,"Bottom")},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){for(var t=this.high,e=this.low,i=this.values.get("Top"),o=this.values.get("Bottom"),r=e.get(0),n=t.get(0),a=null,l=null,s=0;s<this.period&&1<=this.currentBar-s;s++)var c=s+1,n=Math.max(n,t.value(this.currentBar-s)),r=Math.min(r,e.value(this.currentBar-s)),a=c===this.period?n:a,l=this.period?r:l;i.set(a),o.set(l)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.DBox=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"TEMA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="TEMA",this.period=14,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._ema1=this.EMA(this.input,this.period),this._ema2=this.EMA(this._ema1,this.period),this._ema3=this.EMA(this._ema2,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=3*this._ema1.values.get(0).get(0)-3*this._ema2.values.get(0).get(0)+this._ema3.values.get(0).get(0);t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.TEMA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(o){(e=o.VWAPValueBand||(o.VWAPValueBand={})).BAND_11="VWAPValueBand11",e.BAND_12="VWAPValueBand12",e.BAND_21="VWAPValueBand21",e.BAMD_22="VWAPValueBand22",e.BAND_31="VWAPValueBand31",e.BAND_32="VWAPValueBand32";var t,e=(t=o.AdvancedIndicator,__extends(r,t),Object.defineProperty(r,"className",{get:function(){return"VWAP"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showValueMarkers",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"period",{get:function(){return this.getParameterValue(o.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(o.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"setting",{get:function(){return this._vwapPlot.settings},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"settings",{set:function(t){var e=o.JsUtil.merge(this._settings,t),i=!!this._handleSettings(e);this._vwapPlot.settings=t,this._settings=e,this.chart.setNeedsUpdate(i)},enumerable:!0,configurable:!0}),r.prototype.setDefaults=function(){var t,e,i;this.name=r.className,this.period=14,this._isOverlay=!0,this.chart&&(t=new o.TADataSeries(this.name,this),e=this.linePlots.length,i=this._lineTheme(e),this._addLineParameters(e,this.indicatorTheme.line1.strokeColor,void 0,void 0),this._vwapPlot=new o.VWAPPlot({dataSeries:t,theme:i}),this._plots.push(this._vwapPlot),this.values.add(t))},r.prototype.setConfigure=function(){},r.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.volume,i=this.typical,o=0,r=0;if(!(this.currentBar<this.period)){for(var n=this.period;0<n;n--){var a=e.get(n);o+=a*i.get(n),r+=a}var l=this.volume.get(0);o+=l*i.get(0),t.set(o/(r+=l))}},r.prototype._handleSettings=function(t){return!!this._vwapPlot&&(this._vwapPlot.settings=t,this.settings=t,this.update(!0),!0)},r);function r(){return null!==t&&t.apply(this,arguments)||this}o.VWAP=e,o.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"TRIX"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"signalPeriod",{get:function(){return this.getParameterValue(e.IndicatorParam.SIGNAL_PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.SIGNAL_PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="TRIX",this.period=14,this.signalPeriod=3,this._isOverlay=!1,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line2.strokeColor,"Default"),this.addPlot(this.indicatorTheme.line3.strokeColor,"TRIXSignal"),this.addLine(this.levelsTheme.line1.strokeColor,0)},o.prototype.setConfigure=function(){this._ema1=this.EMA(this.input,this.period),this._ema2=this.EMA(this._ema1,this.period),this._emaTriple=this.EMA(this._ema2,this.period),this._default=this.values.get("Default"),this._trixSignal=this.values.get("TRIXSignal"),this._emaDefault=this.EMA(this._default,this.signalPeriod)},o.prototype.onBarUpdate=function(){var t,e;0!==this.currentBar&&(t=this._emaTriple.values.get(0).get(0),e=this._emaTriple.values.get(0).get(1),this._default.set((t-e)/t*100),this._trixSignal.set(this._emaDefault.values.get(0).get(0)))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.TRIX=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"ADXR"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="ADXR",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line1.strokeColor,25),this.addLine(this.levelsTheme.line2.strokeColor,75)},o.prototype.setConfigure=function(){this._adx=this.ADX(null,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._adx.values.get("ADX"),i=e.get(0),e=this.currentBar<this.period?(i+e.get(this.currentBar))/2:(i+e.get(this.period))/2;t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.ADXR=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"FOSC"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="FOSC",this.period=14,this._isOverlay=!1,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line1.strokeColor,0)},o.prototype.setConfigure=function(){this._tsf=this.TSF(this.input,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.input.get(0),e=(e-this._tsf.values.get(0).get(0))/e*100;t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.FOSC=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"MACD"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"fast",{get:function(){return this.getParameterValue(e.IndicatorParam.FAST)},set:function(t){this.setParameterValue(e.IndicatorParam.FAST,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"slow",{get:function(){return this.getParameterValue(e.IndicatorParam.SLOW)},set:function(t){this.setParameterValue(e.IndicatorParam.SLOW,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"smooth",{get:function(){return this.getParameterValue(e.IndicatorParam.SMOOTH)},set:function(t){this.setParameterValue(e.IndicatorParam.SMOOTH,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="MACD",this.period=14,this.fast=12,this.slow=26,this.smooth=9,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,"MACD"),this.addPlot(this.indicatorTheme.line3.strokeColor,"Down"),this.addPlot(this.indicatorTheme.histogram.color,"Diff",e.HistogramPlot.Style.COLUMN),this.addLine("gray",0)},o.prototype.setConfigure=function(){this._constant1=2/(1+this.fast),this._constant2=1-2/(1+this.fast),this._constant3=2/(1+this.slow),this._constant4=1-2/(1+this.slow),this._constant5=2/(1+this.smooth),this._constant6=1-2/(1+this.smooth),this._fastEma=new e.TADataSeries("fastEma",this),this._slowEma=new e.TADataSeries("slowEma",this)},o.prototype.onBarUpdate=function(){var t,e,i,o,r=this.input.get(0),n=this.values.get("MACD"),a=this.values.get("Down"),l=this.values.get("Diff");0===this.currentBar?(this._fastEma.set(r),this._slowEma.set(r),n.set(0),a.set(0),l.set(0)):(r=(i=(t=this._constant1*r+this._constant2*this._fastEma.get(1))-(e=this._constant3*r+this._constant4*this._slowEma.get(1)))-(o=this._constant5*i+this._constant6*a.get(1)),this._fastEma.set(t),this._slowEma.set(e),n.set(i),a.set(o),l.set(r))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.MACD=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"VROC"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"smooth",{get:function(){return this.getParameterValue(e.IndicatorParam.SMOOTH)},set:function(t){this.setParameterValue(e.IndicatorParam.SMOOTH,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="VROC",this.period=14,this._isOverlay=!1,this.smooth=3,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line5.strokeColor,0)},o.prototype.setConfigure=function(){this._smaVolume=new e.TADataSeries("dmPlus",this),this._sma=this.SMA(this._smaVolume,this.smooth)},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name);this.currentBar<this.period?e.set(null):(t=this.volume.get(Math.min(this.currentBar,this.period-1)),t=100*this.volume.get(0)/((0===t?1:t)-100),this._smaVolume.set(t),t=this._sma.values.get(0),e.set(t.get(0)))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.VROC=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"RAVI"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"shortCycle",{get:function(){return this.getParameterValue(e.IndicatorParam.SHORT_CYCLE)},set:function(t){this.setParameterValue(e.IndicatorParam.SHORT_CYCLE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"longCycle",{get:function(){return this.getParameterValue(e.IndicatorParam.LONG_CYCLE)},set:function(t){this.setParameterValue(e.IndicatorParam.LONG_CYCLE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="RAVI",this.shortCycle=9,this.longCycle=14,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._vidyaShort=this.VIDYA(this.input,this.shortCycle),this._vidyaLong=this.VIDYA(this.input,this.longCycle)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._vidyaShort.values.get(0),i=this._vidyaLong.values.get(0);t.set(Math.abs(e.get(0)-i.get(0))/i.get(0)*100)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.RAVI=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"VIDYA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"r2Scale",{get:function(){return this.getParameterValue(e.IndicatorParam.R2_SCALE)},set:function(t){this.setParameterValue(e.IndicatorParam.R2_SCALE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="VIDYA",this.period=14,this.r2Scale=.65,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this._isOverlay=!0,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._lr=this.LinearRegression(this.input,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._lr.values.get(0),i=this.input.get(1),e=e.get(0)*this.r2Scale;t.set(e*this.input.get(0)+(1-e)*i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.VIDYA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"VOLMA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="VOLMA",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._ema=this.EMA(this.volume,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._ema.values.get(0);t.set(e.get(0))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.VOLMA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"ZLEMA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="ZLEMA",this.period=14,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._k=2/(this.period+1),this._oneMinusK=1-this._k,this._lag=Math.ceil((this.period-1)/2)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.currentBar<this._lag?this.input.get(0):this._k*(2*this.input.get(0)-this.input.get(this._lag))+this._oneMinusK*t.get(1);t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.ZLEMA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"Range"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="Range",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.high.get(0)-this.low.get(0);t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.Range=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"StdDev"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="StdDev",this.period=14,this._isOverlay=!1,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._sumSeries=new e.TADataSeries("SumSeries",this)},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name);if(this.currentBar<1)this._sumSeries.set(this.input.get(0)),t=0;else{this._sumSeries.set(this.input.get(0)+this._sumSeries.get(1)-(this.currentBar>=this.period?this.input.get(this.period):0));for(var i=this._sumSeries.get(0)/Math.min(this.currentBar+1,this.period),o=0,r=Math.min(this.currentBar,this.period-1);0<=r;r--)o+=(this.input.get(r)-i)*(this.input.get(r)-i);t=Math.sqrt(o/Math.min(this.currentBar+1,this.period))}e.set(t)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.StdDev=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"Aroon"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="Aroon",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line2.strokeColor,"Up"),this.addPlot(this.indicatorTheme.line3.strokeColor,"Down"),this.addLine(this.levelsTheme.line1.strokeColor,30),this.addLine(this.levelsTheme.line2.strokeColor,70)},o.prototype.setConfigure=function(){this._runningMax=0,this._runningMaxBar=0,this._runningMin=0,this._runningMinBar=0},o.prototype.onBarUpdate=function(){var t=this.high.get(0),e=this.low.get(0),i=this.values.get("Down"),o=this.values.get("Up");if(0===this.currentBar)return i.set(0),o.set(0),this._runningMax=t,this._runningMin=e,this._runningMaxBar=0,void(this._runningMinBar=0);var r=Math.min(this.period,this.currentBar);if(this.currentBar-this._runningMaxBar>=this.period){this._runningMax=Number.MIN_VALUE;for(var n=r;0<n;n--)this.high.get(n)>=this._runningMax&&(this._runningMax=this.high.get(n),this._runningMaxBar=this.currentBar-n)}if(this.currentBar-this._runningMinBar>=this.period){this._runningMin=Number.MAX_VALUE;for(n=r;0<n;n--)this.low.get(n)<=this._runningMin&&(this._runningMin=this.low.get(n),this._runningMinBar=this.currentBar-n)}t>=this._runningMax&&(this._runningMax=t,this._runningMaxBar=this.currentBar),e<=this._runningMin&&(this._runningMin=e,this._runningMinBar=this.currentBar);e=(r-(this.currentBar-this._runningMaxBar))/r*100;o.set(e);r=(r-(this.currentBar-this._runningMinBar))/r*100;i.set(r)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.Aroon=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"Momentum"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="Momentum",this.period=14,this._isOverlay=!1,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.indicatorTheme.line1.strokeColor,0)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=0!==this.currentBar?this.input.get(0)-this.input.get(Math.min(this.currentBar,this.period)):0;t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.Momentum=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){var t,e=(t=i.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"Stochastics"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"periodD",{get:function(){return this.getParameterValue(i.IndicatorParam.PCT_D_PERIODS)},set:function(t){this.setParameterValue(i.IndicatorParam.PCT_D_PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"periodK",{get:function(){return this.getParameterValue(i.IndicatorParam.PCT_K_PERIODS)},set:function(t){this.setParameterValue(i.IndicatorParam.PCT_K_PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"smooth",{get:function(){return this.getParameterValue(i.IndicatorParam.SMOOTH)},set:function(t){this.setParameterValue(i.IndicatorParam.SMOOTH,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="Stochastics",this.periodD=7,this.periodK=14,this.smooth=3,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line2.strokeColor,"StochasticsD"),this.addPlot(this.indicatorTheme.line3.strokeColor,"StochasticsK"),this.addLine(this.levelsTheme.line1.strokeColor,20),this.addLine(this.levelsTheme.line1.strokeColor,80)},o.prototype.setConfigure=function(){this._den=new i.TADataSeries("den",this),this._nom=new i.TADataSeries("nom",this),this._fastK=new i.TADataSeries("fastK",this),this._min=this.MIN(this.low,this.periodK),this._max=this.MAX(this.high,this.periodK),this._smaFastK=this.SMA(this._fastK,this.smooth),this._k=this.values.get("StochasticsK"),this._d=this.values.get("StochasticsD"),this._smaK=this.SMA(this._k,this.periodD)},o.prototype.onBarUpdate=function(){var t=this._min.values.get(0).get(0),e=this.close.get(0)-t;this._nom.set(e);t=this._max.values.get(0).get(0)-t;this._den.set(t),t=0===i.JsUtil.approxCompare(this._den.get(0),0)?0===this.currentBar?50:this._fastK.get(1):Math.min(100,Math.max(0,100*this._nom.get(0)/this._den.get(0))),this._fastK.set(t),this._k.set(this._smaFastK.values.get(0).get(0)),this._d.set(this._smaK.values.get(0).get(0))},o);function o(){return null!==t&&t.apply(this,arguments)||this}i.Stochastics=e,i.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){var t,e=(t=i.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"StochasticsFast"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"periodD",{get:function(){return this.getParameterValue(i.IndicatorParam.PCT_D_PERIODS)},set:function(t){this.setParameterValue(i.IndicatorParam.PCT_D_PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"periodK",{get:function(){return this.getParameterValue(i.IndicatorParam.PCT_K_PERIODS)},set:function(t){this.setParameterValue(i.IndicatorParam.PCT_K_PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="StochasticsFast",this.periodD=3,this.periodK=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line2.strokeColor,"StochasticsD"),this.addPlot(this.indicatorTheme.line3.strokeColor,"StochasticsK"),this.addLine(this.levelsTheme.line1.strokeColor,20),this.addLine(this.levelsTheme.line1.strokeColor,80)},o.prototype.setConfigure=function(){this._den=new i.TADataSeries("den",this),this._nom=new i.TADataSeries("nom",this),this._min=this.MIN(this.low,this.periodK),this._max=this.MAX(this.high,this.periodK),this._k=this.values.get("StochasticsK"),this._d=this.values.get("StochasticsD"),this._smaK=this.SMA(this._k,this.periodD)},o.prototype.onBarUpdate=function(){var t=this._min.values.get(0).get(0),e=this.close.get(0)-t;this._nom.set(e);t=this._max.values.get(0).get(0)-t;this._den.set(t),t=0===i.JsUtil.approxCompare(this._den.get(0),0)?0===this.currentBar?50:this._k.get(1):Math.min(100,Math.max(0,100*this._nom.get(0)/this._den.get(0))),this._k.set(t),this._d.set(this._smaK.values.get(0).get(0))},o);function o(){return null!==t&&t.apply(this,arguments)||this}i.StochasticsFast=e,i.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"MAEnvelopes"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"envelopePercentage",{get:function(){return this.getParameterValue(e.IndicatorParam.ENVELOPE_PERCENTAGE)},set:function(t){this.setParameterValue(e.IndicatorParam.ENVELOPE_PERCENTAGE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maType",{get:function(){return this.getParameterValue(e.IndicatorParam.MA_TYPE)},set:function(t){this.setParameterValue(e.IndicatorParam.MA_TYPE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="MAEnvelopes",this.period=14,this.envelopePercentage=1.5,this.maType=2,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this._isOverlay=!0,this.addPlot(this.indicatorTheme.line2.strokeColor,"Upper"),this.addPlot(this.indicatorTheme.line1.strokeColor,"Middle"),this.addPlot(this.indicatorTheme.line3.strokeColor,"Lower")},o.prototype.setConfigure=function(){this._ema=this.EMA(this.input,this.period),this._hma=this.HMA(this.input,this.period),this._sma=this.SMA(this.input,this.period),this._tma=this.TMA(this.input,this.period),this._tema=this.TEMA(this.input,this.period),this._wma=this.WMA(this.input,this.period),this._variable=this.VMA(this.input,this.period),this._wws=this.WWS(this.input,this.period),this._vidya=this.VIDYA(this.input,this.period)},o.prototype.onBarUpdate=function(){var t=0,e=this.values.get("Middle"),i=this.values.get("Upper"),o=this.values.get("Lower");switch(this.maType){case 0:t=this._ema.values.get(0).get(0),e.set(t);break;case 1:t=this._hma.values.get(0).get(0),e.set(t);break;case 2:t=this._sma.values.get(0).get(0),e.set(t);break;case 3:t=this._tma.values.get(0).get(0),e.set(t);break;case 4:t=this._tema.values.get(0).get(0),e.set(t);break;case 5:t=this._wma.values.get(0).get(0),e.set(t);break;case 6:t=this._variable.values.get(0).get(0),e.set(t);break;case 7:t=this._wws.values.get(0).get(0),e.set(t);break;case 8:t=this._vidya.values.get(0).get(0),e.set(t)}var r=t+t*this.envelopePercentage/100,n=t-t*this.envelopePercentage/100;i.set(r),o.set(n)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.MAEnvelopes=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"NBarsDown"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"barCount",{get:function(){return this.getParameterValue(e.IndicatorParam.BAR_COUNT)},set:function(t){this.setParameterValue(e.IndicatorParam.BAR_COUNT,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="NBarsDown",this.period=14,this.barCount=3,this._isOverlay=!1,this.barDown=!0,this.lowerHigh=!0,this.lowerLow=!0,this.addPlot(this.indicatorTheme.line3.strokeColor,this.name,e.HistogramPlot.Style.COLUMN)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name);if(this.currentBar<this.barCount)t.set(0);else{for(var e=!1,i=0;i<this.barCount+1;i++){if(i===this.barCount){e=!0;break}if(!(this.close.get(i)<this.close.get(i+1)))break;if(this.barDown&&!(this.close.get(i)<this.open.get(i)))break;if(this.lowerHigh&&!(this.high.get(i)<this.high.get(i+1)))break;if(this.lowerLow&&!(this.low.get(i)<this.low.get(i+1)))break}t.set(e?1:0)}},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.NBarsDown=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"VolumeUpDown"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="VolumeUpDown",this._isOverlay=!1,this.addPlot("green","VolumeUp",t.HistogramPlot.Style.COLUMN),this.addPlot("red","VolumeDown",t.HistogramPlot.Style.COLUMN),this.addLine(this.levelsTheme.line5.strokeColor,0)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get("VolumeUp"),e=this.values.get("VolumeDown");this.close.get(0)>=this.open.get(0)?(e.set(null),t.set(this.volume.get(0))):(t.set(null),e.set(this.volume.get(0)))},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.VolumeUpDown=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"NBarsUp"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"barCount",{get:function(){return this.getParameterValue(e.IndicatorParam.BAR_COUNT)},set:function(t){this.setParameterValue(e.IndicatorParam.BAR_COUNT,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="NBarsUp",this.period=14,this._isOverlay=!1,this.barCount=3,this.barUp=!0,this.higherHigh=!0,this.higherLow=!0,this.addPlot(this.indicatorTheme.histogram.color,this.name,e.HistogramPlot.Style.COLUMN)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name);if(this.currentBar<this.barCount)t.set(0);else{for(var e=!1,i=0;i<this.barCount+1;i++){if(i===this.barCount){e=!0;break}if(!(this.close.get(i)>this.close.get(i+1)))break;if(this.barUp&&!(this.close.get(i)>this.open.get(i)))break;if(this.higherHigh&&!(this.high.get(i)>this.high.get(i+1)))break;if(this.higherLow&&!(this.low.get(i)>this.low.get(i+1)))break}t.set(e?1:0)}},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.NBarsUp=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"LogChange"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="LogChange",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name);0!==this.currentBar&&(t=0<(t=Math.abs(this.close.get(0)-this.close.get(1)))?Math.log(t):0,e.set(t))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.LogChange=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"Bollinger"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"numStdDev",{get:function(){return this.getParameterValue(e.IndicatorParam.STANDARD_DEVIATIONS)},set:function(t){this.setParameterValue(e.IndicatorParam.STANDARD_DEVIATIONS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="Bollinger",this.period=14,this.numStdDev=2,this._isOverlay=!0,this.addPlot(this.indicatorTheme.line2.strokeColor,"UpperBand"),this.addPlot(this.indicatorTheme.line1.strokeColor,"MiddleBand"),this.addPlot(this.indicatorTheme.line3.strokeColor,"LowerBand")},o.prototype.setConfigure=function(){this._sma=this.SMA(null,this.period),this._stdDev=this.StdDev(null,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get("UpperBand"),e=this.values.get("MiddleBand"),i=this.values.get("LowerBand"),o=this._sma.values.get("SMA"),r=this._stdDev.values.get("StdDev"),n=o.get(0)+this.numStdDev*r.get(0),r=o.get(0)-this.numStdDev*r.get(0);t.set(n),e.set(o.get(0)),i.set(r)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.Bollinger=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(s){var t,e=(t=s.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"AroonOscillator"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(s.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(s.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="AroonOscillator",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line1.strokeColor,0)},i.prototype.setConfigure=function(){},i.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name);if(0===this.currentBar)t=0;else{for(var i=Math.min(this.period,this.currentBar),o=-1,r=-1,n=Number.MIN_VALUE,a=Number.MAX_VALUE,l=i;0<=l;l--)0<=s.JsUtil.approxCompare(this.high.get(i-l),n)&&(n=this.high.get(i-l),o=this.currentBar-i+l),s.JsUtil.approxCompare(this.low.get(i-l),a)<=0&&(a=this.low.get(i-l),r=this.currentBar-i+l);t=(i-(this.currentBar-o))/i*100-(i-(this.currentBar-r))/i*100}e.set(t)},i);function i(){return null!==t&&t.apply(this,arguments)||this}s.AroonOscillator=e,s.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"TypicalPrice"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="TypicalPrice",this._isOverlay=!0,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.typical.get(0);t.set(e)},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.TypicalPrice=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"MedianPrice"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="MedianPrice",this._isOverlay=!0,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.median.get(0);t.set(e)},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.MedianPrice=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"WeightedClose"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="WeightedClose",this.period=14,this._isOverlay=!0,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.high.get(0),i=this.low.get(0),o=this.close.get(0);t.set((e+i+2*o)/4)},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.WeightedClose=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"SwingIndex"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"limitValue",{get:function(){return this.getParameterValue(e.IndicatorParam.LIMIT_VALUE)},set:function(t){this.setParameterValue(e.IndicatorParam.LIMIT_VALUE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="SwingIndex",this.limitValue=.5,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name);if(this.limitValue<=0)return null;this._oy=this.open.get(1),this._ot=this.open.get(0),this._ht=this.high.get(0),this._lt=this.low.get(0),this._cy=this.close.get(1),this._ct=this.close.get(0),!(Math.abs(this._ht-this._cy)>Math.abs(this._lt-this._cy))&&Math.abs(this._lt-this._cy)>Math.abs(this._ht-this._cy)?this._k=Math.abs(this._lt-this._cy):this._k=Math.abs(this._ht-this._cy),this._a=Math.abs(this._ht-this._cy),this._b=Math.abs(this._lt-this._cy),this._c=Math.abs(this._ht-this._lt),this._a>this._b&&this._a>this._c?this._r=Math.abs(this._ht-this._cy)-.5*Math.abs(this._lt-this._cy)+.25*Math.abs(this._cy-this._oy):this._b>this._a&&this._b>this._c?this._r=Math.abs(this._lt-this._cy)-.5*Math.abs(this._ht-this._cy)+.25*Math.abs(this._cy-this._oy):this._c>this._a&&this._c>this._b&&(this._r=Math.abs(this._ht-this._lt)+.25*Math.abs(this._cy-this._oy)),t=0<this._r&&0<this.limitValue?50*(this._ct-this._cy+.5*(this._ct-this._ot)+.25*(this._cy-this._oy))/this._r*this._k/this.limitValue:0,e.set(t)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.SwingIndex=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"ElderThermometer"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="ElderThermometer",this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e,i;this.currentBar<1||(t=this.values.get(this.name),i=this.volume,e=this.high,e=Math.abs(e.get(0)-e.get(1)),i=Math.abs(i.get(1)-i.get(0)),i=Math.max(e,i),t.set(i))},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.ElderThermometer=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var i,t=(i=e.Indicator,__extends(o,i),Object.defineProperty(o,"className",{get:function(){return"HistoricalVolatility"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="HistoricalVolatility",this.period=14,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._stdSeries=new e.TADataSeries("stdSeries",this),this._stdDev=this.StdDev(this._stdSeries,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.input;this.currentBar<2||(e=Math.log(e.get(0)/e.get(1)),this._stdSeries.set(e),e=this._stdDev.values.get(0).get(0)*Math.sqrt(this._barHistory),t.set(e))},o);function o(){var t=null!==i&&i.apply(this,arguments)||this;return t._barHistory=10,t}e.HistoricalVolatility=t,e.Indicator.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"MarketFacilitationIndex"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="MarketFacilitationIndex",this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){this.values.get(this.name).set(this.high.get(0)-this.low.get(0)/(this.volume.get(0)/1e8))},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.MarketFacilitationIndex=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"PerformanceIndex"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="PerformanceIndex",this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name);this.currentBar<2?this._firstPrice=this.input.get(0):(t=(this.input.get(0)-this._firstPrice)/this._firstPrice*100,e.set(t))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.PerformanceIndex=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"McGinleysDynamic"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="McGinleysDynamic",this.period=14,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this._isOverlay=!0,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._ema=this.EMA(this.input,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._ema.values.get(0),e=e.get(1)+(this.input.get(0)-e.get(1))/(this.input.get(0)/e.get(1)*125);t.set(e)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.McGinleysDynamic=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"LinearRegression"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="LinearRegression",this.period=14,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){if(!(this.currentBar<this.period+1)){for(var t=this.values.get(0),e=0,i=this.period,o=new Array(i),r=1,n=this.period,a=this.period+1;1<a;a--){var l=this.input.get(n);o[r]=l,r++,n--}for(var s=0,c=0,h=0,u=0,f=0,d=1;d<i+1;d++)s+=d,c+=o[d],h+=d*d,u+=o[d]*o[d],f+=o[d]*d;var p=f-s*c/(d=i),y=h-s*s/d,m=u-c*c/d;t.set(e=p*p&&y*m?p*p/(y*m):e)}},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.LinearRegression=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"CenterOfGravity"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="CenterOfGravity",this.period=14,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){for(var t=this.values.get(this.name),e=0,i=0,o=1,r=this.period;0<r;r--)e+=this.input.get(r)*(o+1),i+=this.input.get(r),o++;t.set(+e/i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.CenterOfGravity=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"CoppockCurve"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="CoppockCurve",this.period=14,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._roc=this.ROC(this.input,14),this._roc1=this.ROC(this.input,11),this._series=new e.TADataSeries("series",this),this._wma=this.WMA(this._series,11)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._roc.values.get(0),i=this._roc1.values.get(0),i=e.get(0)+i.get(0);this._series.set(i);i=this._wma.values.get(0).get(0);t.set(i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.CoppockCurve=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.Indicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"TrueRange"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="TrueRange",this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.high.get(0)-this.low.get(0),i=Math.abs(this.high.get(0)-this.close.get(0)),o=Math.abs(this.close.get(0)-this.low.get(0)),r=0;t.set(r=(r=(r=r<e?e:r)<i?i:r)<o?o:r)},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.TrueRange=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"LinearRegressionForecast"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="LinearRegressionForecast",this.period=14,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){if(!(this.currentBar<this.period+1)){for(var t=this.values.get(0),e=this.period,i=new Array(e),o=1,r=this.period,n=this.period+1;1<n;n--){var a=this.input.get(r);i[o]=a,o++,r--}for(var l=0,s=0,c=0,h=0,u=1;u<e+1;u++)l+=u,s+=i[u],c+=u*u,h+=i[u]*u;var f=(h-l*s/(u=e))/(c-l*l/u),d=1/u*s-parseInt(u/2,10)*f;t.set(u*f+d)}},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.LinearRegressionForecast=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"LinearRegressionSlope"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="LinearRegressionSlope",this.period=14,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){if(!(this.currentBar<this.period+1)){for(var t=this.values.get(0),e=this.period,i=new Array(e),o=1,r=this.period,n=this.period+1;1<n;n--){var a=this.input.get(r);i[o]=a,o++,r--}for(var l=0,s=0,c=0,h=0,u=1;u<e+1;u++)l+=u,s+=i[u],c+=u*u,h+=i[u]*u;t.set((h-l*s/(u=e))/(c-l*l/u))}},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.LinearRegressionSlope=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"LinearRegressionIntercept"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="LinearRegressionIntercept",this.period=14,this._isOverlay=!0,this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){if(!(this.currentBar<this.period+1)){for(var t=this.values.get(0),e=this.period,i=new Array(e),o=1,r=this.period,n=this.period+1;1<n;n--){var a=this.input.get(r);i[o]=a,o++,r--}for(var l=0,s=0,c=0,h=0,u=1;u<e+1;u++)l+=u,s+=i[u],c+=u*u,h+=i[u]*u;var f=(h-l*s/(u=e))/(c-l*l/u),f=1/u*s-parseInt(u/2,10)*f;t.set(f)}},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.LinearRegressionIntercept=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"HighLowBands"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="HighLowBands",this.period=14,this._isOverlay=!0,this.addPlot(this.indicatorTheme.line2.strokeColor,"Upper"),this.addPlot(this.indicatorTheme.line1.strokeColor,"Middle"),this.addPlot(this.indicatorTheme.line3.strokeColor,"Lower")},o.prototype.setConfigure=function(){this._vidyaHigh=this.VIDYA(this.high,this.period),this._vidyaClose=this.VIDYA(this.close,this.period),this._vidyaLow=this.VIDYA(this.low,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get("Upper"),e=this.values.get("Middle"),i=this.values.get("Lower"),o=this._vidyaHigh.values.get(0),r=this._vidyaClose.values.get(0),n=this._vidyaLow.values.get(0);t.set(o.get(0)),e.set(r.get(0)),i.set(n.get(0))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.HighLowBands=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"ElderRay"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maType",{get:function(){return this.getParameterValue(e.IndicatorParam.MA_TYPE)},set:function(t){this.setParameterValue(e.IndicatorParam.MA_TYPE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="ElderRay",this.period=14,this.maType=2,this.addPlot(this.indicatorTheme.line2.strokeColor,"BullPower"),this.addPlot(this.indicatorTheme.line3.strokeColor,"BearPower")},o.prototype.setConfigure=function(){this._ema=this.EMA(this.input,this.period),this._hma=this.HMA(this.input,this.period),this._sma=this.SMA(this.input,this.period),this._tma=this.TMA(this.input,this.period),this._tema=this.TEMA(this.input,this.period),this._wma=this.WMA(this.input,this.period),this._variable=this.VMA(this.input,this.period),this._wws=this.WWS(this.input,this.period),this._vidya=this.VIDYA(this.input,this.period)},o.prototype.onBarUpdate=function(){var t=0,e=this.values.get("BullPower"),i=this.values.get("BearPower");switch(this.maType){case 0:t=this._ema.values.get(0).get(0);break;case 1:t=this._hma.values.get(0).get(0);break;case 2:t=this._sma.values.get(0).get(0);break;case 3:t=this._tma.values.get(0).get(0);break;case 4:t=this._tema.values.get(0).get(0);break;case 5:t=this._wma.values.get(0).get(0);break;case 6:t=this._variable.values.get(0).get(0);break;case 7:t=this._wws.values.get(0).get(0);break;case 8:t=this._vidya.values.get(0).get(0)}e.set(this.high.get(0)-t),i.set(t-this.low.get(0))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.ElderRay=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){var t,e=(t=r.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"StochRSI"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(r.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(r.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(r.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(r.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="StochRSI",this.period=14,this.inputSeriesKind=r.DataSeriesSuffix.CLOSE,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line1.strokeColor,.8),this.addLine(this.levelsTheme.line2.strokeColor,.5),this.addLine(this.levelsTheme.line3.strokeColor,.2)},i.prototype.setConfigure=function(){this._rsi=this.RSI(this.input,this.period,1),this._min=this.MIN(this._rsi,this.period),this._max=this.MAX(this._rsi,this.period)},i.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._rsi.values.get(0).get(0),i=this._min.values.get(0).get(0),o=this._max.values.get(0).get(0),i=r.JsUtil.equals(e,i)||r.JsUtil.equals(o,i)?0:(e-i)/(o-i);t.set(i)},i);function i(){return null!==t&&t.apply(this,arguments)||this}r.StochRSI=e,r.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"DeviationToMA"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="DeviationToMA",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){var t,e=this.values.get(this.name);0===this.currentBar||0!==(t=this.getAverage(this.close,this.currentBar))&&(t=(this.close.get(0)-t)/t,e.set(t))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.DeviationToMA=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(a){var t,e=(t=a.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"ChaikinMoneyFlow"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(a.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(a.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="ChaikinMoneyFlow",this.period=21,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},i.prototype.setConfigure=function(){this._moneyFlow=new a.TADataSeries("moneyFlow",this),this._sumMoneyFlow=this.SUM(this._moneyFlow,this.period),this._sumVolume=this.SUM(this.volume,this.period)},i.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.close.get(0),i=this.low.get(0),o=this.high.get(0),r=this.volume.get(0),n=this._sumVolume.values.get(0),i=r*(e-i-(o-e))/(0===a.JsUtil.approxCompare(o-i,0)?1:o-i);this._moneyFlow.set(i);n=100*this._sumMoneyFlow.values.get(0).get(0)/n.get(0);t.set(n)},i);function i(){return null!==t&&t.apply(this,arguments)||this}a.ChaikinMoneyFlow=e,a.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"ChaikinVolatility"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maPeriod",{get:function(){return this.getParameterValue(e.IndicatorParam.MA_PERIOD)},set:function(t){this.setParameterValue(e.IndicatorParam.MA_PERIOD,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rocPeriod",{get:function(){return this.getParameterValue(e.IndicatorParam.RATE_OF_CHANGE)},set:function(t){this.setParameterValue(e.IndicatorParam.RATE_OF_CHANGE,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="ChaikinVolatility",this.maPeriod=10,this.rocPeriod=10,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._ema=this.EMA(this.Range(),this.maPeriod)},o.prototype.onBarUpdate=function(){var t=this.values.get(0),e=this._ema.values.get(0),i=e.get(Math.min(this.currentBar,this.rocPeriod)),i=0===this.currentBar?e.get(0):(e.get(0)-i)/i*100;i!==Number.NEGATIVE_INFINITY&&i!==Number.POSITIVE_INFINITY||(i=0),t.set(i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.ChaikinVolatility=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){var t,e=(t=r.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"ChaikinOscillator"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(r.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(r.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fast",{get:function(){return this.getParameterValue(r.IndicatorParam.FAST)},set:function(t){this.setParameterValue(r.IndicatorParam.FAST,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"slow",{get:function(){return this.getParameterValue(r.IndicatorParam.SLOW)},set:function(t){this.setParameterValue(r.IndicatorParam.SLOW,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="ChaikinOscillator",this.period=14,this.fast=3,this.slow=10,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},i.prototype.setConfigure=function(){this._cummulative=new r.TADataSeries("Comulative",this),this._moneyFlow=new r.TADataSeries("MoneyFlow",this),this._emaFast=this.EMA(this._cummulative,this.fast),this._emaSlow=this.EMA(this._moneyFlow,this.slow)},i.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this.close.get(0),i=this.low.get(0),o=this.high.get(0),o=this.volume.get(0)*(e-i-(o-e))/(0===r.JsUtil.approxCompare(o-i,0)?1:o-i);this._moneyFlow.set(o);i=o+(0===this.currentBar?0:this._cummulative.get(1));this._cummulative.set(i);o=this._emaFast.values.get(0),i=this._emaSlow.values.get(0),i=o.get(0)-i.get(0);t.set(i)},i);function i(){return null!==t&&t.apply(this,arguments)||this}r.ChaikinOscillator=e,r.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"PriceOscillator"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"fast",{get:function(){return this.getParameterValue(e.IndicatorParam.FAST)},set:function(t){this.setParameterValue(e.IndicatorParam.FAST,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"slow",{get:function(){return this.getParameterValue(e.IndicatorParam.SLOW)},set:function(t){this.setParameterValue(e.IndicatorParam.SLOW,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"smooth",{get:function(){return this.getParameterValue(e.IndicatorParam.SMOOTH)},set:function(t){this.setParameterValue(e.IndicatorParam.SMOOTH,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="PriceOscillator",this.period=14,this.fast=12,this.slow=26,this.smooth=9,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line5.strokeColor,0)},o.prototype.setConfigure=function(){this._smoothEma=new e.TADataSeries("dmPlus",this),this._emaFast=this.EMA(null,this.fast),this._emaSlow=this.EMA(null,this.slow),this._emaSmooth=this.EMA(this._smoothEma,this.smooth)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._emaFast.values.get(0),i=this._emaSlow.values.get(0),i=e.get(0)-i.get(0);this._smoothEma.set(i);i=this._emaSmooth.values.get(0).get(0);t.set(i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.PriceOscillator=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"DonchianChannel"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="DonchianChannel",this.period=14,this._isOverlay=!0,this.addPlot(this.indicatorTheme.line2.strokeColor,"Upper"),this.addPlot(this.indicatorTheme.line1.strokeColor,"Middle"),this.addPlot(this.indicatorTheme.line3.strokeColor,"Lower")},o.prototype.setConfigure=function(){this._max=this.MAX(this.high,this.period),this._min=this.MIN(this.low,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get("Middle"),e=this.values.get("Upper"),i=this.values.get("Lower"),o=this._max.values.get(0),r=this._min.values.get(0);e.set(o.get(0)),i.set(r.get(0));r=(o.get(0)+r.get(0))/2;t.set(r)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.DonchianChannel=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"KeyReversalDown"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="KeyReversalDown",this.period=1,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._max=this.MAX(this.high,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._max.values.get(0);this.currentBar<this.period+1||(e=this.high.get(0)>e.get(1)&&this.close.get(0)<this.close.get(1)?1:0,t.set(e))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.KeyReversalDown=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"KeyReversalUp"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="KeyReversalUp",this.period=1,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name)},o.prototype.setConfigure=function(){this._min=this.MIN(this.low,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._min.values.get(0);this.currentBar<this.period+1||(e=this.low.get(0)<e.get(1)&&this.close.get(0)>this.close.get(1)?1:0,t.set(e))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.KeyReversalUp=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(o){var t,e=(t=o.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"EasyOfMovement"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"period",{get:function(){return this.getParameterValue(o.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(o.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"smooth",{get:function(){return this.getParameterValue(o.IndicatorParam.SMOOTH)},set:function(t){this.setParameterValue(o.IndicatorParam.SMOOTH,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"volumeDivisor",{get:function(){return this.getParameterValue(o.IndicatorParam.VOLUME_DIVISOR)},set:function(t){this.setParameterValue(o.IndicatorParam.VOLUME_DIVISOR,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="EasyOfMovement",this.period=14,this.volumeDivisor=1e4,this.smooth=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line5.strokeColor,0)},i.prototype.setConfigure=function(){this._emv=new o.TADataSeries("dmPlus",this),this._ema=this.EMA(this._emv,this.smooth)},i.prototype.onBarUpdate=function(){var t,e,i=this.values.get(this.name);0!==this.currentBar&&(t=this.median.get(0)-this.median.get(1),e=this.volume.get(0)/this.volumeDivisor/(this.high.get(0)-this.low.get(0)),e=0===o.JsUtil.approxCompare(e,0)?0:t/e,this._emv.set(e),e=this._ema.values.get(0),i.set(e.get(1)))},i);function i(){return null!==t&&t.apply(this,arguments)||this}o.EasyOfMovement=e,o.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"VolumeOscillator"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"fast",{get:function(){return this.getParameterValue(e.IndicatorParam.FAST)},set:function(t){this.setParameterValue(e.IndicatorParam.FAST,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"slow",{get:function(){return this.getParameterValue(e.IndicatorParam.SLOW)},set:function(t){this.setParameterValue(e.IndicatorParam.SLOW,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="VolumeOscillator",this.period=14,this._isOverlay=!1,this.fast=12,this.slow=26,this.addPlot(this.indicatorTheme.histogram.color,this.name,e.HistogramPlot.Style.COLUMN)},o.prototype.setConfigure=function(){this._smaFast=this.SMA(this.volume,this.fast),this._smaSlow=this.SMA(this.volume,this.slow)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._smaFast.values.get(0),i=this._smaSlow.values.get(0),i=e.get(0)-i.get(0);t.set(i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.VolumeOscillator=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"WillamsR"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="WillamsR",this.period=14,this._isOverlay=!1,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line1.strokeColor,-25),this.addLine(this.levelsTheme.line1.strokeColor,-75)},o.prototype.setConfigure=function(){this._max=this.MAX(this.high,this.period),this._min=this.MIN(this.low,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get(this.name),e=this._max.values.get(0),i=this._min.values.get(0),i=-100*(e.get(0)-this.close.get(0))/(e.get(0)-i.get(0)==0?1:e.get(0)-i.get(0));t.set(i)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.WillamsR=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"KeltnerChannel"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"offsetMultiplier",{get:function(){return this.getParameterValue(e.IndicatorParam.OFFSET_MULTIPLIER)},set:function(t){this.setParameterValue(e.IndicatorParam.OFFSET_MULTIPLIER,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="KeltnerChannel",this.period=10,this.offsetMultiplier=1.5,this._isOverlay=!0,this.addPlot(this.indicatorTheme.line2.strokeColor,"Upper"),this.addPlot(this.indicatorTheme.line1.strokeColor,"Middle"),this.addPlot(this.indicatorTheme.line3.strokeColor,"Lower")},o.prototype.setConfigure=function(){this._diff=new e.TADataSeries("diffSeries",this),this._smaDiff=this.SMA(this._diff,this.period),this._smaTypical=this.SMA(this.typical,this.period)},o.prototype.onBarUpdate=function(){var t=this.values.get("Middle"),e=this.values.get("Upper"),i=this.values.get("Lower"),o=this.high.get(0)-this.low.get(0);this._diff.set(o);var r=this._smaTypical.values.get(0).get(0),n=this._smaDiff.values.get(0).get(0)*this.offsetMultiplier,o=r+n,n=r-n;t.set(r),e.set(o),i.set(n)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.KeltnerChannel=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){var t,e=(t=n.Indicator,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"UltimateOscillator"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fast",{get:function(){return this.getParameterValue(n.IndicatorParam.FAST)},set:function(t){this.setParameterValue(n.IndicatorParam.FAST,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"slow",{get:function(){return this.getParameterValue(n.IndicatorParam.SLOW)},set:function(t){this.setParameterValue(n.IndicatorParam.SLOW,t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"intermediate",{get:function(){return this.getParameterValue(n.IndicatorParam.INTERMEDIATE)},set:function(t){this.setParameterValue(n.IndicatorParam.INTERMEDIATE,t)},enumerable:!0,configurable:!0}),i.prototype.setDefaults=function(){this.name="UltimateOscillator",this.fast=7,this.intermediate=14,this.slow=28,this.addPlot(this.indicatorTheme.line1.strokeColor,this.name),this.addLine(this.levelsTheme.line1.strokeColor,30),this.addLine(this.levelsTheme.line2.strokeColor,50),this.addLine(this.levelsTheme.line3.strokeColor,70)},i.prototype.setConfigure=function(){this._constant1=this.slow/this.fast,this._constant2=this.slow/this.intermediate,this._constant3=this._constant1+this._constant2+1,this._buyingPressure=new n.TADataSeries("buyingPressure",this),this._trueRange=new n.TADataSeries("trueRange",this),this._sumBpFast=this.SUM(this._buyingPressure,this.fast),this._sumBpIntermediate=this.SUM(this._buyingPressure,this.intermediate),this._sumBpSlow=this.SUM(this._buyingPressure,this.slow),this._sumTrFast=this.SUM(this._trueRange,this.fast),this._sumTrIntermediate=this.SUM(this._trueRange,this.intermediate),this._sumTrSlow=this.SUM(this._trueRange,this.slow)},i.prototype.onBarUpdate=function(){var t,e,i,o,r=this.values.get(this.name);0===this.currentBar?r.set(0):(t=this.high.get(0),o=this.low.get(0),i=this.close.get(0),e=this.close.get(1),i=i-Math.min(o,e),this._buyingPressure.set(i),o=Math.max(Math.max(t-o,t-e),e-o),this._trueRange.set(o),n.JsUtil.equals(this._sumTrFast.values.get(0).get(0),0)||n.JsUtil.equals(this._sumTrIntermediate.values.get(0).get(0),0)||n.JsUtil.equals(this._sumTrSlow.values.get(0).get(0),0)?r.set(r.get(1)):(o=(this._sumBpFast.values.get(0).get(0)/this._sumTrFast.values.get(0).get(0)*this._constant1+this._sumBpIntermediate.values.get(0).get(0)/this._sumTrIntermediate.values.get(0).get(0)*this._constant2+this._sumBpSlow.values.get(0).get(0)/this._sumTrSlow.values.get(0).get(0))/this._constant3*100,r.set(o)))},i);function i(){return null!==t&&t.apply(this,arguments)||this}n.UltimateOscillator=e,n.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){e.IchimokuColor={Tenka:"rgb(4, 150, 255)",Kijun:"rgb(153, 21, 21)",Chikou:"rgb(69, 153, 21)",SenkouA:"rgb(0, 128, 0)",SenkouB:"rgb(255, 0, 0)",BelowFill:"rgba(255, 0, 0, 0.5)",AboveFill:"rgba(46, 188, 3, 0.5)"},Object.freeze(e.IndicatorDataSeries);var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"Ichimoku"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"conversionLinePeriods",{get:function(){return this.getParameterValue(e.IndicatorParam.CONVERSION_PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.CONVERSION_PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"baseLinePeriods",{get:function(){return this.getParameterValue(e.IndicatorParam.BASE_PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.BASE_PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"loggingSpan2Periods",{get:function(){return this.getParameterValue(e.IndicatorParam.LOGIN_SPAN2_PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.LOGIN_SPAN2_PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"displacement",{get:function(){return this.getParameterValue(e.IndicatorParam.DISPLACEMENT)},set:function(t){this.setParameterValue(e.IndicatorParam.DISPLACEMENT,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="Ichimoku",this.conversionLinePeriods=9,this.baseLinePeriods=26,this.loggingSpan2Periods=52,this.displacement=26,this._isOverlay=!0,this.addPlot(e.IchimokuColor.Tenka,e.IchimokuDataSeriesNames.Tenka),this.addPlot(e.IchimokuColor.Kijun,e.IchimokuDataSeriesNames.Kijun),this.addPlot(e.IchimokuColor.Chikou,e.IchimokuDataSeriesNames.Chikou),this.addPlot(e.IchimokuColor.SenkouA,e.IchimokuDataSeriesNames.SenkouA),this.addPlot(e.IchimokuColor.SenkouB,e.IchimokuDataSeriesNames.SenkouB),this.addFillPlot(e.IchimokuDataSeriesNames.SenkouA,e.IchimokuDataSeriesNames.SenkouB,e.IchimokuColor.AboveFill,e.IchimokuColor.BelowFill)},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){for(var t=this.values.get("Tenkan Sen"),e=this.values.get("Kijun Sen"),i=this.values.get("Chikou Span"),o=this.values.get("Senkou Span A"),r=this.values.get("Senkou Span B"),n=this.high,a=this.low,l=this.close,s=this.conversionLinePeriods,c=this.baseLinePeriods,h=this.loggingSpan2Periods,u=a.get(0),f=n.get(0),d={chikouSpan:l.get(0),tenkanSen:null,kijunSen:null,senkouSpanB:null,senkouSpanA:null},p=0;p<h&&0<=this.currentBar-p;p++){var y=p+1,u=Math.min(u,a.value(this.currentBar-p)),f=Math.max(f,n.value(this.currentBar-p));d.tenkanSen=y===s?(u+f)/2:d.tenkanSen,d.kijunSen=y===c?(u+f)/2:d.kijunSen,d.senkouSpanB=y===h?(u+f)/2:d.senkouSpanB}d.senkouSpanA=null!==d.tenkanSen&&null!==d.kijunSen?(d.tenkanSen+d.kijunSen)/2:null,t.set(d.tenkanSen),e.set(d.kijunSen),i.set(d.chikouSpan),r.set(d.senkouSpanB),o.set(d.senkouSpanA)},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.Ichimoku=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){var t,e=(t=i.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"Supertrend"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(i.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(i.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"multiplier",{get:function(){return this.getParameterValue(i.IndicatorParam.OFFSET_MULTIPLIER)},set:function(t){this.setParameterValue(i.IndicatorParam.OFFSET_MULTIPLIER,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="Supertrend",this.period=7,this.multiplier=3,this._isOverlay=!0;var t=this.indicatorTheme.line2.strokeColor,e=this.indicatorTheme.line3.strokeColor;this.addPlot(t,"Upper"),this.addPlot(e,"Lower"),this.addLabelPlot(t,"Buy Signal",i.LabelPlotStyle.Tooltip,i.LabelPlotPosition.Bottom),this.addLabelPlot(e,"Sell Signal",i.LabelPlotStyle.Tooltip,i.LabelPlotPosition.Top)},o.prototype.setConfigure=function(){this._calculateSupertrend()},o.prototype.onBarUpdate=function(){var t=this.values.get("Upper"),e=this.values.get("Lower"),i=this.values.get("Buy Signal"),o=this.values.get("Sell Signal"),r=this._supertrend[this.currentBar]||NaN,n=this._getIsSell()||this._getIsSell(-1);this._isBuySignal=this._isSell&&!n,t.set(r),e.set(n?r:NaN),i.set(this._isBuySignal?"Buy":null),o.set(this._isSellSignal?"Sell":null),this._isSellSignal=!this._isSell&&n,this._isSell=n},o.prototype._calculateSupertrend=function(){this._supertrend=[];for(var t=this._chart.primaryBarDataSeries(),e=t.high.values,i=t.low.values,o=t.close.values,r=e.length,n=this._supertrend,a=0,l=0,s=0,c=0;c<r;c++){var h=this.period,u=this.multiplier,h=Math.min(c+1,h),f=0===c,d=e[c],p=i[c],y=o[c],m=o[c-1],_=n[c-1]||0,C=f?d-p:Math.max(d,m)-Math.min(p,m),h=f?C:(a*(h-1)+C)/h,d=(d+p)/2,p=u*h,u=d+p,p=d-p,u=u<l||l<m?u:l,m=s<p||m<s?p:s,p=void 0,p=_===l?y<=u?u:m:m<=y?m:u,a=h,l=u,s=m;n.push(p)}},o.prototype._getIsSell=function(t){for(var e=this.currentBar-(t=void 0===t?0:t),i=this._supertrend,o=i[e],r=i[1+e],n=1;r<=o;){if(r<o)return!0;r=i[e+ ++n]}return!1},o);function o(){return null!==t&&t.apply(this,arguments)||this}i.Supertrend=e,i.Indicator.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.Indicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"RainbowOscillator"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"inputSeriesKind",{get:function(){return this.getParameterValue(e.IndicatorParam.SOURCE)},set:function(t){this.setParameterValue(e.IndicatorParam.SOURCE,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"period",{get:function(){return this.getParameterValue(e.IndicatorParam.PERIODS)},set:function(t){this.setParameterValue(e.IndicatorParam.PERIODS,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"lookback",{get:function(){return this.getParameterValue(e.IndicatorParam.LOOKBACK)},set:function(t){this.setParameterValue(e.IndicatorParam.LOOKBACK,t)},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="RainbowOscillator",this.inputSeriesKind=e.DataSeriesSuffix.CLOSE,this.period=2,this.lookback=10,this._isOverlay=!1,this.addPlot(this.indicatorTheme.histogram.color,"Upper RO",e.HistogramPlot.Style.COLUMN),this.addPlot(this.indicatorTheme.histogram.color2,"Lower RO",e.HistogramPlot.Style.COLUMN),this.addPlot(this.indicatorTheme.line2.strokeColor,"Upper RB"),this.addPlot(this.indicatorTheme.line3.strokeColor,"Lower RB")},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){for(var t=this.values.get("Upper RO"),e=this.values.get("Lower RO"),i=this.values.get("Upper RB"),o=this.values.get("Lower RB"),r=this.input,n=this.period,a=this.lookback,n=Math.min(this.currentBar+1,n),a=Math.min(this.currentBar+1,a),l=[],s=-1/0,c=1/0,h=-1/0,u=1/0,f=0,d=0;d<a+n-1;d++)l.push(r.get(d));for(d=0;d<a;d++){var p=(l=this._maSeries(l,n))[0],y=r.get(d),s=Math.max(s,p),c=Math.min(c,p),h=Math.max(h,y),u=Math.min(u,y);f+=p}f/=a;var m=h-u,_=m?(r.get(0)-f)/m*100:0,m=m?(s-c)/m*100:0;t.set(0<_?_:NaN),e.set(_<0?_:NaN),i.set(m),o.set(-m)},o.prototype._maSeries=function(t,e){for(var i=[],o=0;o<t.length;o++){for(var r=0,n=0;n<e;n++)r+=t[Math.min(this.currentBar,o+n)];i.push(r/e)}return i},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.RainbowOscillator=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.AdvancedIndicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"Footprint"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="Footprint",this._isOverlay=!0,this.chart&&(this._addLineParameters(this._plots.length,"#3452F1",null,null),this._plots.push(new t.FootprintPlot))},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){this.values.get(this.name).set(this.close.get(0))},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.Footprint=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.AdvancedIndicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"VolumeProfile"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="VolumeProfile",this._isOverlay=!0,this.zIndex=29,this.chart&&(this._addLineParameters(this._plots.length,"#3452F1",null,null),this._plots.push(new t.VolumeProfilePlot))},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){this.values.get(this.name).set(this.close.get(0))},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.VolumeProfile=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(m){var i,t=(i=m.AdvancedIndicator,__extends(e,i),Object.defineProperty(e,"className",{get:function(){return"CustomVolumeProfile"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._resizableElementPlot.isActive},enumerable:!0,configurable:!0}),e.prototype.setDefaults=function(){var d,t,p=this,y=this.chart;this.name="CustomVolumeProfile",this._isOverlay=!0,this.zIndex=2e3,y&&(this._addLineParameters(this._plots.length,"#3452F1",null,null),d=new m.VolumeProfilePlot({plotStyle:m.VolumeProfilePlot.Style.CUSTOM}),t=new m.ResizableElementPlot({getRects:function(){var t=p.projection,e=y.instrument,i=y.dateScale;p._loadStatePeriods();for(var o=d.getCustomPeriods(),r=i.columnWidth/2,n=(t.yByValue(0)-t.yByValue(e.tickSize))/2,a=[],l=0;l<o.length;l++){var s=o[l],c=s.id,h=s.startIndex,u=s.endIndex,f=s.high,s=s.low,h=t.xByRecord(h)-r,u=t.xByRecord(u)+r,f=t.yByValue(f)-n,s=t.yByValue(s)+n,f=new m.ResizableRect({id:c,left:h,top:f,width:u-h,height:s-f});a.push(f)}return a},handlers:{started:function(){p._isResizing=!0},continued:function(t){var e=p.projection,i=t.id,o=t.left,r=t.width,t=e.recordByX(o),r=e.recordByX(o+r);d.updateCustomPeriod({id:i,startIndex:t,endIndex:r})}}}),this._resizableElementPlot=t,this._volumeProfilePlot=d,this._plots.push(this._volumeProfilePlot,this._resizableElementPlot))},e.prototype.start=function(){var t=this,e=this.chart,i=this._resizableElementPlot,o=this._volumeProfilePlot;e&&(e.on(m.PanelEvent.MOVE_CONTINUED,function(){t._isResizing=!0},this),e.on(m.MouseEvent.CLICK,function(){t._isResizing?t._isResizing=!1:t._selectedPeriodId?(delete t._selectedPeriodId,t._unsubscribe(),i.visible=!0):(i.visible=!1,t._selectedPeriodId=o.createCustomPeriod({startIndex:e.hoveredRecord}))},this),e.on(m.MouseEvent.MOVE,function(){t._selectedPeriodId&&o.updateCustomPeriod({id:t._selectedPeriodId,endIndex:e.hoveredRecord})},this))},e.prototype._unsubscribe=function(){var t=this.chart;t&&(t.off(m.MouseEvent.CLICK,this),t.off(m.MouseEvent.MOVE,this),t.off(m.PanelEvent.MOVE_CONTINUED,this))},e.prototype.setConfigure=function(){},e.prototype.onBarUpdate=function(){this.values.get(this.name).set(this.close.get(0))},e.prototype.serialize=function(){var t=i.prototype.serialize.call(this),e=this.projection;return t.periods=this._volumeProfilePlot.getCustomPeriods().map(function(t){return{startDate:e.dateByRecord(t.startIndex),endDate:e.dateByRecord(t.endIndex)}}),t},e.prototype.loadState=function(t){i.prototype.loadState.call(this,t),this._statePeriods=t.periods,this._loadStatePeriods()},e.prototype._loadStatePeriods=function(){if(this._statePeriods){var t=this.projection,e=this._volumeProfilePlot,i=this._statePeriods;if(Array.isArray(i)&&t&&e){for(var o=0,r=i;o<r.length;o++){var n,a=r[o];null!=a.startDate&&null!=a.endDate&&(n=e.createCustomPeriod({startIndex:t.recordByDate(new Date(a.startDate))}),e.updateCustomPeriod({endIndex:t.recordByDate(new Date(a.endDate)),id:n}))}this.chart.setNeedsUpdate(),this._statePeriods=null}}},e.prototype.destroy=function(){this._unsubscribe(),this._volumeProfilePlot=null,this._resizableElementPlot=null,i.prototype.destroy.call(this)},e);function e(){var t=null!==i&&i.apply(this,arguments)||this;return t._isResizing=!1,t}m.CustomVolumeProfile=t,m.Indicator.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.AdvancedIndicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"CompositeProfile"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){var t;this.name="CompositeProfile",this._isOverlay=!0,this.chart&&(this._addLineParameters(this._plots.length,"#3452F1",null,null),t=new e.VolumeProfilePlot({plotStyle:e.VolumeProfilePlot.Style.COMPOSITE}),this._plots.push(t))},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){this.values.get(this.name).set(this.close.get(0))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.CompositeProfile=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){var t,i=(t=e.AdvancedIndicator,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"PriceStats"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){var t;this.name="PriceStats",this._isOverlay=!0,this.chart&&(this._addLineParameters(this._plots.length,"#3452F1",null,null),t=new e.VolumeProfilePlot({plotStyle:e.VolumeProfilePlot.Style.PRICE_STATS}),this._plots.push(t))},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){this.values.get(this.name).set(this.close.get(0))},o);function o(){return null!==t&&t.apply(this,arguments)||this}e.PriceStats=i,e.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,i=(e=t.AdvancedIndicator,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"SessionStats"},enumerable:!0,configurable:!0}),o.prototype.setDefaults=function(){this.name="SessionStats",this._isOverlay=!0,this.zIndex=300,this.chart&&(this._addLineParameters(this._plots.length,"#3452F1",null,null),this._plots.push(new t.SessionStatsPlot))},o.prototype.setConfigure=function(){},o.prototype.onBarUpdate=function(){this.values.get(this.name).set(this.close.get(0))},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.SessionStats=i,t.Indicator.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};!function(n){var a,e,i,l,o;(t=a=n.VolumeBreakdownPlot||(n.VolumeBreakdownPlot={})).Up="Up",t.Down="Down",(t=e=n.VolumeBreakdownDeltaType||(n.VolumeBreakdownDeltaType={})).BidAsk="bidAsk",t.UptickDowntick="uptickDowntick",(t=i=n.VolumeBreakdownType||(n.VolumeBreakdownType={})).Volume="volume",t.Ticks="ticks",t.Price="price",(t=l=n.VolumeBreakdownMode||(n.VolumeBreakdownMode={})).Delta="delta",t.DeltaBars="deltaBars",t.DeltaMomentum="deltaMomentum",t.BuyVolume="buyVolume",t.SellVolume="sellVolume",(o=n.VolumeBreakdownAccumulate||(n.VolumeBreakdownAccumulate={})).All="all";var s,t=(s=n.AdvancedIndicator,__extends(r,s),Object.defineProperty(r,"className",{get:function(){return"VolumeBreakdown"},enumerable:!0,configurable:!0}),r.prototype.setDefaults=function(){this.name="VolumeBreakdown",this._isOverlay=!1,this._removePlots=this._addPlots()},r.prototype.setConfigure=function(){var t=this._settings.general.avaragePeriod,t=t.enabled?t.value:1;this._delta=new n.TADataSeries("delta",this),this._vb=new n.TADataSeries("vb",this),this._sma=this.SMA(this._vb,t)},r.prototype.onBarUpdate=function(){var t,e,i,o,r,n;this._chart&&(t=(r=this._settings).general.mode,e=r.sizeFilter.sizeFilter,i=this.values.get(a.Up),o=this.values.get(a.Down),this._deltaModes.includes(t)&&this._delta.set(this._getDelta()),this._vb.set(this._getVb()),r=(n=this._sma.values.get(0)).get(0),t===l.DeltaBars&&(n=n.get(1),this.open.set(n),this.high.set(Math.max(n,r)),this.low.set(Math.min(n,r)),this.close.set(r)),0===r||e.enabled&&Math.abs(r)>e.value?(i.set(null),o.set(null)):0<r?(i.set(r),o.set(null)):(i.set(null),o.set(r)))},r.prototype.draw=function(){this._drawZeroLine()},r.prototype._handleSettings=function(t){var e=this._settings.general.avaragePeriod,i=t.general.avaragePeriod;this._settings=t;i=i.enabled?i.value:1;return i!==(e.enabled?e.value:1)&&(this._sma=this.SMA(this._vb,i)),this._settingsHandled&&(this._removePlots=this._addPlots(),this.update(!0)),!0},r.prototype._addPlots=function(){var t=this._settings.general,e=t.mode,i=t.upFillColor,o=t.downFillColor;switch(this._removePlots.forEach(function(t){return t()}),e){case l.Delta:return[this.addPlot(i,a.Up,n.HistogramPlot.Style.COLUMN),this.addPlot(o,a.Down,n.HistogramPlot.Style.COLUMN)];case l.DeltaBars:return[this.addPlot(i,a.Up,n.HistogramPlot.Style.COLUMN),this.addPlot(o,a.Down,n.HistogramPlot.Style.COLUMN),this.addBarPlot()];case l.DeltaMomentum:return[this.addPlot(i,a.Up,n.HistogramPlot.Style.COLUMN),this.addPlot(o,a.Down,n.HistogramPlot.Style.COLUMN)];case l.BuyVolume:case l.SellVolume:return[this.addPlot(i,a.Up,n.HistogramPlot.Style.COLUMN)]}},r.prototype._getTheme=function(){return this.chart.theme.plot.bar.candle},r.prototype._getColor=function(){return this._settings.general.upFillColor},r.prototype._getVisible=function(t){return this._settings.general.mode===l.DeltaBars?t instanceof n.BarPlot:s.prototype._getVisible.call(this,t)},r.prototype._getHistogramTheme=function(t){var e,i=this._settings.general,o=i.upStrokeColor,r=i.downStrokeColor,i=s.prototype._getHistogramTheme.call(this,t),t=this.values.dataSeriesArray[t];if(!t)return i;switch(t.name){case a.Up:e=o;break;case a.Down:e=r}return e?__assign({},i,{line:{strokeEnabled:!0,width:1,strokeColor:e,lineStyle:n.LineStyle.SOLID}}):i},r.prototype._drawZeroLine=function(){var t,e,i,o=this._getVisiblePeriod(),r=o.startIndex,n=o.endIndex;n<=r||(t=this._settings.general.zeroLine).enabled&&(e=this.renderer,i=this.projection,o=this.chart.dateScale.columnWidth,(r=i.xByRecord(r))&&(r-=o/2),(n=i.xByRecord(n))&&(n+=o/2),i=i.yByValue(0),e.beginPath(),e.line(r,i,n,i),e.stroke(t.strokeTheme),e.closePath())},r.prototype._getVb=function(){switch(this._settings.general.mode){case l.Delta:return this._delta.get(0);case l.DeltaBars:return this._getDelta();case l.DeltaMomentum:return this._getDeltaMomentum();case l.BuyVolume:return this._getVolume(function(t){return t.askInfo});case l.SellVolume:return this._getVolume(function(t){return t.bidInfo})}},r.prototype._getDelta=function(){switch(this._settings.general.type){case i.Volume:return this._getValue(function(t){return t.askInfo.volume-t.bidInfo.volume});case i.Ticks:return this._getValue(function(t){return t.askInfo.tradesCount-t.bidInfo.tradesCount});case i.Price:return this._getValue(function(t){return t.askInfo.price-t.bidInfo.price})}},r.prototype._getDeltaMomentum=function(){var t=this._delta.get(0);if(!t)return t;for(var e=0<t,i=0,o=this._delta.get(++i);e?0<o:o<0;)t+=o,o=this._delta.get(++i);return t},r.prototype._getVolume=function(e){switch(this._settings.general.type){case i.Volume:return this._getValue(function(t){return e(t).volume});case i.Ticks:return this._getValue(function(t){return e(t).tradesCount});case i.Price:return this._getValue(function(t){return e(t).price})}},r.prototype._getValue=function(t){var e=this._settings.general.accumulate;if(!e.enabled)return this._getBarValue(t);var i=this.chart.dataManager.getDataSeries(n.DataSeriesSuffix.DATE).values,e=e.value!==o.All?n.Session.getPeriodStartIndex(i,e.value,this.currentBar-1):0;return this._getAccumulatedValue(e,t)},r.prototype._getAccumulatedValue=function(t,e){for(var i=this._getBarValue(e),o=this.currentBar-1,r=0;--o>=t;)i+=this._getBarValue(e,++r);return i},r);function r(){var t=null!==s&&s.apply(this,arguments)||this;return t._settings={general:{deltaType:e.BidAsk,type:i.Volume,mode:l.Delta,accumulate:{enabled:!1,value:n.SessionPeriodUnit.Day},avaragePeriod:{enabled:!1,value:3},zeroLine:{enabled:!0,strokeTheme:{width:1,strokeColor:"yellow",lineStyle:n.LineStyle.SOLID}},upFillColor:"green",upStrokeColor:"green",downFillColor:"red",downStrokeColor:"red"},sizeFilter:{sizeFilter:{enabled:!1,value:10}}},t._deltaModes=[l.Delta,l.DeltaBars,l.DeltaMomentum],t._removePlots=[],t}n.VolumeBreakdown=t,n.Indicator.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){var e,n;(o=e=t.ZigZagChangeUnit||(t.ZigZagChangeUnit={})).Points="points",o.Ticks="ticks",(o=n=t.ZigZagExtreme||(t.ZigZagExtreme={})).High="high",o.Low="low";var i,o=(i=t.AdvancedIndicator,__extends(r,i),r.prototype.setConfigure=function(){delete this._extreme,delete this._extremeValue,delete this._prevExtreme,delete this._prevExtremeValue,delete this._lastExtreme,delete this._lastExtremeValue,delete this._isUp,delete this._isDown},r.prototype._setExtreme=function(){var t=this._getMinChange(),e=this.high.get(0),i=this.low.get(0);if(1!==this.currentBar)this._lastExtreme===n.Low?e-this._lastExtremeValue>=t&&this._getIsHigh()?this._setExtremeData(n.High):this._setExtremeData(null):this._lastExtremeValue-i>=t&&this._getIsLow()?this._setExtremeData(n.Low):this._setExtremeData(null);else{for(var o=0;this.currentBar- --o<this.values.recordCount;)if(t<=this.high.get(o)-i)break;for(var r=0;this.currentBar- --r<this.values.recordCount;)if(t<=e-this.low.get(r))break;this._setExtremeData(o<r?n.High:n.Low)}},r.prototype._setExtremeData=function(t){t?(this._extreme=t,this._extremeValue=(t===n.High?this.high:this.low).get(0),this._prevExtreme=this._lastExtreme,this._prevExtremeValue=this._lastExtremeValue,this._lastExtreme=this._extreme,this._lastExtremeValue=this._extremeValue,this._isUp=t===n.High,this._isDown=t===n.Low):this._extreme&&(this._isUp=this._extreme===n.Low,this._isDown=this._extreme===n.High,this._extreme=null,this._extremeValue=null)},r.prototype._getChange=function(){var t=this._extreme?this._prevExtremeValue:this._lastExtremeValue;return null==t?0:this._isUp?this.high.get(0)-t:t-this.low.get(0)},r.prototype._getConvertedChange=function(){var t=this._getChange();return this._changeUnit===e.Ticks&&(t/=this.chart.instrument.tickSize),t},r.prototype._getMinChange=function(){return this._minChange*this.chart.instrument.tickSize},r.prototype._getIsHigh=function(){for(var t=this._getMinChange(),e=0,i=this.high.get(e);this.currentBar- --e<this.values.recordCount;){var o=this.high.get(e);if(i<o)return!1;if(o+t<=i)return!0}return!1},r.prototype._getIsLow=function(){for(var t=this._getMinChange(),e=0,i=this.low.get(e);this.currentBar- --e<this.values.recordCount;){var o=this.low.get(e);if(o<i)return!1;if(i<=o-t)return!0}return!1},r);function r(){return null!==i&&i.apply(this,arguments)||this}t.ZigZagBase=o}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};!function(u){var i,t=(i=u.ZigZagBase,__extends(e,i),Object.defineProperty(e,"className",{get:function(){return"ZigZag"},enumerable:!0,configurable:!0}),e.prototype.setDefaults=function(){this.name="ZigZag",this._isOverlay=!0,this._removePlots=this._addPlots()},e.prototype.onBarUpdate=function(){var t,e,i,o,r,n;this.currentBar&&this.chart&&(this._setExtreme(),t=(n=this._settings.parameters).showRealtimeSwing,e=n.minTicksRev,i=this.chart.instrument.tickSize,o=this.values.get(u.LabelPlotPosition.Top),r=this.values.get(u.LabelPlotPosition.Bottom),n=this.values.get("ZigZag"),this.currentBar===this.values.recordCount-1&&t&&this._getChange()>=e*i&&this._setExtremeData(this._lastExtreme===u.ZigZagExtreme.High?u.ZigZagExtreme.Low:u.ZigZagExtreme.High),o.set(this._extreme===u.ZigZagExtreme.High?this._getData():null),r.set(this._extreme===u.ZigZagExtreme.Low?this._getData():null),n.set(this._extreme))},e.prototype._handleSettings=function(t){var e=t.parameters,i=e.upStrokeColor,o=e.downStrokeColor,r=e.minChange,n=e.textColor,a=e.dataBoxBackground,l=e.dataBoxBorder,e=t.dataBox.fields.priceChange;this._settings=t,this._minChange=r,this._changeUnit=e.unit,this._labelPlotTheme={text:{fontFamily:"Open Sans",fontSize:12,fillColor:n},fill:{fillEnabled:a.enabled,fillColor:a.value},stroke:{strokeEnabled:l.enabled,width:1,strokeColor:l.value,lineStyle:u.LineStyle.SOLID}},this._zigZagPlotTheme={up:{width:1,strokeColor:i,lineStyle:u.LineStyle.SOLID},down:{width:1,strokeColor:o,lineStyle:u.LineStyle.SOLID}},this._settingsHandled&&(this._removePlots=this._addPlots(),this.update(!0))},e.prototype._addPlots=function(){var t=this._settings.parameters,e=t.showZigZagLine,i=t.dataBoxOffset,t=t.barWidthTextThreshold;this._removePlots.forEach(function(t){return t()});t={offset:i,barWidthTextThreshold:t,forBars:!0},t=[this.addLabelPlot(u.LabelPlotPosition.Top,__assign({},t,{position:u.LabelPlotPosition.Top})),this.addLabelPlot(u.LabelPlotPosition.Bottom,__assign({},t,{position:u.LabelPlotPosition.Bottom}))];return e&&t.push(this.addZigZagPlot()),t},e.prototype.addZigZagPlot=function(){var t=this;if(this.chart){var e=new u.TADataSeries("ZigZag",this),i=new u.ZigZagPlot({dataSeries:e});return this._plots.push(i),this.values.add(e),function(){t._removePlot(i),t.values.remove("ZigZag")}}},e.prototype._getTheme=function(t,e){return t instanceof u.LabelPlot?this._labelPlotTheme:t instanceof u.ZigZagPlot?this._zigZagPlotTheme:i.prototype._getTheme.call(this,t,e)},e.prototype._getColor=function(){},e.prototype._getData=function(){var t,e=this._settings.dataBox,i=e.fields,o=i.delta,r=i.volume,n=i.price,a=i.priceChange,l=e.inverseSortingForDownSwing,s=this.high.get(0),c=this.low.get(0),h=this.currentBar===this.values.recordCount-1,i=[];h||(o.enabled&&(e=void 0,0<(t=this._getBarValue(function(t){return t.askInfo.volume-t.bidInfo.volume}))?e=o.positiveTextColor:t<0&&(e=o.negativeTextColor),i.push([o.order,{value:t,textColor:e}])),r.enabled&&(t=this.volume.get(0),i.push([r.order,t])),n.enabled&&(t=this._extreme===u.ZigZagExtreme.High?s:c,i.push([n.order,t]))),(h||a.enabled)&&(t=this._getConvertedChange(),i.push([a.order,h?"Ch: "+t:t]));l=this._extreme===u.ZigZagExtreme.Low&&l?function(t,e){return e[0]-t[0]}:function(t,e){return t[0]-e[0]};return i.sort(l).map(function(t){return t[1]})},e);function e(){var t=null!==i&&i.apply(this,arguments)||this;return t._settings={parameters:{showZigZagLine:!0,upStrokeColor:"green",downStrokeColor:"red",minChange:12,dataBoxOffset:16,barWidthTextThreshold:60,textColor:"#ffffff",dataBoxBackground:{enabled:!0,value:"#717171"},dataBoxBorder:{enabled:!0,value:"#717171"},showRealtimeSwing:!0,minTicksRev:10},dataBox:{fields:{delta:{enabled:!0,order:1,positiveTextColor:"green",negativeTextColor:"red"},volume:{enabled:!0,order:2},price:{enabled:!0,order:3},priceChange:{enabled:!0,order:4,unit:u.ZigZagChangeUnit.Points}},inverseSortingForDownSwing:!0}},t._removePlots=[],t}u.ZigZag=t,u.Indicator.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};!function(n){var a;(t=a=n.ZigZagOscillatorPlot||(n.ZigZagOscillatorPlot={})).Up="Up",t.Down="Down";var i,t=(i=n.ZigZagBase,__extends(e,i),Object.defineProperty(e,"className",{get:function(){return"ZigZagOscillator"},enumerable:!0,configurable:!0}),e.prototype.setDefaults=function(){this.name="ZigZagOscillator",this._isOverlay=!1,this._removePlots=this._addPlots()},e.prototype.onBarUpdate=function(){var t,e,i,o,r;this.currentBar&&this.chart&&(this._setExtreme(),i=this._settings.parameters.showChange,r=this._isUp?this._getChange():-this._getChange(),e=this.values.get(a.Up),o=this.values.get(a.Down),e.set(this._isUp?r:null),o.set(this._isDown?r:null),i.enabled&&(t=this.values.get(n.LabelPlotPosition.Top),e=this.values.get(n.LabelPlotPosition.Bottom),o=this.currentBar===this.values.recordCount-1,i=this._extreme===n.ZigZagExtreme.High||o&&this._isUp,o=this._extreme===n.ZigZagExtreme.Low||o&&this._isDown,r={value:r,label:this._getConvertedChange()},t.set(i?r:null),e.set(o?r:null)))},e.prototype.draw=function(){this._drawBands()},e.prototype._handleSettings=function(t){var e=t.parameters,i=e.minChange,e=e.showChange;return this._settings=t,this._minChange=i,this._changeUnit=e.unit,this._settingsHandled&&(this._removePlots=this._addPlots(),this.update(!0)),!0},e.prototype._addPlots=function(){var t=this._settings.parameters,e=t.barWidthTextThreshold,i=t.upFillColor,o=t.downFillColor,r=t.fillBarGaps,t=t.showChange;this._removePlots.forEach(function(t){return t()});r=r?1:.5,r=[this.addPlot(i,a.Up,n.HistogramPlot.Style.COLUMN,r),this.addPlot(o,a.Down,n.HistogramPlot.Style.COLUMN,r)];return t.enabled&&r.push(this.addLabelPlot(n.LabelPlotPosition.Top,__assign({},e={offset:4,barWidthTextThreshold:e},{position:n.LabelPlotPosition.Top})),this.addLabelPlot(n.LabelPlotPosition.Bottom,__assign({},e,{position:n.LabelPlotPosition.Bottom}))),r},e.prototype._getTheme=function(t,e){return t instanceof n.LabelPlot?this._labelPlotTheme:i.prototype._getTheme.call(this,t,e)},e.prototype._drawBands=function(){var t,e,i,o=this._getVisiblePeriod(),r=o.startIndex,n=o.endIndex;n<=r||(t=(i=this._settings).upperBand,e=i.lowerBand,o=this.projection,i=this.chart.dateScale.columnWidth,(r=o.xByRecord(r))&&(r-=i/2),(n=o.xByRecord(n))&&(n+=i/2),this._drawBand(t,r,n),this._drawBand(e,r,n))},e.prototype._drawBand=function(t,e,i){var o=t.strokeColor,r=t.top,n=t.bottom,a=this.renderer,t=this.projection,r=t.yByValue(r),t=t.yByValue(n);t<=r||(n=(r+t)/2,r=t-r,a.beginPath(),a.line(e,n,i,n),a.stroke({width:r,strokeColor:o}),a.closePath())},e);function e(){var t=null!==i&&i.apply(this,arguments)||this;return t._settings={parameters:{minChange:12,barWidthTextThreshold:30,upFillColor:"green",upStrokeColor:"green",downFillColor:"red",downStrokeColor:"red",fillBarGaps:!0,showChange:{enabled:!0,unit:n.ZigZagChangeUnit.Points}},upperBand:{strokeColor:"green",top:10,bottom:8},lowerBand:{strokeColor:"red",top:-8,bottom:-10}},t._labelPlotTheme={text:{fontFamily:"Open Sans",fontSize:12,fillColor:"#ffffff"},fill:{fillEnabled:!1},stroke:{strokeEnabled:!1}},t._removePlots=[],t}n.ZigZagOscillator=t,n.Indicator.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";i.CrossHairType={NONE:"none",MARKERS:"markers",CROSS:"cross",CROSS_BARS:"crossBars",DOT:"dot"},Object.freeze(i.CrossHairType);var o,e=".scxCrossHair",t=(o=i.ChartComponent,__extends(r,o),Object.defineProperty(r.prototype,"crossHairType",{get:function(){return this._options.crossHairType},set:function(t){var e=this._options.crossHairType;e!==t&&(this._options.crossHairType=t,this._view.updateVisibility(),this.chart.fireValueChanged(i.ChartEvent.CROSS_HAIR_CHANGED,t,e))},enumerable:!0,configurable:!0}),r.prototype._subscribe=function(){var t=this;o.prototype._subscribe&&o.prototype._subscribe.call(this),this.chart.on(i.ChartEvent.THEME_CHANGED+e,function(){t.applyTheme()},this).on(i.ChartEvent.LOCALE_CHANGED+e,function(){t.update()},this).on(i.ChartEvent.TIME_INTERVAL_CHANGED+e,function(){t.update()},this)},r.prototype._unsubscribe=function(){this.chart.off(e,this),o.prototype._unsubscribe&&o.prototype._unsubscribe.call(this)},r.prototype.layout=function(){this._view.layout()},r.prototype.applyTheme=function(){this._view.applyTheme()},r.prototype.update=function(){this._view.updateMarkers(),this._view.updatePosition(!0)},r.prototype.show=function(){this.visible=!0,this._view.updatePosition(!0),this._view.updateVisibility(!0)},r.prototype.hide=function(){this.visible=!1,this._view.updateVisibility(!1)},r.prototype.saveState=function(){return i.JsUtil.clone(this._options)},r.prototype.loadState=function(t){this._options={},this.crossHairType=t&&t.crossHairType||i.CrossHairType.NONE},r.prototype.setPosition=function(t,e){this._view.setPosition(t,e)},r.prototype.handleMouseHoverGesture=function(t,e){switch(t.state){case i.GestureState.STARTED:this._view.updateVisibility(!0);break;case i.GestureState.FINISHED:this._view.updateVisibility(!1);break;case i.GestureState.CONTINUED:this.crossHairType!==i.CrossHairType.NONE&&this.setPosition(e.pointerPosition)}},r.prototype.destroy=function(){this._view.destroy(),o.prototype.destroy.call(this)},r);function r(t){var e=o.call(this,t)||this;return e._view=new i.CrossHairView(e),e.visible=!0,e.loadState(t),e.chart&&e._subscribe(),e}i.CrossHair=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(b){"use strict";var c={HOR_LINE:"scxCrossHairHorLine",VER_LINE:"scxCrossHairVerLine",DOT_CURSOR:"scxDotCursor",NOTE:"scxCrossHairMarker",DATE_MARKER:"scxCrossHairDateMarker",VALUE_MARKER:"scxCrossHairValueMarker",CROSS_HAIR:"scxCrossHair",CROSS_HAIR_CONTAINER:"scxCrossHairContainer",CROSS_HAIR_TRADING_BUTTON:"scxCrossHairTradingButton"};Object.freeze(c);var a,t=(a=b.HtmlComponent,__extends(h,a),Object.defineProperty(h.prototype,"chart",{get:function(){return this._crossHair.chart},enumerable:!0,configurable:!0}),h.prototype._createContainer=function(){return this.chart.rootDiv.scxAppend("div",c.CROSS_HAIR_CONTAINER)},h._applyMarkerTheme=function(t,e){t.scxTextStyle(e.text).scxFill(e.fill)},h._updateValueMarkerMetrics=function(t){var e=t.$control;e.text()||e.text("1"),t.halfHeight=e.height()/2},h._updateDateMarkerMetrics=function(t,e){var i=t.$control;i.text(e).width("auto");e=Math.round(1.2*i.width());t.halfWidth=Math.round(e/2),i.width(e)},h.prototype._createValueMarker=function(){return{visible:!0,halfHeight:0,$control:this.container.scxAppend("span",[c.NOTE,c.VALUE_MARKER])}},h.prototype._createDateMarker=function(){return{visible:!0,halfWidth:0,$control:this.container.scxAppend("span",[c.NOTE,c.DATE_MARKER])}},h.prototype._createTradingButton=function(){return{visible:!0,halfHeight:0,$control:this.container.scxAppend("span",[c.NOTE,c.CROSS_HAIR_TRADING_BUTTON])}},h.prototype._createControls=function(){var t=this.container;this._controls={lines:{visible:!0,$horLine:t.scxAppend("div",c.HOR_LINE),$verLine:t.scxAppend("div",c.VER_LINE)},leftMarkers:[],rightMarkers:[],tradingButton:[],topMarker:this._createDateMarker(),bottomMarker:this._createDateMarker()},this.applyTheme(),this.updateVisibility(!1)},h.prototype._syncValueMarkers=function(){var t=this._controls.leftMarkers,e=this._controls.rightMarkers,i=this._controls.tradingButton,o=this.chart.valueScales,r=t.length-o.length;if(0<r)t.splice(-r,r),e.splice(-r,r),i.splice(-r,r);else if(r<0){for(var n=0;n<-r;n++)t.push(this._createValueMarker()),e.push(this._createValueMarker()),i.push(this._createTradingButton());this.applyTheme(),this.updateVisibility(!1),this._tradingButtonHandler()}},h.prototype.layout=function(){a.prototype.layout.call(this),this._controls||this._createControls(),this._syncValueMarkers();var t=this.chart,e=this._controls,i=t.chartPanelsContainer.panelsContentFrame;e.lines.$horLine.css("left",i.left).width(i.width),e.lines.$verLine.css("top",i.top).height(i.height);for(var o=t.valueScales,r=0;r<o.length;r++){var n=o[r].leftPanel.frame;n&&(e.leftMarkers[r].$control.css("left",n.left+1).outerWidth(n.width-2),e.tradingButton[r].$control.css("left",n.left-15).text("+").outerWidth(15));n=o[r].rightPanel.frame;n&&(e.rightMarkers[r].$control.css("left",n.left+1).outerWidth(n.width-2),e.tradingButton[r].$control.css("left",n.left-15).text("+").outerWidth(15))}i=t.dateScale,t=i.topPanel.frame;t&&e.topMarker.$control.css("top",t.top+1).outerHeight(t.height-1).css("line-height",t.height-2+"px");i=i.bottomPanel.frame;i&&e.bottomMarker.$control.css("top",i.top+1).outerHeight(i.height-1).css("line-height",i.height-1+"px")},h.prototype.applyTheme=function(){var t=this.chart.theme.crossHair,e=this._controls;e.lines.$horLine.scxBorder("border-top",t.line),e.lines.$verLine.scxBorder("border-left",t.line);for(var i=0,o=e.leftMarkers;i<o.length;i++){var r=o[i];h._applyMarkerTheme(r.$control,t)}for(var n=0,a=e.rightMarkers;n<a.length;n++){r=a[n];h._applyMarkerTheme(r.$control,t)}for(var l=0,s=e.tradingButton;l<s.length;l++){r=s[l];h._applyMarkerTheme(r.$control,t)}h._applyMarkerTheme(e.topMarker.$control,t),h._applyMarkerTheme(e.bottomMarker.$control,t),this.updateMarkers()},h.prototype.update=function(){},h.prototype.updateVisibility=function(t){var e=this._controls;if(e){var i=this._crossHair.crossHairType,o=this.chart.rootDiv;!(t=this._crossHair.visible&&t&&i!==b.CrossHairType.NONE)||i!==b.CrossHairType.CROSS&&i!==b.CrossHairType.CROSS_BARS?o.removeClass(c.CROSS_HAIR):o.addClass(c.CROSS_HAIR),t&&i===b.CrossHairType.DOT?o.addClass(c.DOT_CURSOR):o.removeClass(c.DOT_CURSOR);for(var r=t&&i!==b.CrossHairType.NONE,n=this.chart.valueScales,a=0;a<n.length&&!(a>=e.leftMarkers.length);a++){var l=r&&n[a].leftPanelVisible,s=r&&n[a].rightPanelVisible;e.leftMarkers[a].visible=l,e.tradingButton[a].visible=l,e.rightMarkers[a].visible=s,e.tradingButton[a].visible=s,b.HtmlUtil.setVisibility(e.leftMarkers[a].$control,l),b.HtmlUtil.setVisibility(e.tradingButton[a].$control,l),b.HtmlUtil.setVisibility(e.rightMarkers[a].$control,s),b.HtmlUtil.setVisibility(e.tradingButton[a].$control,s)}i=i===b.CrossHairType.CROSS||i===b.CrossHairType.CROSS_BARS,t=e.lines.visible=t&&i;b.HtmlUtil.setVisibility(e.lines.$horLine,t),b.HtmlUtil.setVisibility(e.lines.$verLine,t);i=this.chart.dateScale,t=e.topMarker.visible=r&&i.topPanelVisible,i=e.bottomMarker.visible=r&&i.bottomPanelVisible;b.HtmlUtil.setVisibility(e.topMarker.$control,t),b.HtmlUtil.setVisibility(e.bottomMarker.$control,i)}},h.prototype.setPosition=function(t,e){this._position=t,e?this._positionAnimation.start():this.updatePosition()},h.prototype.updatePosition=function(t){if(this._positionAnimation){this._positionAnimation.stop();var e=this._position;if(e){var i=this.chart,o=i.findPanelAt(e.y);if(o){var r=i.valueScale.leftPanel,n=i.valueScale.rightPanel;if(e.x>o.frame.width-n.getWidth()||r.visible&&e.x<r.getWidth())this.updateVisibility(!1);else{var a,l=this._controls,s=this._prevPosition,c=this._crossHair.crossHairType;if(s.x===e.x&&!0!==t||(s.x=e.x,n=(a=i.dateScale).projection,c===b.CrossHairType.CROSS_BARS&&(e.x=n.xByRecord(n.recordByX(e.x,!0))),l.lines.visible&&l.lines.$verLine.css("left",e.x),r=l.topMarker,c=l.bottomMarker,(r.visible||c.visible)&&(n=n.dateByColumn(n.columnByX(e.x)),n=a.formatDate(n),this._updateDateMarker(r,n),this._updateDateMarker(c,n))),s.y!==e.y||!0===t){s.y=e.y,l.lines.visible&&l.lines.$horLine.css("top",e.y);for(var h=i.valueScales,u=e.y-o.frame.top-i.chartPanelsContainer.frame.top,f=0;f<h.length;f++){var d,p,y,m=l.leftMarkers[f],_=l.rightMarkers[f],C=l.tradingButton[f];(m.visible||_.visible)&&(p=(d=o.valueScales[f]).projection.valueByY(u),y=i.instrument.tickSize,p&&(this.markerValue=Math.round(p/y)*y,this._updateValueMarker(m,d.formatValue(p)),this._updateValueMarker(_,d.formatValue(p)),this._updateTradingButton(C,!1)))}}}}}}},h.prototype.updateMarkers=function(){var t=this._controls;if(t){for(var e=0,i=t.leftMarkers;e<i.length;e++){var o=i[e];h._updateValueMarkerMetrics(o)}for(var r=0,n=t.rightMarkers;r<n.length;r++){o=n[r];h._updateValueMarkerMetrics(o)}var a=this.chart.dateScale.formatDate(new Date(0));h._updateDateMarkerMetrics(t.topMarker,a),h._updateDateMarkerMetrics(t.bottomMarker,a)}},h.prototype._updateValueMarker=function(t,e){t.visible&&t.$control.text(e).css("top",this._position.y-t.halfHeight)},h.prototype._updateTradingButton=function(t,e){e?t.visible&&(t.$control.css("top",this._position.y-t.halfHeight-7),b.HtmlUtil.setVisibility(t.$control,t.visible)):b.HtmlUtil.setVisibility(t.$control,!1)},h.prototype._updateDateMarker=function(t,e){var i;t.visible&&(i=this.container.width(),i=this._position.x>i-t.halfWidth?i-2*t.halfWidth:this._position.x-t.halfWidth,t.$control.text(e).css("left",Math.max(i,0)))},h.prototype._tradingButtonHandler=function(){var t={crossHairView:this,tradingButton:this._controls.tradingButton};new b.UI.TradingCrossHairButton(t).setHandler()},h);function h(t){var e=a.call(this)||this;return e._position=null,e._prevPosition={},e._positionAnimation=new b.Animation({callback:e.updatePosition}),e._crossHair=t,e}b.CrossHairView=t}(StockChartX=StockChartX||{}),StockChartX=StockChartX||{};__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__awaiter=this&&this.__awaiter||function(n,a,l,s){return new(l=l||Promise)(function(t,e){function i(t){try{r(s.next(t))}catch(t){e(t)}}function o(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new l(function(t){t(e.value)}).then(i,o)}r((s=s.apply(n,a||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(n,e[1])).done)return a;switch(n=0,(e=a?[0,a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,n=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],n=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};!function(r){"use strict";var i,t=".scxLocalChartStateHandler",e=(i=r.ChartHandler,__extends(o,i),o.prototype._subscribe=function(){$(window).on("beforeunload"+t,this,this._onBeforeUnloadWindow)},o.prototype._unsubscribe=function(){$(window).off(t,this._onBeforeUnloadWindow)},o.prototype._onBeforeUnloadWindow=function(t){var i=this,t=t.data;t.autoSave&&t.save().catch(function(e){return __awaiter(i,void 0,void 0,function(){return __generator(this,function(t){return[2,r.UI.Notification.error(e.message,this.chart)]})})})},o.prototype.save=function(){return __awaiter(this,void 0,void 0,function(){var e,i;return __generator(this,function(t){switch(t.label){case 0:return(i=this.chart)?(e=this._generateKey(),i=JSON.stringify(i.saveState()),[4,(new r.LocalDataStore).save(e,i)]):[2];case 1:return t.sent(),[2]}})})},o.prototype.load=function(){return __awaiter(this,void 0,void 0,function(){var e,i,o;return __generator(this,function(t){switch(t.label){case 0:return(e=this.chart)?(i=this._generateKey(),[4,(new r.LocalDataStore).load(i)]):[2,!1];case 1:i=t.sent();try{o=JSON.parse(i)}catch(t){throw new Error("Chart state is corrupted.")}try{e.loadState(o)}catch(t){throw new Error("Load chart state failed: "+t)}return[2,!!i]}})})},o.prototype.clear=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return this.chart?(e=this._generateKey(),[4,(new r.LocalDataStore).clear(e)]):[2];case 1:return t.sent(),[2]}})})},o.prototype._generateKey=function(){return"chart|"+window.location.pathname},o);function o(t){var e=i.call(this,t&&t.chart)||this;return e.autoSave=!0,e.autoLoad=!0,t&&(null!=t.autoSave&&(e.autoSave=t.autoSave),null!=t.autoLoad&&(e.autoLoad=t.autoLoad)),e._subscribe(),e}r.LocalChartStateHandler=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var e="scxFullWindow",n="scxFullScreen",i=".scxWindowModeHandler",a={FullscreenChanged:"scxFullscreenChanged",FullWindowChanged:"scxFullWindowChanged"};Object.freeze(a),r.WindowMode={NORMAL:"normal",FULL_SCREEN:"full-screen",FULL_WINDOW:"full-window"},Object.freeze(r.WindowMode);var o,t=(o=r.ChartHandler,__extends(l,o),Object.defineProperty(l.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"prevMode",{get:function(){return this._prevMode},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isInFullWindowMode",{get:function(){var t=this._mode;return t===r.WindowMode.FULL_WINDOW||t===r.WindowMode.FULL_SCREEN},enumerable:!0,configurable:!0}),l.prototype._subscribe=function(){var t=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange",""].join(i+", ");$(document).on(t,this,this._onFullScreenChanged),$(window).on("resize"+i,this,this._onWindowResize)},l.prototype._unsubscribe=function(){$(document).off(i,this._onFullScreenChanged),$(window).off(i,this._onWindowResize)},l.prototype._onWindowResize=function(t){t=t.data;t.isInFullWindowMode&&t.adjustFullWindowSize()},l.prototype._onFullScreenChanged=function(t){t.data._handleFullscreenChange(t)},l.prototype.setMode=function(t){if(this._mode!==t){this._prevMode=this._mode,this._mode=t;try{switch(t){case r.WindowMode.NORMAL:this._exitFullscreen(),this._exitFullWindow();break;case r.WindowMode.FULL_SCREEN:this._enterFullWindow(),this._enterFullscreen();break;case r.WindowMode.FULL_WINDOW:this._exitFullscreen(),this._enterFullWindow();break;default:throw new Error("$Unknown window mode: "+t)}this.chart.fireValueChanged(r.ChartEvent.WINDOW_MODE_CHANGED,t,this._prevMode)}catch(t){r.UI.Notification.error(t,this.chart)}}},l.prototype._enterFullscreen=function(){if(!r.HtmlUtil.isFullscreenEnabled())throw new Error("Fullscreen mode is not enabled.");var t=this.chart.container[0];this._isSelfRaisedEvent=!0,r.HtmlUtil.enterFullscreen(t),r.UI.HtmlContainer.instance.reset($(t)),$(document).trigger(a.FullscreenChanged,this.chart)},l.prototype._exitFullscreen=function(){this._isSelfRaisedEvent=!0,r.HtmlUtil.exitFullscreen(),$(document).trigger(a.FullscreenChanged,this.chart),$("body").removeClass(n),r.UI.HtmlContainer.instance.reset(),$("body").trigger("click")},l.prototype._handleFullscreenChange=function(t){if(this._isSelfRaisedEvent){this._isSelfRaisedEvent=!1;var e=$("body");return this.mode===r.WindowMode.FULL_SCREEN&&(e.addClass(n),this.adjustFullWindowSize()),void $(window).trigger(a.FullscreenChanged,this.chart)}var i,o;this.mode===r.WindowMode.FULL_SCREEN&&(i=!1,(o=$(t.target))&&$(o).is(this.chart.container)?i=!0:(e=r.Environment.browser)!==r.Browser.firefox&&e!==r.Browser.ie||(i=!(o=e===r.Browser.firefox?t.target.mozFullScreenElement:t.target.msFullscreenElement)),i&&this.setMode(this._prevMode||r.WindowMode.NORMAL))},l.prototype._enterFullWindow=function(){var t=this.chart;this._preFullWindowSize||(this._preFullWindowSize=t.cssSize),t.container.addClass(e),this.adjustFullWindowSize(),$(window).trigger(a.FullWindowChanged,t)},l.prototype._exitFullWindow=function(){var t=this.chart;t.container.removeClass(e),t.cssSize=this._preFullWindowSize,this._preFullWindowSize=null,$(window).trigger(a.FullWindowChanged,t),t.setNeedsUpdate()},l.prototype.adjustFullWindowSize=function(){var t=this.chart,e=t.container,i=t.scrollEnabled&&null!=t.scrollbar?t.scrollbar.outerHeight:0;e.outerWidth(window.innerWidth-3).outerHeight(window.innerHeight-3),t.size={width:e.innerWidth()-1,height:e.innerHeight()-t.rootDiv.position().top-1-i-42},t.setNeedsUpdate()},l);function l(t){t=o.call(this,t)||this;return t._mode=r.WindowMode.NORMAL,t._subscribe(),t}r.WindowModeHandler=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";t.Key={SHIFT:16,CTRL:17,ALT:18};var e,i=".scxKeyboardHandler",o=(e=t.ChartHandler,__extends(r,e),r.prototype._subscribe=function(){$(window).on("keydown"+i,this,this._handleKeyDown)},r.prototype._unsubscribe=function(){$(window).off(i,this._handleKeyDown)},r.prototype._handleKeyDown=function(t){var e=t.data;e.chart.keyboardEventsEnabled&&(t.target!==document.activeElement||$(t.target).hasClass("modal-open")||$(t.target).hasClass("form-control")||e._handleKey(t))},r.prototype._handleKey=function(t){var e=t.ctrlKey||t.metaKey,i=this.chart;switch(t.keyCode){case 107:i.zoomEnabled&&(i.zoomOnPixels(.05*i.size.width),i.setNeedsUpdate(!0));break;case 109:i.zoomEnabled&&(i.zoomOnPixels(-.05*i.size.width),i.setNeedsUpdate(!0));break;case 37:i.scrollEnabled&&(i.scrollOnPixels(.05*i.size.width),i.setNeedsUpdate(!0));break;case 39:i.scrollEnabled&&(i.scrollOnPixels(-.05*i.size.width),i.setNeedsUpdate(!0));break;case 46:var o=i.selectedObject,r=o&&o.chartPanel;if(!r)return;o.tooltip.hide(),r.removeDrawings(o);break;case 67:if(!e)return;i._copyDrawing();break;case 86:if(!e)return;i._pasteDrawing();break;default:return}t.preventDefault()},r);function r(t){t=e.call(this,t)||this;return t._subscribe(),t}t.KeyboardHandler=o}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var o,t=(o=i.ChartHandler,__extends(e,o),Object.defineProperty(e.prototype,"chartPanel",{get:function(){return this.chart.mainPanel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._spread.visible},set:function(t){this._spread.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ask",{get:function(){return this._spread.ask},set:function(t){this._spread.ask=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bid",{get:function(){return this._spread.bid},set:function(t){this._spread.bid=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"theme",{get:function(){return this._spread.theme},set:function(t){this._spread.theme=t},enumerable:!0,configurable:!0}),e.prototype.layout=function(){var t=this.chartPanel,e=this._spread;this.visible&&!t.containsObject(e)?t.addObjects(e):!this.visible&&t.containsObject(e)&&t.removeObjects(e)},e);function e(t){var e=o.call(this,t.chart)||this;return e._spread=new i.Spread,e.ask=t.ask,e.bid=t.bid,e.theme=t.theme,e}i.SpreadHandler=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(s){"use strict";var i,t=(i=s.Control,__extends(e,i),Object.defineProperty(e.prototype,"highlightedColumns",{get:function(){return this._highlightedColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chartPanel",{get:function(){return this._chart.mainPanel},enumerable:!0,configurable:!0}),e.prototype._initGestures=function(){return new s.GestureArray([new s.ClickGesture({handler:this._handleClickGesture,hitTest:this._hitTest,keys:[s.Key.CTRL]})],this)},e.prototype._handleClickGesture=function(t,e){var i=e.pointerPosition.x,e=this.chart,i=this.chartPanel.projection.recordByX(i),i=e.primaryBar(i);i&&(this._processBarDate(i.date),this.chartPanel.setNeedsUpdate())},e.prototype._processBarDate=function(t){var e=this._innerColumnIndex(t);-1===e?this._add({date:t}):this._remove(e)},e.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=this.chart,o=0,r=s.JsUtil.flattenArray(t);o<r.length;o++){var n,a=r[o],l=null;s.JsUtil.isNumber(a)||a instanceof Date?l=i.primaryBar(a):"object"==typeof a&&(l=a.date?a:"object"==typeof(n=a.column)&&n.date?n:i.primaryBar(n)),l&&-1===this._innerColumnIndex(l.date)&&this._add({date:l.date,theme:s.JsUtil.isNumber(a)?null:a.theme})}},e.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return this.chartPanel.removeObjects(this._highlightedColumns),void(this._highlightedColumns=[]);for(var i=this.chart,o=0,r=s.JsUtil.flattenArray(t);o<r.length;o++){var n=r[o],n="object"==typeof n&&n.date?n:i.primaryBar(n);if(!n)return;n=this._innerColumnIndex(n.date);-1!==n&&this._remove(n)}},e.prototype._add=function(t){var e=new s.HighlightedColumn(t);this._highlightedColumns.push(e),this.chartPanel.addObjects(e),this.chart.fireValueChanged(s.ChartEvent.HIGHLIGHTED_COLUMN_ADDED,t.date)},e.prototype._remove=function(t){t=this._highlightedColumns.splice(t,1)[0];this.chartPanel.removeObjects(t),this.chart.fireValueChanged(s.ChartEvent.HIGHLIGHTED_COLUMN_REMOVED,t.date)},e.prototype._innerColumnIndex=function(t){for(var e=0;e<this._highlightedColumns.length;e++)if(this._highlightedColumns[e].checkDate(t))return e;return-1},e.prototype._hitTest=function(t){return this.chartPanel.hitTest(t)},e.prototype.destroy=function(){for(var t=0,e=this._highlightedColumns;t<e.length;t++)e[t].destroy();this._highlightedColumns=[]},e);function e(t){var e=i.call(this)||this;return e._highlightedColumns=[],e._visible=!0,e._chart=t,e}s.HighlightedColumnHandler=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var o,r={hours:0,minutes:0},t=(o=i.ChartHandler,__extends(e,o),Object.defineProperty(e.prototype,"time",{get:function(){return this._time},set:function(t){t.hours=24<t.hours||t.hours<0?0:t.hours,t.minutes=60<t.minutes||t.hours<0?0:t.minutes,this._time=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"theme",{get:function(){return this._theme},set:function(t){this._theme=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chartPanel",{get:function(){return this.chart.mainPanel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._breakLines.visible},set:function(t){this._breakLines.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFilter",{get:function(){return this._dateFilter},set:function(t){this._dateFilter=t},enumerable:!0,configurable:!0}),e.prototype.layout=function(){var t=this.chartPanel,e=this._breakLines;this.visible&&!t.containsObject(e)?t.addObjects(e):!this.visible&&t.containsObject(e)&&t.removeObjects(e)},e);function e(t){var e=o.call(this,t.chart)||this;return e._theme=t.theme||e.chart.theme.dateScale.breakLine.stroke,e._time=t.time||r,e._dateFilter=t.dateFilter,e._breakLines=new i.BreakLines({breakLinesHandler:e}),e}i.BreakLinesHandler=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var t,e=(t=r.Handler,__extends(i,t),i.prototype.saveImage=function(t,o){html2canvas(t,{onrendered:function(t){var e,i;o?o(t):t.msToBlob?navigator.msSaveBlob(t.msToBlob(),"Chart.png"):(e=document.createElement("a"),i=t.toDataURL().replace(/^data:image\/[^;]/,"data:application/octet-stream"),r.Environment.isIOS||r.Environment.isAndroid?(i=t.toDataURL(),e.target="_blank"):e.download="Chart.png",e.href=i,document.body.appendChild(e),e.click(),document.body.removeChild(e))}})},i);function i(){return null!==t&&t.apply(this,arguments)||this}r.SaveImageHandler=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,n=[{priceStyle:t.LinePriceStyle.className,columnWidth:0},{priceStyle:t.ColoredBarPriceStyle.className,columnWidth:2},{priceStyle:t.CandlePriceStyle.className,columnWidth:6},{priceStyle:t.CandlePriceStyle.className,columnWidth:1/0}],i=(e=t.ChartHandler,__extends(o,e),o.prototype.adopt=function(){if(this.enabled)for(var t=this.chart,e=t.dateScale.columnWidth,i=0,o=n.length;i<o-1;i++){var r=n[i];r.columnWidth<e&&e<n[i+1].columnWidth&&(t.priceStyleKind=r.priceStyle)}},o);function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!1,t}t.SmartPriceStyleHandler=i}(StockChartX=StockChartX||{}),function(l){"use strict";l.ComparisonSource={OPEN:".open",HIGH:".high",LOW:".low",CLOSE:".close"},Object.freeze(l.ComparisonSource);var t=(Object.defineProperty(e.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panel",{get:function(){return this.chart.mainPanel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseSource",{get:function(){return this._options.baseSource||l.ComparisonSource.CLOSE},set:function(t){this._options.baseSource=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instrumentsCompare",{get:function(){return this._instrumentsCompare},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"basePrice",{get:function(){return this._basePrice},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseIndex",{get:function(){return l.JsUtil.isNumber(this._options.baseIndex)?this._options.baseIndex:this.chart.firstVisibleIndex},set:function(t){this._options.baseIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyLoadMoreHistory",{get:function(){return this.instrumentsCompare.every(function(t){return!1!==t.readyLoadMoreHistory})},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e,i){this._instrumentsCompare.push(new l.InstrumentCompare({instrumentComparisonHandler:this,instrument:t,source:e||this.baseSource,lineWidth:i.lineWidth,lineColor:i.lineColor,lineStyle:i.lineStyle})),this._applyPerCentValueScale()},e.prototype.cancelComparing=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=this._instrumentsCompare,o=0,r=0!==t.length?l.JsUtil.flattenArray(t):i.slice(0);o<r.length;o++){var n=r[o],a=i.indexOf(n);n.destroy(),this._instrumentsCompare.splice(a,1)}0===i.length&&this._cancelPerCentValueScale(),this.panel.update()},e.prototype._calculateDataSeries=function(){var t=this._chart,e=t.dataManager.findDataSeries(this.baseSource),i=t.firstVisibleIndex,o=t.lastVisibleIndex+1,r=e.valueAtIndex(this.baseIndex);this._basePrice=r;for(var n=0,a=this._instrumentsCompare;n<a.length;n++)a[n].calculateDataSeries(r,i,o)},e.prototype._applyPerCentValueScale=function(){var t=this._chart.mainPanel.valueScale;t.calibrator instanceof l.PercentValueScaleCalibrator?t.calibrator.basePriceHolder=this:(this._options.prevValueScale=t.saveState(),t.calibrator=new l.PercentValueScaleCalibrator({basePriceHolder:this}))},e.prototype._cancelPerCentValueScale=function(){var t=this._chart.mainPanel.valueScale,e=this._options.prevValueScale;t.calibrator instanceof l.PercentValueScaleCalibrator&&(t.calibrator=l.ValueScaleCalibrator.deserialize(e.calibrator))},e.prototype._updateInstruments=function(){this._instrumentsCompare.forEach(function(t){return t.update()})},e.prototype.update=function(t){(t=void 0===t?!1:t)&&this._updateInstruments(),this._calculateDataSeries()},e.prototype._onTimeFrameChange=function(){this.instrumentsCompare.forEach(function(t){return t.onTimeFrameChange()})},e.prototype._onMoreHistoryRequested=function(){this.instrumentsCompare.sort(function(t,e){t=t.instrument.symbol,e=e.instrument.symbol;return t<e?-1:e<t?1:0}).filter(function(t,e,i){e=i[e-1];return!e||t.instrument.symbol!==e.instrument.symbol}).forEach(function(t){return t.onMoreHistoryRequested()})},e.prototype._updateHoverRecord=function(e){this.instrumentsCompare.forEach(function(t){return t.updateHoverRecord(e)})},e.prototype._subscribeEvents=function(){var e=this;this.chart.on(l.ChartEvent.TIME_FRAME_CHANGED,function(){return e._onTimeFrameChange()},this),this.chart.on(l.ChartEvent.MORE_HISTORY_REQUESTED,function(){return e._onMoreHistoryRequested()},this),this.chart.on(l.ChartEvent.HOVER_RECORD_CHANGED,function(t){return e._updateHoverRecord(t.value)},this)},e.prototype._unSubscribeEvents=function(){this.chart.off(l.ChartEvent.TIME_FRAME_CHANGED,this),this.chart.off(l.ChartEvent.MORE_HISTORY_REQUESTED,this),this.chart.off(l.ChartEvent.HOVER_RECORD_CHANGED,this)},e.prototype.saveState=function(){return this._options.instrumentsOptions=this.instrumentsCompare.map(function(t){return t.saveState()}),l.JsUtil.clone(this._options)},e.prototype.loadState=function(t){for(var e=0,i=(this._options=t).instrumentsOptions;e<i.length;e++){var o=i[e];this._instrumentsCompare.push(new l.InstrumentCompare(jQuery.extend({instrumentComparisonHandler:this},o)))}0<this.instrumentsCompare.length&&this._applyPerCentValueScale()},e.prototype.destroy=function(){this._unSubscribeEvents(),this.cancelComparing()},e);function e(t){this._chart=t,this._options={},this._instrumentsCompare=[],this._subscribeEvents()}l.InstrumentComparisonHandler=t}(StockChartX=StockChartX||{}),function(h){"use strict";var n="scxPanelTitleCaption",a="scxPanelTitleValue",l="scxIndicatorTitle",s="scxPanelTitleIcon",c="scxIndicatorRemoveIcon",u=".comparing",i=1,o="solid",t=(Object.defineProperty(e.prototype,"panel",{get:function(){return this._panel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chart",{get:function(){return this._panel.chart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._plot.visible},set:function(t){this._plot.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowSettingsDialog",{get:function(){return this._options.allowSettingsDialog},set:function(t){this._options.allowSettingsDialog=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowAboutDialog",{get:function(){return this._options.allowAboutDialog},set:function(t){this._options.allowAboutDialog=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowCheckValueMarker",{get:function(){return this._options.allowCheckValueMarker},set:function(t){this._options.allowCheckValueMarker=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showValueMarker",{get:function(){return this._plot.showValueMarkers},set:function(t){this._plot.showValueMarkers=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plot",{get:function(){return this._plot},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){return this._options.source},set:function(t){this._options.source=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instrument",{get:function(){return this._options.instrument},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineColor",{get:function(){return this._options.lineColor},set:function(t){this._options.lineColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineStyle",{get:function(){return this._options.lineStyle},set:function(t){this._options.lineStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._options.lineWidth},set:function(t){this._options.lineWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyLoadMoreHistory",{get:function(){return this._currentBarsRequest&&!this.chart.datafeed.isRequestAlive(this._currentBarsRequest)},enumerable:!0,configurable:!0}),e.prototype._init=function(){var t=this.instrument,e=this.chart.theme.chart.background,e=new h.LinePlot({dataSeries:[new h.DataSeries(u+t.symbol)],theme:this._options.plotTheme||{strokeColor:this.lineColor||h.HtmlUtil.getRandomColorVisibleOn(e),width:this._options.lineWidth||i,lineStyle:this._options.lineStyle||o}});this._plot=e,this.showValueMarker=!0,this._options.plot&&e.loadState(this._options.plot),this.panel.addPlot(e),this._requestBars()},e.prototype.calculateDataSeries=function(t,e,i){if(this.visible){this._synchronize();var o=this.instrument.symbol,r=this._comparingDelta,n=this.chart.dataManager.findDataSeries(o+this.source);if(h.JsUtil.isNumber(r)&&o&&n){var o=this._plot.findDataSeries(u+o),a=n.valueAtIndex(e-r),l=[];o.clear();for(var s=e;s<i;s++){var c=n.valueAtIndex(s-r),c=(c-(a=a||c))*t/a+t;c&&(l[s]=c)}o.add(l)}}},e.prototype._synchronize=function(){var t=this.instrument.symbol,e=this.chart.dataManager.barDataSeries(t),t=e.date&&e.date.length,e=this.chart.primaryDataSeries(h.DataSeriesSuffix.DATE).length;this._comparingDelta=e-t},e.prototype._setValues=function(t){this.lineColor=t.lineColor,this.lineWidth=t.lineWidth,this.lineStyle=t.lineStyle},e.prototype._initPanelTitle=function(){var t,e,i,o,r=this;this.panel.visible&&(this._titleControls||(t=this.instrument,e=(i=this._titleControls={}).rootDiv=this.panel.titleDiv.scxAppend("div",l),i.name=e.scxAppend("span",n).text(t.symbol),(i=i.parameters=e.scxAppend("span",n)).scxAppend("span").text("("),this._titleParameters={source:i.scxAppend("span"),value:i.scxAppend("span",a)},i.scxAppend("span").text(")"),o=e.scxAppend("span",[s,c]).attr("title","Cancel compare").on("click",function(){r._instrumentComparisonHandler.cancelComparing(r)}),e.css("color",this.plot.theme.strokeColor),h.Localization.localizeText(this.chart,"compareInstrument.cancelCompare").then(function(t){o.attr("title",t)}),this._updateTitle(),this.updateTitleControlsVisibility()))},e.prototype.updateTitleControlsVisibility=function(){var t=this._titleControls,e=this._titleParameters;t&&(t.name.css("opacity",this.visible?"1":"0.5"),e.source.css("opacity",this.visible?"1":"0.5"),this.visible||e.value.text(""))},e.prototype._updateTitle=function(){this._titleParameters.source.scxLocalize("compareInstrument.source"+this.source,this.source),this.chart.localize(this._titleParameters.source)},e.prototype.updateHoverRecord=function(t){var e,i;this.visible&&(t=t||this.chart.hoveredRecord,e=this.instrument.symbol,i=this.source,t=(i=this.chart.dataManager.findDataSeries(e+i))&&i.valueAtIndex(t-this._comparingDelta),isNaN(t)||this._titleParameters.value.text(this.panel.formatValue(t)))},e.prototype.updateVisibility=function(){this.visible||this.plot.dataSeries.forEach(function(t){return t.clear()}),this._instrumentComparisonHandler.update(),this.panel.setNeedsUpdate(!0)},e.prototype.update=function(){this._synchronize(),this._updateTitle()},e.prototype.onTimeFrameChange=function(){this._requestBars()},e.prototype.onMoreHistoryRequested=function(){this._requestMoreBars()},e.prototype._sendBarsRequest=function(){var t=this._newBarsRequest,e=this._currentBarsRequest,i=this.chart.datafeed;i&&t&&(e&&(i.cancel(e),this._currentBarsRequest=null),t.id||(t.id=h.Datafeed.nextRequestId()),t.chart=this.chart,this._currentBarsRequest=t,i.send(t),this._newBarsRequest=null)},e.prototype._requestMoreBars=function(){var t=this.instrument,e=this.chart.dataManager.findDataSeries(t.symbol+h.DataSeriesSuffix.DATE).firstValue;e&&(this._newBarsRequest={kind:h.RequestKind.MORE_BARS,count:h.DEFAULT_BARS_COUNT,endDate:e,instrument:t},this._sendBarsRequest())},e.prototype._requestBars=function(){var t=this.chart.recordCount<h.DEFAULT_BARS_COUNT?h.DEFAULT_BARS_COUNT:this.chart.recordCount;this._newBarsRequest={kind:h.RequestKind.BARS,count:0!==t?t:h.DEFAULT_BARS_COUNT,instrument:this.instrument},this._sendBarsRequest()},e.prototype.saveState=function(){return this._options.plot=this.plot.saveState(),this._options.plotTheme=this.plot.actualTheme,h.JsUtil.clone(this._options)},e.prototype.loadState=function(t){t={instrument:t.instrument,allowAboutDialog:t.allowAboutDialog,allowCheckValueMarker:t.allowCheckValueMarker,allowSettingsDialog:t.allowSettingsDialog,plot:t.plot,plotTheme:t.plotTheme,source:t.source};this._options=jQuery.extend({},e.defaults,t)},e.prototype.destroy=function(){this.panel.removePlot(this.plot),this._titleControls.rootDiv.remove()},e.defaults={allowSettingsDialog:!1,allowAboutDialog:!1,allowCheckValueMarker:!0},e);function e(t){this.loadState(t),this._panel=t.instrumentComparisonHandler.panel,this._instrumentComparisonHandler=t.instrumentComparisonHandler,this._setValues(t),this._init(),this._initPanelTitle()}h.InstrumentCompare=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(a){"use strict";a.ZoomInMode={DATE_RANGE:"dateRange",RECT:"rect"},Object.freeze(a.ZoomInMode);var r={ZOOM_RECTANGLE:"scxZoomRectangle",ZOOM_IN:"scxZoomIn"};Object.freeze(r);var e,t=(e=a.Control,__extends(i,e),Object.defineProperty(i.prototype,"theme",{get:function(){return this._theme||this.chart.theme.zoomIn},set:function(t){this._theme=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"container",{get:function(){return this.panel.container},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chart",{get:function(){return this.panel.chart},enumerable:!0,configurable:!0}),i.prototype._initGestures=function(){return new a.GestureArray([new a.ClickGesture({handler:this._handleMouseClickGesture,hitTest:this.hitTest}),new a.MouseHoverGesture({handler:this._handleMouseMoveGesture,hitTest:this.hitTest})],this)},i.prototype._handleMouseClickGesture=function(t,e){if(this.chart.state===a.ChartState.ZOOM_IN){this._panelTop=this.panel.frame.top,this._panelHeight=this.panel.frame.height;var i=this._panelTop;if(this._addPoint({x:e.pointerPosition.x,y:e.pointerPosition.y-i}),1===this._points.length)this._createControls();else if(2===this._points.length)return void this.finishDraw();this.updateVisibility(!0),this.setPosition()}},i.prototype._handleMouseMoveGesture=function(t,e){null!=this._startPoint&&this.movePosition({x:e.pointerPosition.x,y:e.pointerPosition.y-this._panelTop})},i.prototype.hitTest=function(t){return this.panel.contentFrame.containsPoint(t)},i.prototype._createControls=function(){this.panel&&(this._controls={rectangle:this.container.scxAppend("div",r.ZOOM_RECTANGLE)},this.applyTheme(),this.updateVisibility(!1))},i.prototype._addPoint=function(t){null==this._points&&(this._points=[]),this._points.push(t)},i.prototype.finishDraw=function(){var t=this.chart,e=t.dateScale.projection,i=this._points;t.state=a.ChartState.NORMAL,this.updateVisibility(!1);var o=e.recordByX(Math.min(i[0].x,i[1].x)),e=e.recordByX(Math.max(i[0].x,i[1].x));if(o>=t.recordCount)t.fireValueChanged(a.ChartEvent.ZOOM_IN_FINISHED);else{if(o<e){if(o<0&&e<=(o=0))return;t.recordRange(o,e),t.setNeedsUpdate(),this.zoomMode===a.ZoomInMode.RECT?this._setScalesValues(i[0].y,i[1].y):t.setNeedsAutoScale()}this._points=null,this.container.find("."+r.ZOOM_RECTANGLE).remove(),t.fireValueChanged(a.ChartEvent.ZOOM_IN_FINISHED)}},i.prototype.cancelDraw=function(){this._points=null,this.panel&&(this.updateVisibility(!1),this.container.find("."+r.ZOOM_RECTANGLE).remove())},i.prototype.applyTheme=function(){var t=this.theme;this._controls.rectangle.scxBorder("border",t.border).scxFill(t.fill)},i.prototype.updateVisibility=function(t){var e=this._controls;this._controls&&(t?this.container.addClass(r.ZOOM_IN):this.container.removeClass(r.ZOOM_IN),a.HtmlUtil.setVisibility(e.rectangle,t))},i.prototype.setPosition=function(t){this._startPoint=this._points[0],t?this._positionAnimation.start():this.draw()},i.prototype.movePosition=function(t,e){this._movePoint=t,e?this._positionAnimation.start():this.draw()},i.prototype.draw=function(){var t,e,i,o,r,n;this._positionAnimation&&(this._positionAnimation.stop(),(t=this._startPoint)&&((n=null==this._movePoint?t:this._movePoint).x>this.panel.contentFrame.width&&(n.x=this.panel.contentFrame.width),r=o=i=e=0,this.zoomMode===a.ZoomInMode.DATE_RANGE?(i=0,o=Math.abs(n.x-t.x),r=this._panelHeight,e=(t.x>n.x?n:t).x):(o=Math.abs(n.x-t.x),r=Math.abs(n.y-t.y),i=t.x<=n.x?(e=t.x,(t.y<=n.y?t:n).y):(e=n.x,t.y<=n.y?n.y-r:n.y)),(n=this._controls.rectangle).scxFrame({left:e,top:i,width:o,height:r}),n.css("position","absolute")))},i.prototype._setScalesValues=function(t,e){for(var i=0,o=this.chart.chartPanels;i<o.length;i++)for(var r=0,n=o[i].valueScales;r<n.length;r++){var a=n[r],l=a.projection.valueByY(t),s=a.projection.valueByY(e);a.minVisibleValue=Math.min(l,s),a.maxVisibleValue=Math.max(l,s)}},i.prototype.destroy=function(){this._controls.rectangle.remove(),this._controls=null},i);function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._positionAnimation=new a.Animation({callback:t.draw}),t.zoomMode=a.ZoomInMode.DATE_RANGE,t._panelTop=0,t._panelHeight=0,t}a.ZoomInView=t}(StockChartX=StockChartX||{}),function(r){"use strict";r.XPointBehavior={X:"x",RECORD:"record",DATE:"date"},Object.freeze(r.XPointBehavior),r.YPointBehavior={Y:"y",VALUE:"value"},Object.freeze(r.YPointBehavior);var t=(n.convert=function(t,e,i){var o={};switch(e.x){case r.XPointBehavior.X:o.x=t.x;break;case r.XPointBehavior.RECORD:o.record=null!=t.x?i.recordByX(t.x,!1):null;break;case r.XPointBehavior.DATE:o.date=null!=t.x?i.dateByX(t.x):null;break;default:throw new Error("Unknown X point behavior: "+e.x)}switch(e.y){case r.YPointBehavior.Y:o.y=t.y;break;case r.YPointBehavior.VALUE:o.value=null!=t.y?i.valueByY(t.y):null;break;default:throw new Error("Unknown Y point behavior: "+e.y)}return new n(o)},n.prototype.clear=function(){delete this.x,delete this.y,delete this.date,delete this.value,delete this.record},n.prototype.getX=function(t){return null!=this.x?this.x:null!=this.date?t.xByDate(this.date):null!=this.record?t.xByRecord(this.record,!1):null},n.prototype.getDate=function(t){return null!=this.x?t.dateByX(this.x):null!=this.date?this.date:null!=this.record?t.dateByX(t.xByRecord(this.record,!1)):null},n.prototype.getRecord=function(t){return null!=this.x?t.recordByX(this.x,!1):null!=this.date?t.recordByX(t.xByDate(this.date,!1),!1):null!=this.record?this.record:null},n.prototype.getY=function(t){return null!=this.y?this.y:null!=this.value?t.yByValue(this.value):null},n.prototype.getValue=function(t){return null!=this.value?this.value:null!=this.y?t.valueByY(this.y):null},n.prototype.toPoint=function(t){return{x:this.getX(t),y:this.getY(t)}},n.prototype.moveTo=function(t,e,i){return this.moveToX(t,i).moveToY(e,i)},n.prototype.moveToPoint=function(t,e){return this.moveTo(t.x,t.y,e)},n.prototype.moveToX=function(t,e){return null!=this.x?this.x=t:null!=this.date?this.date=null!=t?e.dateByX(t):null:null!=this.record&&(this.record=null!=t?e.recordByX(t,!1):null),this},n.prototype.moveToY=function(t,e){return null!=this.y?this.y=t:null!=this.value&&(this.value=null!=t?e.valueByY(t):null),this},n.prototype.translate=function(t,e,i){var o=this.getX(i),r=this.getY(i);return this.moveTo(null!=o?o+t:null,null!=r?r+e:null,i)},n.prototype.clone=function(){return new n(this)},n);function n(t){null!=(t=t||{}).x&&(this.x=t.x),null!=t.y&&(this.y=t.y),null!=t.date&&(this.date="string"==typeof t.date?new Date(t.date):t.date),null!=t.value&&(this.value=t.value),null!=t.record&&(this.record=t.record)}r.ChartPoint=t}(StockChartX=StockChartX||{}),function(t){"use strict";var e;(e=t.TextAlign||(t.TextAlign={})).LEFT="left",e.CENTER="center",e.RIGHT="right",(t=t.TextBaseline||(t.TextBaseline={})).TOP="top",t.MIDDLE="middle",t.BOTTOM="bottom",t.ALPHABETIC="alphabetic"}(StockChartX=StockChartX||{}),function(o){"use strict";var t=(Object.defineProperty(i.prototype,"canvas",{get:function(){return this._canvas},set:function(t){this._canvas=t,this._context=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),i.prototype._setLineDashFunc=function(){var t,e=this._lineDashFunc;e||(e=(t=this._context).setLineDash?function(t){this.setLineDash(t)}:"mozDash"in t?function(t){this.mozDash=t}:"webkitLineDash"in t?function(t){this.webkitLineDash=t}:function(t){},this._lineDashFunc=e)},i.prototype.save=function(){this._context.save()},i.prototype.restore=function(){this._context.restore()},i.prototype.translate=function(t,e){this._context.translate(t,e)},i.prototype.rotate=function(t){this._context.rotate(t)},i.prototype.scale=function(t,e){this._context.scale(t,e)},i.prototype.clearRect=function(t,e,i,o){this._context.clearRect(t,e,i,o)},i.prototype.clip=function(){this._context.clip()},i.prototype.textWidth=function(t){return this._context.measureText(t).width},i.prototype.beginPath=function(){this._context.beginPath()},i.prototype.closePath=function(){this._context.closePath()},i.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},i.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},i.prototype.line=function(t,e,i,o){var r=this._context;r.moveTo(t,e),r.lineTo(i,o)},i.prototype.linePath=function(t,e,i,o){this.beginPath(),this.line(t,e,i,o)},i.prototype.verLine=function(t,e,i){this.line(t,e,t,i)},i.prototype.verLinePath=function(t,e,i){this.beginPath(),this.verLine(t,e,i)},i.prototype.horLine=function(t,e,i){this.line(t,i,e,i)},i.prototype.horLinePath=function(t,e,i){this.beginPath(),this.horLine(t,e,i)},i.prototype.polyline=function(t){var e=t.length;if(0!==e)for(var i=this._context,o="object"==typeof t[0],r=o?1:2,n=0;n<e;n+=r){var a,l=void 0,s=void 0;s=o?(l=(a=t[n]).x,a.y):(l=t[n],t[n+1]),0===n?i.moveTo(l,s):i.lineTo(l,s)}},i.prototype.polylinePath=function(t){this.beginPath(),this.polyline(t)},i.prototype.polygon=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0<t.length&&(this.polyline(t),this._context.closePath())},i.prototype.polygonPath=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.beginPath(),this.polygon.apply(this,t)},i.prototype.rect=function(t,e,i,o){this._context.rect(t,e,i,o)},i.prototype.rectPath=function(t,e,i,o){this.beginPath(),this.rect(t,e,i,o)},i.prototype.circle=function(t,e,i){this.arc(t,e,i,0,2*Math.PI)},i.prototype.circlePath=function(t,e,i){this.beginPath(),this.circle(t,e,i)},i.prototype.ellipse=function(t,e,i,o){var r=this._context;r.save(),r.translate(t,e),i!==o&&r.scale(1,o/i),this.circle(0,0,i),r.restore()},i.prototype.ellipsePath=function(t,e,i,o){this.beginPath(),this.ellipse(t,e,i,o)},i.prototype.arc=function(t,e,i,o,r,n){this._context.arc(t,e,i,o,r,n)},i.prototype.arcPath=function(t,e,i,o,r,n){this.beginPath(),this.arc(t,e,i,o,r,n)},i.prototype.bezierCurve=function(t,e,i,o,r,n){this._context.bezierCurveTo(t,e,i,o,r,n)},i.prototype.quadraticCurve=function(t,e,i,o){this._context.quadraticCurveTo(t,e,i,o)},i.prototype.image=function(t,e,i,o,r){o&&r?this._context.drawImage(t,e,i,o,r):this._context.drawImage(t,e,i)},i.prototype.textOptions=function(t){var e=this._context;t.align&&(e.textAlign=t.align),t.baseline&&(e.textBaseline=t.baseline)},i.prototype.textTheme=function(t){t&&(this._context.font=i._getFont(t),this.fillTheme(t),this.strokeTheme(t))},i._getFont=function(t){return t?(t.fontStyle||o.FontDefaults.fontStyle)+" "+(t.fontVariant||o.FontDefaults.fontVariant)+" "+(t.fontWeight||o.FontDefaults.fontWeight)+" "+(t.fontSize||o.FontDefaults.fontSize)+"px "+(t.fontFamily||o.FontDefaults.fontFamily):o.FontDefaults.fontSize+"px "+o.FontDefaults.fontFamily},i.prototype.fillText=function(t,e,i,o){o&&this.textTheme(o),this._context.fillText(t,e,i)},i.prototype.strokeTheme=function(t,e){t&&(!e&&!1===t.strokeEnabled||(e=this._context,(t.strokePriority||o.StrokeDefaults.strokePriority)===o.StrokePriority.COLOR&&(e.strokeStyle=t.strokeColor||o.StrokeDefaults.strokeColor),e.lineCap=t.lineCap||o.StrokeDefaults.lineCap,e.lineJoin=t.lineJoin||o.StrokeDefaults.lineJoin,e.lineWidth=t.width||o.StrokeDefaults.width,t=i._getDashArray(t.lineStyle||o.StrokeDefaults.lineStyle),this._setLineDashFunc(),this._lineDashFunc.call(e,t)))},i.prototype.stroke=function(t,e){t&&(!e&&!1===t.strokeEnabled||(this.strokeTheme(t,e),this._context.stroke()))},i.prototype.fillTheme=function(t,e){t&&(!e&&!1===t.fillEnabled||(t.fillPriority,e=void 0,e=t.linearGradient?this._linearGradientFillStyle(t.linearGradient):t.radialGradient?this._radialGradientFillStyle(t.radialGradient):t.fillColor||"black",this._context.fillStyle=e))},i.prototype.fill=function(t,e,i){if(t){if(!e&&!1===t.fillEnabled)return;this.fillTheme(t,e)}this._context.fill(i)},i.prototype.fillStroke=function(t,e){this.fill(t),this.stroke(e)},i.prototype.fillStrokeTheme=function(t,e){this.fillTheme(t),this.strokeTheme(e)},i.prototype._linearGradientFillStyle=function(t){var e=this._context.createLinearGradient(0,0,0,this._canvas.height);if("string"==typeof t[0])for(var i=t.length,o=1/i,r=o,n=0;n<i;n++)e.addColorStop(r=n===i-1?1:r,t[n]),r+=o;else for(var a=0,l=t;a<l.length;a++){var s=l[a];e.addColorStop(s.stop,s.color)}return e},i.prototype._radialGradientFillStyle=function(t){var e=t[0],i=e.center,o=e.radius,r=e.stop,n=void 0===r?.5:r,a=e.color,l=t[1],r=l.center,e=l.radius,t=l.stop,t=void 0===t?1:t,l=l.color,e=this._context.createRadialGradient(i.x,i.y,o,r.x,r.y,e);return e.addColorStop(n,a),e.addColorStop(t,l),e},i._getDashArray=function(t){var e=o.LineStyle,i=o.DashArray;switch(t){case e.DASH:return i.DASH;case e.DOT:return i.DOT;case e.DASH_DOT:return i.DASH_DOT;default:return[]}},i);function i(){}o.CanvasRenderer=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";i.CanvasOffset=.5;var o,t=(o=i.Component,__extends(e,o),Object.defineProperty(e.prototype,"canvas",{get:function(){return this._canvas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return{width:this._width||0,height:this._height||0}},set:function(t){var e=this._canvas,i=this.scale*(window.devicePixelRatio||1),o=!1;this._width!==t.width&&(e.attr("width",t.width*i),this._width=t.width,o=!0),this._height!==t.height&&(e.attr("height",t.height*i),this._height=t.height,o=!0),o&&this.renderer.scale(i,i)},enumerable:!0,configurable:!0}),e.prototype.adjustDimensions=function(){this.size=this.size},e.prototype.destroy=function(){this._parent&&(this._parent.remove(),this._parent=null),this._canvas=null,this._renderer=null},e.prototype._setup=function(t){this._canvas=t.scxAppendCanvas().css({height:"100%",width:"100%"}),this._renderer.canvas=this._canvas.get(0)},e);function e(t){var e=o.call(this)||this;return e._renderer=new i.CanvasRenderer,e._scale=2,e._parent=t.parent,e._setup(e._parent),t.size&&(e.size=t.size),e}i.Layer=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var i,t=(i=r.ChartComponent,__extends(e,i),Object.defineProperty(e.prototype,"actualTheme",{get:function(){return this.theme||this.chart.theme.selectionMarker},enumerable:!0,configurable:!0}),e.prototype.draw=function(e,t){var i=this,o=this.actualTheme;e.beginPath(),r.JsUtil.flattenedArray(t,function(t){return i._drawMarker(e,t)}),e.fillStroke(o.fill,o.line)},e.prototype._drawMarker=function(t,e){var i=this.width;t.moveTo(e.x+i,e.y),t.circle(e.x,e.y,i)},e);function e(t){var e=i.call(this,t)||this;return e.width=null,e.theme=null,t&&(e.theme=t.theme,e.width=t.width),e}r.SelectionMarker=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(c){"use strict";var n;(i=n=c.DrawingEvent||(c.DrawingEvent={})).PANEL_CHANGED="drawingPanelChanged",i.VALUE_SCALE_CHANGED="drawingValueScaleChanged",i.VISIBLE_CHANGED="drawingVisibleChanged",i.POINTS_CHANGED="drawingPointsChanged",i.LOCKED_CHANGED="drawingLockedChanged",i.RESIZABLE_CHANGED="drawingResizableChanged",i.SELECTABLE_CHANGED="drawingSelectableChanged",i.SELECTED_CHANGED="drawingSelectedChanged",i.THEME_CHANGED="drawingThemeChanged",i.DRAG_STARTED="drawingDragStarted",i.DRAG_FINISHED="chartUserDrawingDragFinished",i.DOUBLE_CLICK="chartDrawingDoubleClick",i.CONTEXT_MENU="chartDrawingContextMenu",c.MagnetPoint={BAR:"bar",HIGH:"high",LOW:"low",OPEN:"open",CLOSE:"close"},c.MagnetMode={NONE:"none",ALWAYS:"always",NEAR:"near"},c.DrawingDragPoint={NONE:null,ALL:-1,MOVE_POINT1:1,MOVE_POINT2:2};var l=0,s=1;c.DrawingCursorClass={CREATE:"scxDrawingCreate",MOVE:"scxDrawingMove",RESIZE:"scxDrawingResize",RESIZE_EW:"scxDrawingResizeEW",RESIZE_NS:"scxDrawingResizeNS",RESIZE_NESW:"scxDrawingResizeNESW",RESIZE_NWSE:"scxDrawingResizeNWSE"},c.minPointsDistance=5;var t=(Object.defineProperty(e,"registeredDrawings",{get:function(){return this._drawings.registeredItems},enumerable:!0,configurable:!0}),e.register=function(t){this._drawings.register(t.className,t)},e.deserialize=function(t){if(!t)return null;var e="string"==typeof t?JSON.parse(t):t,t=this._drawings.createInstance(e.className);return t.loadState(e),t},e._drawings=new c.ClassRegistrar,e);function e(){}var r,i=(r=c.ChartPanelObject,__extends(o,r),Object.defineProperty(o,"subClassName",{get:function(){return"abstract"},enumerable:!0,configurable:!0}),Object.defineProperty(o,"className",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"_defaults",{get:function(){return this.constructor.defaults},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"className",{get:function(){return this.constructor.className},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"chartPoints",{get:function(){var t=this._options.points;return this._lastCreatePoint?t.concat(this._lastCreatePoint):t},set:function(t){this.setChartPoints(t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"locked",{get:function(){return this._options.locked},set:function(t){this._setOption("locked",t,n.LOCKED_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"resizable",{get:function(){return this._options.resizable},set:function(t){this._setOption("resizable",t,n.RESIZABLE_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selectable",{get:function(){return this._options.selectable},set:function(t){this._setOption("selectable",t,n.SELECTABLE_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"removable",{get:function(){var t=this._options.removable;return null==t||t},set:function(t){this._setOption("removable",t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"canRemove",{get:function(){return this.selectable&&this.removable&&!this.isMoving()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"theme",{get:function(){return this._options.theme},set:function(t){this._options.theme=t,this.fire(n.THEME_CHANGED,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"actualTheme",{get:function(){var t=this._options.theme;return t||this.defaultTheme},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"defaultTheme",{get:function(){var t=this.chart;if(!t)return null;t=t.theme.drawing;return t[this.className]||t[this.constructor.subClassName]},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"createPointBehavior",{get:function(){return this._options.createPointBehavior},set:function(t){this._options.createPointBehavior=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"magnetMode",{get:function(){return this._options.magnetMode},set:function(t){this._options.magnetMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"magnetPoint",{get:function(){return this._options.magnetPoint},set:function(t){this._options.magnetPoint=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"selected",{get:function(){return this._selected},set:function(t){var e,i=this._selected;i!==(t=!!t)&&(this._selected=t,(e=this.chart)&&(t?e.selectedObject=this:this===e.selectedObject&&(e.selectedObject=null)),this._onSelectedChanged(),this.fire(n.SELECTED_CHANGED,t,i))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"canHandleEvents",{get:function(){return this.visible&&this.chart.showDrawings},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"canSelect",{get:function(){return this.selectable},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"canMove",{get:function(){return this.selectable&&!this.locked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"canResize",{get:function(){return this.selectable&&this.resizable&&!this.locked},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pointsNeeded",{get:function(){return 1},enumerable:!0,configurable:!0}),o.prototype.pointsLocalizationKeys=function(){return null},o.prototype._onSelectedChanged=function(){},o.prototype._onChartPanelChanged=function(t){this.tooltip.applyTheme(),this.fire(n.PANEL_CHANGED,this.chartPanel,t)},o.prototype._onValueScaleChanged=function(t){this.fire(n.VALUE_SCALE_CHANGED,this.valueScale,t)},o.prototype._onVisibleChanged=function(t){this.fire(n.VISIBLE_CHANGED,this.visible,t)},o.prototype._optionValue=function(t){var e=this._options[t];return null!=e?e:this._defaults[t]},o.prototype._isLargeEnough=function(){var t=this.cartesianPoints();if(1===t.length)return!0;for(var e=1;e<t.length;e++){var i=t[e-1],o=t[e];if(Math.abs(i.x-o.x)>c.minPointsDistance||Math.abs(i.y-o.y)>c.minPointsDistance)return!0}return!1},o.prototype._initGestures=function(){this._gestures=new c.GestureArray([new c.ClickGesture({handler:this._handleClickGesture,hitTest:this._clickGestureHitTest}),new c.DoubleClickGesture({handler:this._handleDoubleClickGesture,hitTest:this.hitTest}),new c.ContextMenuGesture({handler:this._handleContextMenuGesture,hitTest:this._clickGestureHitTest}),new c.PanGesture({handler:this._handlePanGestureInternal,hitTest:this._panGestureHitTest,button:c.MouseButton.LEFT}),new c.MouseHoverGesture({handler:this._handleMouseHoverGestureInternal,enterEventEnabled:!0,hoverEventEnabled:!0,leaveEventEnabled:!0,hitTest:this.hitTest})],this)},o.prototype._handleMouseHoverGestureInternal=function(t,e){var i=this.tooltip;if(this.chart.showDrawingTooltips&&this._drawingState!==s){if(!this._handleMouseHoverGesture(t,e))switch(t.state){case c.GestureState.STARTED:case c.GestureState.CONTINUED:this.showTooltip(e.pointerPosition);break;case c.GestureState.FINISHED:this.hideTooltip()}}else i.hide()},o.prototype._handleMouseHoverGesture=function(t,e){return!1},o.prototype._clickGestureHitTest=function(t){return this.visible&&this.canSelect&&this.hitTest(t)},o.prototype._panGestureHitTest=function(t){return this.visible&&this.canMove&&this.hitTest(t)},o.prototype._handlePanGestureInternal=function(t,e){if(this._drawingState=t.state!==c.GestureState.FINISHED?s:l,this._contextMenu&&t.state===c.GestureState.CONTINUED&&this._contextMenu.hide(),this.tooltip.hide(),t.state===c.GestureState.CONTINUED&&this.magnetMode!==c.MagnetMode.NONE&&(e.pointerPosition=this._magnetizePoint(e.pointerPosition)),!this.canResize||!this._handlePanGesture(t,e))switch(t.state){case c.GestureState.STARTED:var i=this.chart.selectedObject;if(this._setDragPoint(c.DrawingDragPoint.ALL),this.changeCursor(c.DrawingCursorClass.MOVE),i!==this)return void this.setNeedsUpdateChart();break;case c.GestureState.FINISHED:this._setDragPoint(c.DrawingDragPoint.NONE);break;case c.GestureState.CONTINUED:if(this._dragPoint===c.DrawingDragPoint.ALL)if(this.magnetMode!==c.MagnetMode.NONE&&1===this.chartPoints.length){i=this._magnetizePoint(e.pointerPosition);this.chartPoints[0].moveToPoint(i,this.projection)}else for(var o=this.projection,r=t.moveOffset,n=0,a=this.chartPoints;n<a.length;n++)a[n].translate(r.x,r.y,o)}t.state===c.GestureState.FINISHED&&this.changeCursor(),this.setNeedsUpdatePanel()},o.prototype._magnetizePoint=function(t){if(this.magnetMode===c.MagnetMode.NONE)return t;var e=this.projection,i=e.recordByX(t.x);if(i<0||i>=this.chart.recordCount)return t;var o=this.chart.primaryBar(i);if(!o)return t;var r={x:e.xByRecord(i),y:0};switch(this.magnetPoint){case c.MagnetPoint.OPEN:r.y=e.yByValue(o.open);break;case c.MagnetPoint.HIGH:r.y=e.yByValue(o.high);break;case c.MagnetPoint.LOW:r.y=e.yByValue(o.low);break;case c.MagnetPoint.CLOSE:r.y=e.yByValue(o.close);break;case c.MagnetPoint.BAR:switch(this.magnetMode){case c.MagnetMode.NEAR:return(r.y=e.yByValue(o.high),this._canMagnetizeToPoint(t,r))?r:(r.y=e.yByValue(o.low),this._canMagnetizeToPoint(t,r)?r:(r.y=e.yByValue(o.open),this._canMagnetizeToPoint(t,r)?r:(r.y=e.yByValue(o.close),this._canMagnetizeToPoint(t,r)?r:t)));case c.MagnetMode.ALWAYS:var n=e.yByValue(o.high),a=e.yByValue(o.low),l=e.yByValue(o.open),s=e.yByValue(o.close),s=[{y:n,distance:Math.abs(n-t.y)},{y:a,distance:Math.abs(a-t.y)},{y:l,distance:Math.abs(l-t.y)},{y:s,distance:Math.abs(s-t.y)}],s=s.reduce(function(t,e){return e.distance<t.distance?e:t},s[0]);return r.y=s.y,r}}return this._canMagnetizeToPoint(t,r)?r:t},o.prototype._canMagnetizeToPoint=function(t,e){switch(this.magnetMode){case c.MagnetMode.NONE:return!1;case c.MagnetMode.ALWAYS:return!0;case c.MagnetMode.NEAR:var i=c.Geometry.DEVIATION,o=void 0;c.Geometry.DEVIATION=c.Geometry.MAGNET_DEVIATION;try{o=c.Geometry.isPointNearPoint(t,e)}finally{c.Geometry.DEVIATION=i}return o;default:throw new Error("Unknown magnet mode: "+this.magnetMode)}},o.prototype._handleClickGesture=function(){!this.selected&&this.canSelect&&(this.select(),this.setNeedsUpdateChart())},o.prototype._handleDoubleClickGesture=function(){this.fire(n.DOUBLE_CLICK,this),this.selectable&&this._showSettingsDialog()},o.prototype._handleContextMenuGesture=function(t,e){this.fire(n.CONTEXT_MENU,this),this.selectable&&(this.chart.localize(this._contextMenu.container),this._contextMenu.show(e.evt))},o.prototype._handleUserDrawingPoint=function(t){return!1},o.prototype._handleUserDrawingClickGesture=function(t,e){this.chartPanel||e.chartPanel.addDrawings(this);e=this._normalizeUserDrawingPoint(e.pointerPosition);if(this._lastCreatePoint=null,this._handleUserDrawingPoint(e)||this.appendChartPoint(e),this.chartPoints.length>=this.pointsNeeded){if(!this._isLargeEnough())return void this.chartPoints.pop();this._finishUserDrawing()}this.setNeedsUpdatePanel()},o.prototype._handleUserDrawingMoveGesture=function(t,e){0<this.chartPoints.length&&(this._lastCreatePoint=this._normalizeUserDrawingPoint(e.pointerPosition),this.setNeedsUpdatePanel())},o.prototype._normalizeUserDrawingPoint=function(t){return c.ChartPoint.convert(t,this.createPointBehavior,this.projection)},o.prototype._showSettingsDialog=function(){var e=this;this.chart&&c.UI.ViewLoader.drawingSettingsDialog(function(t){t.show({chart:e.chart,drawing:e})})},o.prototype.setChartPoints=function(t){if(t||(e=[]),t instanceof c.ChartPoint)e=[t];else if(Array.isArray(t))for(var e=[],i=0,o=t;i<o.length;i++){var r=o[i];e.push(new c.ChartPoint(r))}else e=[new c.ChartPoint(t)];this._setOption("points",e,n.POINTS_CHANGED)},o.prototype.setChartPointsWithNormalize=function(t){t=t.map(this._normalizeUserDrawingPoint.bind(this));this.setChartPoints(t)},o.prototype.appendChartPoint=function(t){var e=this._options.points;return e.push(new c.ChartPoint(t)),e},o.prototype.cartesianPoint=function(t){t=this.chartPoints[t];return t&&t.toPoint(this.projection)},o.prototype.cartesianPoints=function(){var e=this.projection;return this.chartPoints.map(function(t){return t.toPoint(e)})},o.prototype.select=function(){!this.selected&&this.canSelect&&this.chart.selectObject(this)},o.prototype.translate=function(t,e){for(var i=this.projection,o=0,r=this.chartPoints;o<r.length;o++)r[o].translate(t,e,i)},o.prototype.bounds=function(){return null},o.prototype.startUserDrawing=function(){this._createClickGesture=new c.ClickGesture({hitTest:function(){return!0},handler:this._handleUserDrawingClickGesture,context:this}),this._createMoveGesture=new c.MouseHoverGesture({enterEventEnabled:!1,leaveEventEnabled:!1,hitTest:function(){return!0},handler:this._handleUserDrawingMoveGesture,context:this}),this.chartPoints=[],this.selected=!0,this.remove()},o.prototype._finishUserDrawing=function(){this._createClickGesture=null,this._createMoveGesture=null,this._lastCreatePoint=null,this.tooltip.applyTheme(),this.chart._finishUserDrawing()},o.prototype.hitTest=function(t){return!1},o.prototype.handleEvent=function(t){return this._createClickGesture?this._createClickGesture.handleEvent(t)||this._createMoveGesture.handleEvent(t):this._gestures.handleEvent(t)},o.prototype._handlePanGesture=function(t,e){return!1},o.prototype._setDragPoint=function(t){this._dragPoint!==t&&(this._dragPoint=t,this._dragPoint===c.DrawingDragPoint.NONE?this.fire(n.DRAG_FINISHED):(this.fire(n.DRAG_STARTED),this.select()))},o.prototype._getSelectionMarkerWidth=function(t){return(t&&t.line&&t.line.width||1)+2},o.prototype._drawSelectionMarkers=function(t){var e;t&&((e=this.chart.selectionMarker).width=this._getSelectionMarkerWidth(this.actualTheme),e.draw(this.renderer,t))},o.prototype._drawSelectionMarkersIfSelected=function(t){this.selected&&this._drawSelectionMarkers(t)},o.prototype.saveState=function(){var t=r.prototype.saveState.call(this);return t.className=this.className,t},o.prototype.loadState=function(t){r.prototype.loadState.call(this,t=t||{});var e=t,i=t.options||{},t=this.suppressEvents(!0);this.createPointBehavior||(this.createPointBehavior=e.createPointBehavior||this._defaults.createPointBehavior||o.defaults.createPointBehavior),this.chartPoints=e.point||e.points||i&&i.points,null==i.visible&&(this.visible=null==e.visible||e.visible),null==i.selectable&&(this.selectable=null==e.selectable||e.selectable),null==i.locked&&(this.locked=null!=e.locked&&e.locked),null==i.resizable&&(this.resizable=null==e.resizable||e.resizable),null==i.theme&&(this.theme=e.theme),i.magnetMode||(this.magnetMode=e.magnetMode||c.MagnetMode.NONE),i.magnetPoint||(this.magnetPoint=e.magnetPoint||c.MagnetPoint.BAR),null==this.zIndex&&(this.zIndex=e.zIndex||this._defaults.zIndex||o.defaults.zIndex),this.suppressEvents(t)},o.prototype.drawValueMarkers=function(){},o.prototype.drawDateMarkers=function(){},o.prototype.clone=function(){var t=o.deserialize(this.saveState());return t.chartPanel=this.chartPanel,t},o.prototype.remove=function(){var t=this.chartPanel;return!!t&&(t.forceRemoveDrawings(this),this.setNeedsUpdatePanel(),!(this.chartPanel=null))},o.prototype.setNeedsUpdateChart=function(){var t=this.chart;t&&t.setNeedsUpdate()},o.prototype.setNeedsUpdatePanel=function(){var t=this.chartPanel;t&&t.setNeedsUpdate()},o.prototype.isMoving=function(){return this._drawingState===s},o.prototype.destroy=function(){this.chart.rootDiv.removeClass(c.DrawingCursorClass.MOVE),r.prototype.destroy.call(this)},o.defaults={createPointBehavior:{x:c.XPointBehavior.DATE,y:c.YPointBehavior.VALUE},zIndex:200},o);function o(t){var o=r.call(this,t)||this;return o._drawingState=l,o._selected=!1,o._dragPoint=c.DrawingDragPoint.NONE,o.loadState(t),o._initGestures(),o._contextMenu=new c.UI.DrawingContextMenu({drawing:o,onShow:function(){o.select()},onItemSelected:function(t,e){var i=t.data("id");if(o.chart)switch(i){case c.UI.DrawingContextMenu.MenuItem.SETTINGS:o._showSettingsDialog();break;case c.UI.DrawingContextMenu.MenuItem.CLONE:o.chart._copyDrawing(),o.chart._pasteDrawing();break;case c.UI.DrawingContextMenu.MenuItem.DELETE:o.canRemove&&o.remove();break;default:throw new Error("Unknown menu item "+i)}}}),o}c.Drawing=i,c.JsUtil.applyMixins(i,[t])}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var e=i.DrawingEvent||(i.DrawingEvent={});e.DOT_RADIUS_CHANGED="drawingDotRadiusChanged";var o,t=(o=i.Drawing,__extends(r,o),Object.defineProperty(r,"className",{get:function(){return"dot"},enumerable:!0,configurable:!0}),Object.defineProperty(r,"subClassName",{get:function(){return"abstractMarker"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"radius",{get:function(){return this._options.radius||this._defaults.radius||r.defaults.radius},set:function(t){if(i.JsUtil.isNegativeNumber(t))throw new TypeError("Radius must be a positive number.");this._setOption("radius",t,e.DOT_RADIUS_CHANGED)},enumerable:!0,configurable:!0}),r.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start"]},r.prototype.bounds=function(){var t=this.cartesianPoint(0);if(!t)return null;var e=this.radius;return{left:t.x-e,top:t.y-e,width:2*e,height:2*e}},r.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoint(0);return!!e&&i.Geometry.isPointInsideOrNearCircle(t,e,this.radius)},r.prototype.draw=function(){var t,e,i;!this.visible||(t=this.cartesianPoint(0))&&(e=this.renderer,i=this.actualTheme,e.circlePath(t.x,t.y,this.radius),e.fillStroke(i.fill,i.stroke),this._drawSelectionMarkersIfSelected(t))},r.defaults={radius:5},r);function r(t){return o.call(this,t)||this}i.DotDrawing=t,i.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(h){"use strict";var e,t=(e=h.Drawing,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"note"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){return this._options.label||this._defaults.label||""},set:function(t){0!==t.length&&(this._options.label=t[0])},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start"]},i.prototype.bounds=function(){var t=this.cartesianPoint(0);if(!t)return null;var e=this._radius;return{left:t.x-e,top:t.y-2.7*e,width:2*e,height:2*e+7}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoint(0);return!!e&&(h.Geometry.isPointInsideOrNearCircle(t,{x:e.x,y:e.y-20},this._radius)||h.Geometry.isPointNearPoint(t,e))},i.prototype.draw=function(){var t,e,i,o,r,n,a,l,s,c;!this.visible||(t=this.cartesianPoint(0))&&(e=this.actualTheme,c=h.DummyCanvasContext.textWidth(this.label,e.text),i=this._radius=12+c/3,o=this.renderer,r=t.x,a=t.y-(n=18+c),l=6+c/9,s=12+c,o.linePath(r-(c=i/2),a,r+c,a),o.circle(r,a,i),o.moveTo(r+c+l,2+a),o.bezierCurve(r+c+l,a,r+10,a+s,r,a+n),o.bezierCurve(r,a+n,r-10,a+s,r-c-l,a),o.fillStroke(e.fill,e.stroke),o.linePath(r-(i-1.5),a,r+(i-1.5),a),o.circle(r,a,i-3),o.fillStroke(e.centerPointFill,e.stroke),o.textOptions({align:h.TextAlign.CENTER,baseline:h.TextBaseline.MIDDLE}),o.fillText(this.label,r,a,e.text),this._drawSelectionMarkersIfSelected(t))},i.defaults={label:"N"},i);function i(t){t=e.call(this,t)||this;return t._radius=12,t}h.NoteDrawing=t,h.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var e=i.DrawingEvent||(i.DrawingEvent={});e.SIZE_CHANGED="drawingSizeChanged";var o,t=(o=i.Drawing,__extends(r,o),Object.defineProperty(r,"subClassName",{get:function(){return"abstractMarker"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){return this._options.size||this._defaults.size||r.defaults.size},set:function(t){this._setOption("size",t,e.SIZE_CHANGED)},enumerable:!0,configurable:!0}),r.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start"]},r.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.bounds();return e&&i.Geometry.isPointInsideOrNearRect(t,e)},r.defaults={size:{width:14,height:14}},r);function r(t){return o.call(this,t)||this}i.GeometricMarkerDrawingBase=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(o){"use strict";var t,e=(t=o.GeometricMarkerDrawingBase,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"square"},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var t=this.cartesianPoint(0),e=this.size;return t?{left:Math.round(t.x-e.width/2),top:Math.round(t.y-e.height/2),width:e.width,height:e.height}:null},i.prototype.draw=function(){var t,e,i;!this.visible||(t=this.bounds())&&(e=this.renderer,i=this.actualTheme,e.rectPath(t.left+o.CanvasOffset,t.top+o.CanvasOffset,t.width,t.height),e.fillStroke(i.fill,i.stroke),this._drawSelectionMarkersIfSelected(this.cartesianPoint(0)))},i.defaults={size:{width:10,height:10}},i);function i(){return null!==t&&t.apply(this,arguments)||this}o.SquareDrawing=e,o.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.GeometricMarkerDrawingBase,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"diamond"},enumerable:!0,configurable:!0}),o.prototype.bounds=function(){var t=this.cartesianPoint(0);if(!t)return null;var e=this.size;return{left:Math.round(t.x-e.width/2),top:Math.round(t.y-e.height/2),width:e.width,height:e.height}},o.prototype.draw=function(){var t,e,i,o;!this.visible||(t=this.cartesianPoint(0))&&(e=this.renderer,o=this.size,i=Math.round(o.width/2),o=Math.round(o.height/2),e.polygonPath(t.x-i,t.y,t.x,t.y-o,t.x+i,t.y,t.x,t.y+o),o=this.actualTheme,e.fillStroke(o.fill,o.stroke),this._drawSelectionMarkersIfSelected(t))},o.defaults={size:{width:10,height:10}},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.DiamondDrawing=i,t.Drawing.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(l){"use strict";var e;(t=e=l.DrawingEvent||(l.DrawingEvent={})).ARROW_HEAD_RATIO_CHANGED="drawingArrowHeadRatioChanged",t.ARROW_TAIL_RATIO_CHANGED="drawingArrowTailRatioChanged";var i,t=(i=l.GeometricMarkerDrawingBase,__extends(o,i),Object.defineProperty(o.prototype,"headRatio",{get:function(){return this._options.headRatio||this._defaults.headRatio||o.defaults.headRatio},set:function(t){if(!l.JsUtil.isPositiveNumber(t)||1<=t)throw new Error("Value must be in range (0..1).");this._setOption("headRatio",t,e.ARROW_HEAD_RATIO_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"tailRatio",{get:function(){return this._options.tailRatio||this._defaults.tailRatio||o.defaults.tailRatio},set:function(t){if(!l.JsUtil.isPositiveNumber(t)||1<=t)throw new Error("Value must be in range (0..1).");this._setOption("tailRatio",t,e.ARROW_TAIL_RATIO_CHANGED)},enumerable:!0,configurable:!0}),o.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start"]},o.prototype.draw=function(){var t,e,i,o,r,n,a;!this.visible||(t=this.cartesianPoint(0))&&(e=this.renderer,i=this.actualTheme,r=(o=this.size).width/2,n=o.width*this.tailRatio/2,a=o.height*this.headRatio,e.save(),e.translate(t.x,t.y),e.rotate(this._angle*Math.PI/180),e.polygonPath(0,0,-r,-a+l.CanvasOffset,-n,-a+l.CanvasOffset,-n,-o.height+l.CanvasOffset,n,-o.height+l.CanvasOffset,n,-a+l.CanvasOffset,r,-a+l.CanvasOffset),e.fillStroke(i.fill,i.stroke),this.selected&&this._drawSelectionMarkers({x:0,y:0}),e.restore())},o.defaults={size:null,headRatio:.5,tailRatio:.5},o);function o(t){t=i.call(this,t)||this;return t._angle=0,t}l.ArrowDrawingBase=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.ArrowDrawingBase,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"arrowUp"},enumerable:!0,configurable:!0}),o.prototype.bounds=function(){var t=this.cartesianPoint(0);if(!t)return null;var e=this.size;return{left:Math.round(t.x-e.width/2),top:t.y,width:e.width,height:e.height}},o);function o(t){t=e.call(this,t)||this;return t._angle=180,t}t.ArrowUpDrawing=i,t.Drawing.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.ArrowDrawingBase,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"arrowDown"},enumerable:!0,configurable:!0}),o.prototype.bounds=function(){var t=this.cartesianPoint(0);if(!t)return null;var e=this.size;return{left:Math.round(t.x-e.width/2),top:Math.round(t.y-e.height),width:e.width,height:e.height}},o);function o(){return null!==e&&e.apply(this,arguments)||this}t.ArrowDownDrawing=i,t.Drawing.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.ArrowDrawingBase,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"arrowLeft"},enumerable:!0,configurable:!0}),o.prototype.bounds=function(){var t=this.cartesianPoint(0);if(!t)return null;var e=this.size;return{left:t.x,top:Math.round(t.y-e.height/2),width:e.width,height:e.height}},o);function o(t){t=e.call(this,t)||this;return t._angle=90,t}t.ArrowLeftDrawing=i,t.Drawing.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(t){"use strict";var e,i=(e=t.ArrowDrawingBase,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"arrowRight"},enumerable:!0,configurable:!0}),o.prototype.bounds=function(){var t=this.cartesianPoint(0);if(!t)return null;var e=this.size;return{left:t.x-e.width,top:Math.round(t.y-e.height/2),width:e.width,height:e.height}},o);function o(t){t=e.call(this,t)||this;return t._angle=-90,t}t.ArrowRightDrawing=i,t.Drawing.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(f){"use strict";var t,e=(t=f.ArrowDrawingBase,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"arrow"},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},i.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=f.Geometry.length(t[0],t[1]);return{left:t[0].x-e,top:t[0].y-e,width:2*e,height:2*e}},Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();return 1<e.length&&f.Geometry.isPointNearPolyline(t,e)},i.prototype._handlePanGesture=function(t,e){switch(t.state){case f.GestureState.STARTED:if(f.Geometry.isPointNearPoint(this.cartesianPoint(0),e.pointerPosition))this._setDragPoint(0);else{if(!f.Geometry.isPointNearPoint(this.cartesianPoint(1),e.pointerPosition))return!1;this._setDragPoint(1)}return this.changeCursor(f.DrawingCursorClass.RESIZE),!0;case f.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){var t,e,i,o,r,n,a,l,s,c,h,u;!this.visible||2===(t=this.cartesianPoints()).length&&(e=t[0].x,i=t[0].y,o=t[1].x,r=t[1].y,c=Math.sqrt((o-e)*(o-e)+(r-i)*(r-i)),h=Math.sqrt((e-e)*(e-e)+(r-i)*(r-i)),n=Math.acos(((o-e)*(e-e)+(r-i)*(r-i))/(c*h)),a=this.renderer,l=this.actualTheme,s=f.Geometry.length({x:e,y:i},{x:o,y:r}),c=50*this.tailRatio/2,h=s*this.headRatio,a.save(),a.translate(e,i),o<=e&&r<=i?u=i===r?-Math.PI/2:-n:e<=o&&r<=i?u=r===i?Math.PI/2:n:e<=o&&i<=r?u=o===e?2*Math.PI:Math.PI-n:o<=e&&i<=r&&(u=Math.PI+n),u&&a.rotate(u),a.polygonPath(0,0,0,-s,-25,-h,-c,-h,-c,f.CanvasOffset,c,f.CanvasOffset,c,-h,25,-h,0,-s),a.fillStroke(l.fill,l.stroke),a.restore(),this._drawSelectionMarkersIfSelected(t))},i);function i(){return null!==t&&t.apply(this,arguments)||this}f.Arrow=e,f.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var t,e=(t=i.Drawing,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"lineSegment"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),o.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},o.prototype.bounds=function(){var t=this.cartesianPoints();return t.length<this.pointsNeeded?null:{left:Math.min(t[0].x,t[1].x),top:Math.min(t[0].y,t[1].y),width:Math.abs(t[0].x-t[1].x),height:Math.abs(t[0].y-t[1].y)}},o.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();return 1<e.length&&i.Geometry.isPointNearPolyline(t,e)},o.prototype._handlePanGesture=function(t,e){switch(t.state){case i.GestureState.STARTED:if(i.Geometry.isPointNearPoint(this.cartesianPoint(0),e.pointerPosition))this._setDragPoint(0);else{if(!i.Geometry.isPointNearPoint(this.cartesianPoint(1),e.pointerPosition))return!1;this._setDragPoint(1)}return this.changeCursor(i.DrawingCursorClass.RESIZE),!0;case i.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},o.prototype.draw=function(){var t,e;this.visible&&(1<(t=this.cartesianPoints()).length&&((e=this.renderer).polylinePath(t),e.stroke(this.actualTheme.line)),this._drawSelectionMarkersIfSelected(t))},o);function o(){return null!==t&&t.apply(this,arguments)||this}i.LineSegmentDrawing=e,i.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(l){"use strict";var t,e=(t=l.Drawing,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"rectangle"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},i.prototype.bounds=function(){var t=this.cartesianPoints();return t.length<this.pointsNeeded?null:{left:Math.min(t[0].x,t[1].x),top:Math.min(t[0].y,t[1].y),width:Math.abs(t[0].x-t[1].x),height:Math.abs(t[0].y-t[1].y)}},i.prototype._markerPoints=function(t){if(!(t=t||this.bounds())){var e=this.cartesianPoint(0);return e&&[e]}var i=Math.round(t.left+t.width/2),o=Math.round(t.top+t.height/2),r=t.left+t.width,e=t.top+t.height;return[{x:t.left,y:t.top},{x:i,y:t.top},{x:r,y:t.top},{x:r,y:o},{x:r,y:e},{x:i,y:e},{x:t.left,y:e},{x:t.left,y:o}]},i.prototype._normalizePoints=function(){var t,e,i=this.bounds();i&&(t=this.projection,(e=this.chartPoints)[0].moveTo(i.left,i.top,t),e[1].moveTo(i.left+i.width,i.top+i.height,t))},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();return 1<e.length&&l.Geometry.isPointNearRectPoints(t,e[0],e[1])},i.prototype._handlePanGesture=function(t,e){switch(t.state){case l.GestureState.STARTED:this._normalizePoints();var i=this._markerPoints();if(i&&1<i.length)for(var o=0;o<i.length;o++)if(l.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this._updateCursor(),!0;break;case l.GestureState.CONTINUED:if(this._dragPoint<0)break;var r=this.projection,n=this.chartPoints,a=e.pointerPosition;switch(this._dragPoint){case 0:n[0].moveTo(a.x,a.y,r);break;case 1:n[0].moveToY(a.y,r);break;case 2:n[0].moveToY(a.y,r),n[1].moveToX(a.x,r);break;case 3:n[1].moveToX(a.x,r);break;case 4:n[1].moveTo(a.x,a.y,r);break;case 5:n[1].moveToY(a.y,r);break;case 6:n[0].moveToX(a.x,r),n[1].moveToY(a.y,r);break;case 7:n[0].moveToX(a.x,r)}return!0}return!1},i.prototype._updateCursor=function(){var t;switch(this._dragPoint){case 0:case 4:t=l.DrawingCursorClass.RESIZE_NWSE;break;case 1:case 5:t=l.DrawingCursorClass.RESIZE_NS;break;case 2:case 6:t=l.DrawingCursorClass.RESIZE_NESW;break;case 3:case 7:t=l.DrawingCursorClass.RESIZE_EW}t&&this.changeCursor(t)},i.prototype.draw=function(){var t,e,i;this.visible&&((i=this.bounds())&&(t=this.renderer,e=this.actualTheme,t.rectPath(i.left+l.CanvasOffset,i.top+l.CanvasOffset,i.width,i.height),t.fillStroke(e.fill,e.line)),this.selected&&(i=this._markerPoints(i),this._drawSelectionMarkers(i)))},i);function i(){return null!==t&&t.apply(this,arguments)||this}l.RectangleDrawing=e,l.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var t,e=(t=r.Drawing,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"triangle"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 3},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.middle","drawing.all.dialog.end"]},i.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=Math.min(t[0].x,t[1].x,t[2].x),i=Math.min(t[0].y,t[1].y,t[2].y);return{left:e,top:i,width:Math.max(t[0].x,t[1].x,t[2].x)-e,height:Math.max(t[0].y,t[1].y,t[2].y)-i}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();return 1<e.length&&r.Geometry.isPointNearPolygon(t,e)},i.prototype._handlePanGesture=function(t,e){switch(t.state){case r.GestureState.STARTED:for(var i=this.cartesianPoints(),o=0;o<i.length;o++)if(r.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this.changeCursor(r.DrawingCursorClass.RESIZE),!0;break;case r.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){var t,e,i;this.visible&&(1<(t=this.cartesianPoints()).length&&(e=this.renderer,i=this.actualTheme,e.polygonPath.apply(e,t),e.fillStroke(i.fill,i.line)),this._drawSelectionMarkersIfSelected(t))},i);function i(){return null!==t&&t.apply(this,arguments)||this}r.TriangleDrawing=e,r.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var t,e=(t=r.Drawing,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"circle"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},i.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=r.Geometry.length(t[0],t[1]);return{left:t[0].x-e,top:t[0].y-e,width:2*e,height:2*e}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();return 1<e.length&&r.Geometry.isPointNearCircle(t,e[0],e[1])},i.prototype._handlePanGesture=function(t,e){switch(t.state){case r.GestureState.STARTED:var i=this._markerPoints();if(i&&1<i.length)for(var o=0;o<i.length;o++)if(r.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this._updateCursor(),!0;break;case r.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[1].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype._updateCursor=function(){var t;switch(this._dragPoint){case 0:case 2:t=r.DrawingCursorClass.RESIZE_EW;break;case 1:case 3:t=r.DrawingCursorClass.RESIZE_NS}t&&this.changeCursor(t)},i.prototype.draw=function(){var t,e,i,o;!this.visible||0!==(o=this.cartesianPoints()).length&&(1<o.length&&(t=this.renderer,e=this.actualTheme,i=r.Geometry.length(o[0],o[1]),t.circlePath(o[0].x,o[0].y,i),t.fillStroke(e.fill,e.line)),this.selected&&(o=this._markerPoints(o),this._drawSelectionMarkers(o)))},i.prototype._markerPoints=function(t){if(0===(t=t||this.cartesianPoints()).length)return null;var e=t[0];if(1===t.length)return[{x:e.x,y:e.y}];t=r.Geometry.length(t[0],t[1]);return[{x:e.x-t,y:e.y},{x:e.x,y:e.y-t},{x:e.x+t,y:e.y},{x:e.x,y:e.y+t}]},i);function i(){return null!==t&&t.apply(this,arguments)||this}r.CircleDrawing=e,r.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){"use strict";var t,e=(t=n.Drawing,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"ellipse"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype._markerPoints=function(t){if(0===(t=t||this.cartesianPoints()).length)return null;var e=t[0];if(1===t.length)return[{x:e.x,y:e.y}];var i=n.Geometry.xProjectionLength(t[0],t[1]),t=n.Geometry.yProjectionLength(t[0],t[1]);return[{x:e.x-i,y:e.y},{x:e.x,y:e.y-t},{x:e.x+i,y:e.y},{x:e.x,y:e.y+t}]},i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},i.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=n.Geometry.xProjectionLength(t[0],t[1]),i=n.Geometry.yProjectionLength(t[0],t[1]);return{left:t[0].x-e,top:t[0].y-i,width:2*e,height:2*i}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();return 1<e.length&&n.Geometry.isPointNearEllipse(t,e[0],e[1])},i.prototype._handlePanGesture=function(t,e){switch(t.state){case n.GestureState.STARTED:var i=this._markerPoints();if(i&&1<i.length)for(var o=0;o<i.length;o++)if(n.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this._updateCursor(),!0;break;case n.GestureState.CONTINUED:if(0<=this._dragPoint){switch(this._dragPoint){case 0:case 2:this.chartPoints[1].moveToX(e.pointerPosition.x,this.projection);break;case 1:case 3:this.chartPoints[1].moveToY(e.pointerPosition.y,this.projection)}return!0}}return!1},i.prototype._updateCursor=function(){var t;switch(this._dragPoint){case 0:case 2:t=n.DrawingCursorClass.RESIZE_EW;break;case 1:case 3:t=n.DrawingCursorClass.RESIZE_NS}t&&this.changeCursor(t)},i.prototype.draw=function(){var t,e,i,o,r;!this.visible||0!==(r=this.cartesianPoints()).length&&(1<r.length&&(t=this.renderer,e=this.actualTheme,i=n.Geometry.xProjectionLength(r[0],r[1]),o=n.Geometry.yProjectionLength(r[0],r[1]),t.ellipsePath(r[0].x,r[0].y,i,o),t.fillStroke(e.fill,e.line)),this.selected&&(r=this._markerPoints(r),this._drawSelectionMarkers(r)))},i);function i(){return null!==t&&t.apply(this,arguments)||this}n.EllipseDrawing=e,n.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var t,e=(t=r.Drawing,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"horizontalLine"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showValueMarker",{get:function(){var t=this._options.showValueMarker;return null!=t?t:i.defaults.showValueMarker},set:function(t){this._options.showValueMarker=!!t},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var t=this.cartesianPoint(0);if(!t)return null;var e=this.chartPanel.contentFrame;return{left:e.left,top:t.y,width:e.width,height:1}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoint(0);return t&&r.Geometry.isValueNearValue(t.y,e.y)},i.prototype.draw=function(){var t,e,i;!this.visible||(t=this.cartesianPoint(0))&&(e=this.renderer,i=this.chartPanel.contentFrame,e.linePath(i.left,t.y,i.right,t.y),e.stroke(this.actualTheme.line),this.selected&&(i=Math.round(i.left+i.width/2),this._drawSelectionMarkers({x:i,y:t.y})))},i.prototype.drawValueMarkers=function(){var t,e,i,o;!this.showValueMarker||(o=this.chartPoints[0])&&(t=this.chart.valueMarker,e=this.actualTheme.line.strokeColor,i=this.panelValueScale,o=o.getValue(i.projection),t.theme.fill.fillColor=e,t.theme.text.fillColor=r.HtmlUtil.isDarkColor(e)?"white":"black",t.draw(o,i))},i.defaults={showValueMarker:!0},i);function i(){return null!==t&&t.apply(this,arguments)||this}r.HorizontalLineDrawing=e,r.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var t,e=(t=r.Drawing,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"verticalLine"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDateMarker",{get:function(){var t=this._options.showDateMarker;return null!=t?t:i.defaults.showDateMarker},set:function(t){this._options.showDateMarker=!!t},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var t=this.cartesianPoint(0);if(!t)return null;var e=this.chartPanel.contentFrame;return{left:t.x,top:e.top,width:1,height:e.height}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoint(0);return t&&r.Geometry.isValueNearValue(t.x,e.x)},i.prototype._handlePanGesture=function(t,e){return this.showDateMarker&&this.chart.dateScale.setNeedsUpdate(),!1},i.prototype.draw=function(){var t,e,i;!this.visible||(t=this.cartesianPoint(0))&&(e=this.renderer,i=this.chartPanel.contentFrame,e.linePath(t.x,0,t.x,i.bottom-i.top),e.stroke(this.actualTheme.line),this.selected&&(i=Math.round(i.height/2),this._drawSelectionMarkers({x:t.x,y:i})))},i.prototype.drawDateMarkers=function(){var t,e,i,o;!this.showDateMarker||(o=this.chartPoints[0])&&(t=this.chart.dateMarker,e=o.getDate(this.projection),i=this.actualTheme.line.strokeColor,o=this.chart.dateScale,t.theme.fill.fillColor=i,t.theme.text.fillColor=r.HtmlUtil.isDarkColor(i)?"white":"black",t.theme.stroke.strokeColor=r.HtmlUtil.isDarkColor(i)?r.HtmlUtil.lighten(i,.5):r.HtmlUtil.lighten(i,-.5),t.draw(e,o))},i.defaults={showDateMarker:!0},i);function i(){return null!==t&&t.apply(this,arguments)||this}r.VerticalLineDrawing=e,r.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var e,t=(e=r.Drawing,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"polygon"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return this._pointsNeeded},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<2)return null;var e=Math.max.apply(Math,t.map(function(t){return t.x})),i=Math.min.apply(Math,t.map(function(t){return t.x})),o=Math.max.apply(Math,t.map(function(t){return t.y})),t=Math.min.apply(Math,t.map(function(t){return t.y}));return{left:i,top:t,width:Math.abs(e-i),height:Math.abs(o-t)}},i.prototype.hitTest=function(t){return!!this.canHandleEvents&&r.Geometry.isPointNearPolygon(t,this.cartesianPoints())},i.prototype._handleUserDrawingPoint=function(t){var e=this.chartPoints.length;if(1<e){var i=this.cartesianPoint(e-1),e=new r.ChartPoint(t).toPoint(this.projection);if(r.Geometry.isPointNearPoint(e,i))return this._finishUserDrawing(),!0}return this.appendChartPoint(t),!0},i.prototype._handlePanGesture=function(t,e){switch(t.state){case r.GestureState.STARTED:for(var i=this.cartesianPoints(),o=0;o<i.length;o++)if(r.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this.changeCursor(r.DrawingCursorClass.RESIZE),!0;break;case r.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){var t,e,i;this.visible&&(t=this.cartesianPoints(),e=this.renderer,i=this.actualTheme,1<t.length&&(e.polygonPath.apply(e,t),e.fillStroke(i.fill,i.line)),this._drawSelectionMarkersIfSelected(t))},i);function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._pointsNeeded=Number.MAX_VALUE,t}r.PolygonDrawing=t,r.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var t,e=(t=r.Drawing,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"polyline"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return Number.MAX_VALUE},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<2)return null;var e=Math.max.apply(Math,t.map(function(t){return t.x})),i=Math.min.apply(Math,t.map(function(t){return t.x})),o=Math.max.apply(Math,t.map(function(t){return t.y})),t=Math.min.apply(Math,t.map(function(t){return t.y}));return{left:i,top:t,width:Math.abs(e-i),height:Math.abs(o-t)}},i.prototype.hitTest=function(t){return!!this.canHandleEvents&&r.Geometry.isPointNearPolyline(t,this.cartesianPoints())},i.prototype._handleUserDrawingPoint=function(t){var e=this.chartPoints.length;if(1<e){var i=this.cartesianPoint(e-1),e=new r.ChartPoint(t).toPoint(this.projection);if(r.Geometry.isPointNearPoint(e,i))return this._finishUserDrawing(),!0}return this.appendChartPoint(t),!0},i.prototype._handlePanGesture=function(t,e){switch(t.state){case r.GestureState.STARTED:for(var i=this.cartesianPoints(),o=0;o<i.length;o++)if(r.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this.changeCursor(r.DrawingCursorClass.RESIZE),!0;break;case r.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){if(this.visible){var t=this.cartesianPoints(),e=this.renderer,i=this.actualTheme;if(1<t.length){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var o=1;o<t.length;o++)e.lineTo(t[o].x,t[o].y);e.stroke(i.line)}this._drawSelectionMarkersIfSelected(t)}},i);function i(){return null!==t&&t.apply(this,arguments)||this}r.PolylineDrawing=e,r.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(e){"use strict";var i,t=(i=e.Drawing,__extends(o,i),Object.defineProperty(o,"className",{get:function(){return"freeHand"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pointsNeeded",{get:function(){return Number.MAX_VALUE},enumerable:!0,configurable:!0}),o.prototype._handleUserDrawingPoint=function(t){return this._drawingPoints++,this.appendChartPoint(t),2<=this._drawingPoints&&this._finishUserDrawing(),!0},o.prototype._handleUserDrawingMoveGesture=function(t,e){var i,o=this.chartPoints.length;0<o&&(i=e.pointerPosition,e=this._normalizeUserDrawingPoint(i),o=this.chartPoints[o-1],Math.round(e.value)===Math.round(o.value)&&i.x===o.x||(this.appendChartPoint(e),this.chartPanel.setNeedsUpdate()))},o.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<2)return null;var e=t.reduce(function(t,e){return Math.max(t,e.x)},-1/0),i=t.reduce(function(t,e){return Math.min(t,e.x)},1/0),o=t.reduce(function(t,e){return Math.max(t,e.y)},-1/0),t=t.reduce(function(t,e){return Math.min(t,e.y)},1/0);return{left:i,top:t,width:Math.abs(e-i),height:Math.abs(o-t)}},o.prototype.hitTest=function(t){return!!this.canHandleEvents&&e.Geometry.isPointNearPolyline(t,this.cartesianPoints())},o.prototype.draw=function(){if(this.visible){var t=this.cartesianPoints();if(0!==t.length){var e=this.renderer,i=this.actualTheme;if(1<t.length){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var o=1;o<t.length;o++)e.lineTo(t[o].x,t[o].y);e.stroke(i.line)}this.selected&&this._drawSelectionMarkers([t[0],t[t.length-1]])}}},o);function o(){var t=null!==i&&i.apply(this,arguments)||this;return t._drawingPoints=0,t}e.FreeHandDrawing=t,e.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var e,t=(e=r.Drawing,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"cyclicLines"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawingSettingDialog.start","drawingSettingDialog.end"]},i.prototype.bounds=function(){if(this.cartesianPoints().length<this.pointsNeeded||this._drawingPoints)return null;var t=this.chartPanel.contentFrame,e=this._drawingPoints,i=e[1],e=e[e.length-1];return{left:Math.min(i[0].x,e[0].x),top:0,width:Math.abs(i[0].x-e[0].x),height:t.height}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;if(this.chartPoints.length<2)return!1;for(var e=0,i=this._drawingPoints;e<i.length;e++){var o=i[e];if(r.Geometry.isPointNearLine(t,o[0],o[1]))return!0}return!1},i.prototype._handlePanGesture=function(t,e){switch(t.state){case r.GestureState.STARTED:if(r.Geometry.isPointNearPoint(this.cartesianPoint(0),e.pointerPosition))this._setDragPoint(0);else{if(!r.Geometry.isPointNearPoint(this.cartesianPoint(1),e.pointerPosition))return!1;this._setDragPoint(1)}return this.changeCursor(r.DrawingCursorClass.RESIZE),!0;case r.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){if(this.visible){var t=this.cartesianPoints();if(0!==t.length){if(this._drawingPoints=[t],1<t.length){for(var e=this.renderer,i=this.chartPanel.contentFrame,o=this._calculateXPointsForLines(),r={min:0,max:i.height},n=0,a=o;n<a.length;n++){var l=a[n],s={x:l,y:r.min},l={x:l,y:r.max};e.linePath(s.x,s.y,l.x,l.y),e.stroke(this.actualTheme.line),this._drawingPoints.push([s,l])}e.polylinePath(t),e.stroke(this.actualTheme.line)}this._drawSelectionMarkersIfSelected(t)}}},i.prototype._calculateXPointsForLines=function(){var t=this.chartPanel.contentFrame.width,e=this.cartesianPoints(),i=e[0].x,o=e[1].x,r=[i,o];i===o?o=this._isDirectionRight?o+1:o-1:this._isDirectionRight=i<o;for(var n=o-i,a=o;;){var l=a+n;if(!(i<o&&l<t||o<i&&0<l))break;r.push(a=l)}return r},i);function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._drawingPoints=[],t}r.CyclicLinesDrawing=t,r.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(f){"use strict";var e=f.DrawingEvent||(f.DrawingEvent={});e.TEXT_CHANGED="drawingTextChanged";var i,t=(i=f.Drawing,__extends(o,i),Object.defineProperty(o,"className",{get:function(){return"text"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"text",{get:function(){return this._options.text||""},set:function(t){this._setOption("text",t=t||"",e.TEXT_CHANGED),this._updateLines()},enumerable:!0,configurable:!0}),o.prototype._updateLines=function(){this._lines=this.text.split("\n")},o.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start"]},o.prototype.bounds=function(){var t=this.cartesianPoint(0);if(!t)return null;var e=this._lines.reduce(function(t,e){return t.length>=e.length?t:e}),i=this.actualTheme,i=f.DummyCanvasContext.measureText(e,i.text);return{left:t.x,top:t.y-i.height/2,width:i.width,height:i.height*this._lines.length+this._lines.length}},o.prototype._finishUserDrawing=function(){var e=this;f.Drawing.prototype._finishUserDrawing.call(this),f.UI.ViewLoader.drawingSettingsDialog(function(t){t.show({chart:e.chart,drawing:e,cancel:function(){e.chartPanel.removeDrawings(e)},always:function(){e.chartPanel&&e.chartPanel.setNeedsUpdate()}})})},o.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.bounds();return e&&f.Geometry.isPointInsideOrNearRect(t,e)},o.prototype.loadState=function(t){i.prototype.loadState.call(this,t),this._updateLines()},o.prototype.draw=function(){if(this.visible){var t=this._lines;if(0!==t.length){var e=this.cartesianPoint(0);if(e){var i=this.renderer,o=this.actualTheme.text;i.textTheme(o),i.textOptions({baseline:f.TextBaseline.MIDDLE,align:f.TextAlign.LEFT});var r=this.bounds(),n=f.DummyCanvasContext.measureText(t[0],o).height,a=Math.round(n/2),l=e.y,s="underline"===o.decoration;s&&i.beginPath();for(var c=0,h=t;c<h.length;c++){var u=h[c];i.fillText(u,e.x,l),l+=a,s&&i.line(e.x,l,e.x+r.width,l),l+=a}s&&i.stroke({strokeColor:o.fillColor}),this.selected&&(l=(e.y+(e.y+r.height-n))/2,n=[{x:e.x-5,y:l},{x:e.x+r.width+5,y:l}],this._drawSelectionMarkers(n))}}}},o);function o(t){t=i.call(this,t)||this;return t._lines=[],t._updateLines(),t}f.TextDrawing=t,f.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(d){"use strict";var e=d.DrawingEvent||(d.DrawingEvent={});e.URL_CHANGED="drawingUrlChanged";var i,l=10,s=10,t=(i=d.Drawing,__extends(o,i),Object.defineProperty(o,"className",{get:function(){return"image"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"url",{get:function(){return this._options.url||""},set:function(t){this._setOption("url",t,e.URL_CHANGED),this._reloadImage()},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this._options.size},set:function(t){this._setOption("size",t,e.SIZE_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"actualSize",{get:function(){var t=this.size;if(t)return t;t=this._image;return t?{width:t.width,height:t.height}:null},enumerable:!0,configurable:!0}),o.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start"]},o.prototype._reloadImage=function(){this._image&&(this._image.src=this.url,this._image.crossOrigin="Anonymous")},o.prototype.bounds=function(){var t=this.cartesianPoint(0);if(!t)return null;var e=this.actualSize;return e?{left:t.x,top:t.y,width:e.width||l,height:e.height||s}:null},o.prototype._markerPoints=function(t){t=t||this.cartesianPoint(0);var e=this._image,i=t.x,o=t.y;if(e.width<=0)return{x:Math.round(i+l/2),y:Math.round(o+s/2)};var r=this.actualSize,n=i+r.width,a=o+r.height,e=Math.round((i+n)/2),r=Math.round((o+a)/2);return[t,{x:e,y:o},{x:n,y:o},{x:n,y:r},{x:n,y:a},{x:e,y:a},{x:i,y:a},{x:i,y:r}]},o.prototype._finishUserDrawing=function(){var e=this;i.prototype._finishUserDrawing.call(this),d.UI.ViewLoader.drawingSettingsDialog(function(t){t.show({chart:e.chart,drawing:e,cancel:function(){e.chartPanel.removeDrawings(e)},always:function(){e.chartPanel&&e.chartPanel.setNeedsUpdate()}})})},o.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.bounds();return e&&d.Geometry.isPointInsideOrNearRect(t,e)},o.prototype.loadState=function(t){i.prototype.loadState.call(this,t),this._reloadImage()},o.prototype._handlePanGesture=function(t,e){switch(t.state){case d.GestureState.STARTED:var i=this._markerPoints();if(i&&1<i.length)for(var o=0;o<i.length;o++)if(d.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this._updateCursor(),!0;break;case d.GestureState.CONTINUED:if(this._dragPoint<0)break;var r,n,a,l=this.projection,s=this.chartPoints[0],c=e.pointerPosition,h=this.actualSize,u=t.moveOffset,f=s.toPoint(l);switch(this._dragPoint){case 0:h&&(n=h.width,r=h.height,a=h.width/h.height,h.width-=u.x,h.height=h.width/a,s.moveTo(f.x+(n-h.width),f.y+(r-h.height),l));break;case 1:s.moveToY(c.y,l),h&&(h.height-=s.getY(l)-f.y);break;case 2:h&&(r=h.height,a=h.width/h.height,h.height-=u.y,h.width=h.height*a,s.moveToY(f.y+(r-h.height),l));break;case 3:h&&(h.width+=u.x);break;case 4:h&&(a=h.width/h.height,h.width+=u.x,h.height=h.width/a);break;case 5:h&&(h.height+=u.y);break;case 6:h&&(n=h.width,a=h.width/h.height,h.width-=u.x,h.height=h.width/a,s.moveToX(f.x+(n-h.width),l));break;case 7:s.moveToX(c.x,l),h&&(h.width-=s.getX(l)-f.x);break;default:return!0}return this.size=h,!0}return!1},o.prototype._updateCursor=function(){var t;switch(this._dragPoint){case 0:case 4:t=d.DrawingCursorClass.RESIZE_NWSE;break;case 1:case 5:t=d.DrawingCursorClass.RESIZE_NS;break;case 2:case 6:t=d.DrawingCursorClass.RESIZE_NESW;break;case 3:case 7:t=d.DrawingCursorClass.RESIZE_EW}t&&this.changeCursor(t)},o.prototype.draw=function(){var t,e,i,o,r;!this.visible||(t=this.cartesianPoint(0))&&(e=this.renderer,i=t.x,o=t.y,0<this._image.width?(r=this.size)?(r.width<0&&(i+=r.width),r.height<0&&(o+=r.height),e.image(this._image,i,o,Math.abs(r.width),Math.abs(r.height))):e.image(this._image,i,o):(e.rectPath(i,o,l,s),e.line(i,o,i+l,o+s),e.line(i,o+s,i+l,o),e.stroke({strokeColor:"red",width:1})),this.selected&&this._drawSelectionMarkers(this._markerPoints(t)))},o);function o(t){var e=i.call(this,t)||this;return e._image=new Image,e._image.onload=function(){var t=e.chartPanel;t&&t.setNeedsUpdate()},e.url=t&&t.url,e}d.ImageDrawing=t,d.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(C){"use strict";var i,t=(i=C.Drawing,__extends(e,i),Object.defineProperty(e,"className",{get:function(){return"balloon"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._options.text||""},set:function(t){this._setOption("text",t=t||"",C.DrawingEvent.TEXT_CHANGED),this._updateLines()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cornerRadius",{get:function(){return this._options.cornerRadius||this._defaults.corderRadius||e.defaults.corderRadius},set:function(t){if(t&&!C.JsUtil.isPositiveNumber(t))throw new Error("Corder radius must be a positive number.");this._options.cornerRadius=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorSize",{get:function(){return this._options.anchorSize||this._defaults.anchorSize||e.defaults.anchorSize},set:function(t){this._options.anchorSize=t},enumerable:!0,configurable:!0}),e.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start"]},e.prototype.bounds=function(){if(!this._leftTopPoint)return null;if(!this.cartesianPoint(0))return null;var t=this._leftTopPoint.x,e=this._leftTopPoint.y;return{left:t,top:e,width:Math.abs(this._rightBottomPoint.x-t),height:Math.abs(this._rightBottomPoint.y-e)}},e.prototype._finishUserDrawing=function(){var e=this;i.prototype._finishUserDrawing.call(this),C.UI.ViewLoader.drawingSettingsDialog(function(t){t.show({chart:e.chart,drawing:e,cancel:function(){e.chartPanel.removeDrawings(e)},always:function(){e.chartPanel&&e.chartPanel.setNeedsUpdate()}})})},e.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.bounds();return e&&C.Geometry.isPointInsideOrNearRect(t,e)},e.prototype.loadState=function(t){i.prototype.loadState.call(this,t),this._updateLines()},e.prototype.draw=function(){if(this.visible){var t=this.cartesianPoint(0);if(t){var e=this._lines,i=e.reduce(function(t,e){return t.length>=e.length?t:e}),o=this.renderer,r=this.actualTheme,n=r.text,a=C.DummyCanvasContext.measureText(i,r.text),l=Math.ceil(a.width/2),s=this.cornerRadius,c=l+s,h=Math.ceil(this.anchorSize.width/2),u=this.anchorSize.height,f=t.y-u,i=f-a.height*e.length-u;o.linePath(t.x,t.y,t.x-h,f),o.lineTo(t.x-l,f);u=t.x-c;o.quadraticCurve(u,f,u,f-s),o.lineTo(u,i+s),o.quadraticCurve(u,i,t.x-l,i),o.lineTo(t.x+l,i);c=t.x+c;o.quadraticCurve(c,i,c,i+s),o.lineTo(c,f-s),o.quadraticCurve(c,f,t.x+l,f),o.lineTo(t.x+h,f),o.closePath(),o.fillStroke(r.fill,r.line),this._leftTopPoint={x:u,y:i},this._rightBottomPoint={x:c,y:t.y},o.textTheme(r.text),o.textOptions({baseline:C.TextBaseline.MIDDLE,align:C.TextAlign.LEFT});var d="underline"===n.decoration,p=Math.round(i+2*a.height/3+1);d&&o.beginPath();for(var y=0,m=e;y<m.length;y++){var _=m[y];o.fillText(_,t.x-l,p),d&&(_=5*a.height/9-1,o.line(t.x-l,p+_,t.x+l,p+_)),p+=a.height}d&&o.stroke({strokeColor:n.fillColor}),this._drawSelectionMarkersIfSelected(t)}}},e.prototype._updateLines=function(){this._lines=this.text.split("\n")},e.defaults={corderRadius:5,anchorSize:{width:10,height:10}},e);function e(t){t=i.call(this,t)||this;return t._lines=[],t._updateLines(),t}C.BalloonDrawing=t,C.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(f){"use strict";f.MeasureArrowDrawingMode={START:"start",END:"end",BOTH:"both"};var e,t=(e=f.Drawing,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"measure"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},Object.defineProperty(i.prototype,"cornerRadius",{get:function(){var t=this._options.cornerRadius;return null!=t?t:i.defaults.cornerRadius},set:function(t){if(t&&!f.JsUtil.isPositiveNumber(t))throw new Error("Corder radius must be a positive number.");this._options.cornerRadius=t},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var t=this.cartesianPoints();return t.length<this.pointsNeeded?null:{left:Math.min(t[0].x,t[1].x),top:Math.min(t[0].y,t[1].y),width:Math.abs(t[0].x-t[1].x),height:Math.abs(t[0].y-t[1].y)}},i.prototype._markerPoints=function(t){if(!(t=t||this.bounds())){var e=this.cartesianPoint(0);return e&&[e]}var i=Math.round(t.left+t.width/2),o=Math.round(t.top+t.height/2),r=t.left+t.width,e=t.top+t.height;return[{x:t.left,y:t.top},{x:i,y:t.top},{x:r,y:t.top},{x:r,y:o},{x:r,y:e},{x:i,y:e},{x:t.left,y:e},{x:t.left,y:o}]},i.prototype._normalizePoints=function(){var t,e,i=this.bounds();i&&(t=this.projection,(e=this.chartPoints)[0].moveTo(i.left,i.top,t),e[1].moveTo(i.left+i.width,i.top+i.height,t))},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();return 1<e.length&&f.Geometry.isPointNearRectPoints(t,e[0],e[1])},i.prototype._handlePanGesture=function(t,e){switch(t.state){case f.GestureState.STARTED:var i=this._markerPoints();if(i&&1<i.length)for(var o=0;o<i.length;o++)if(f.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._isXDirectionInverted=-1===this._xDirection,this._isYDirectionInverted=1===this._yDirection,this._normalizePoints(),this._setDragPoint(o),this._updateCursor(),!0;break;case f.GestureState.CONTINUED:if(0<=this._dragPoint){var r=this.projection,n=this.chartPoints,a=e.pointerPosition;switch(this._dragPoint){case 0:n[0].moveTo(a.x,a.y,r);break;case 1:n[0].moveToY(a.y,r);break;case 2:n[0].moveToY(a.y,r),n[1].moveToX(a.x,r);break;case 3:n[1].moveToX(a.x,r);break;case 4:n[1].moveTo(a.x,a.y,r);break;case 5:n[1].moveToY(a.y,r);break;case 6:n[0].moveToX(a.x,r),n[1].moveToY(a.y,r);break;case 7:n[0].moveToX(a.x,r)}return!0}}return!1},i.prototype._updateCursor=function(){var t;switch(this._dragPoint){case 0:case 4:t=f.DrawingCursorClass.RESIZE_NWSE;break;case 1:case 5:t=f.DrawingCursorClass.RESIZE_NS;break;case 2:case 6:t=f.DrawingCursorClass.RESIZE_NESW;break;case 3:case 7:t=f.DrawingCursorClass.RESIZE_EW}t&&this.changeCursor(t)},i.prototype._duration=function(){var t=this.bounds();if(!t)return"";var e=moment(this.projection.dateByX(t.left)),i=moment(this.projection.dateByX(t.left+t.width)),o="years",t=i.diff(e,o);return 0===(t=0===(t=0===(t=0===(t=0===(t=0===t?i.diff(e,o="months"):t)?i.diff(e,o="weeks"):t)?i.diff(e,o="days"):t)?i.diff(e,o="hours"):t)?i.diff(e,o="minutes"):t)&&(t=i.diff(e,o="seconds")),t*=this._xDirection,moment.duration(t,o).humanize(!0).replace("in","")},i.prototype.draw=function(){var t,e,i,o,r,n,a,l,s,c,h,u=this;!this.visible||(t=this.bounds())&&(f.Localization.localizeText(this.chart,"drawing.all.bars").then(function(t){u._textBars=t}),a=Math.round(t.left+t.width/2),c=Math.round(t.top+t.height/2),r=t.left+t.width,o=t.top+t.height,e=this.renderer,h={x:t.left,y:c},n={x:r,y:c},s={x:a,y:t.top},l={x:a,y:o},i=this.actualTheme,e.rectPath(t.left,t.top,t.width,t.height),e.fillStroke(i.fill,i.border),r=this.chartPoints[0],c=this.chartPoints[1],a=this._isXDirectionInverted?r.x<c.x:r.x>c.x,o=this._isYDirectionInverted?r.y>c.y:r.y<c.y,this._xDirection=a?-1:1,this._yDirection=o?-1:1,a=1===this._xDirection?f.MeasureArrowDrawingMode.END:f.MeasureArrowDrawingMode.START,o=1===this._yDirection?f.MeasureArrowDrawingMode.START:f.MeasureArrowDrawingMode.END,this._drawArrowHeadLine(h,n,a),this._drawArrowHeadLine(s,l,o),h=this.projection,n=r.getValue(h),a=c.getValue(h),s=this.chart.barsBetweenPoints(r,c),o=this.panelValueScale.formatValue((n-a)*this._yDirection),h=f.DummyCanvasContext.measureText(o,i.balloon.text),r=(s*this._xDirection).toFixed()+" "+this._textBars+", "+this._duration(),c=f.DummyCanvasContext.measureText(r,i.balloon.text),n=h.height+c.height+2,a=Math.max(h.width,c.width)+2,h=(c=(s=t.top+t.height+4)+h.height)+h.height,this._drawRoundRect(l=l.x-a/2,s,a,n),e.textTheme(i.balloon.text),e.textOptions({baseline:f.TextBaseline.ALPHABETIC,align:f.TextAlign.LEFT}),e.fillText(o,3+l,c),e.fillText(r,3+l,h),this.selected&&this._drawSelectionMarkers(this._markerPoints(t)))},i.prototype._drawArrowHeadLine=function(t,e,i){var o,r,n=this.renderer,a=this.actualTheme;n.linePath(t.x,t.y,e.x,e.y),n.stroke(a.line);var l=e.x-t.x,s=e.y-t.y,c=(e.x>t.x?-90:90)*Math.PI/180;switch(i){case f.MeasureArrowDrawingMode.BOTH:(o=Math.atan(s/l)+c)===Math.PI&&(o=0),0===(r=Math.atan(s/l)-c)&&(r=Math.PI),this._drawArrow(t,o),this._drawArrow(e,r);break;case f.MeasureArrowDrawingMode.START:(o=Math.atan(s/l)+c)===Math.PI&&(o=0),this._drawArrow(t,o);break;case f.MeasureArrowDrawingMode.END:0===(r=Math.atan(s/l)-c)&&(r=Math.PI),this._drawArrow(e,r)}},i.prototype._drawArrow=function(t,e){var i=this.renderer,o=this.actualTheme;i.save(),i.translate(t.x,t.y),i.rotate(e),i.polygonPath(0,0,5,5,0,0,-5,5),i.stroke(o.line),i.restore()},i.prototype._drawRoundRect=function(t,e,i,o,r){null==r&&(r=this.cornerRadius);var n=this.renderer,i=t+(i+=r),o=e+(o+=r);n.horLinePath(t+r,i-r,e),n.quadraticCurve(i,e,i,e+r),n.lineTo(i,o-r),n.quadraticCurve(i,o,i-r,o),n.lineTo(t+r,o),n.quadraticCurve(t,o,t,o-r),n.lineTo(t,e+r),n.quadraticCurve(t,e,t+r,e),n.closePath();e=this.actualTheme.balloon;n.fillStroke(e.fill,e.border)},i.defaults={cornerRadius:5},i);function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._isXDirectionInverted=!1,t._isYDirectionInverted=!1,t._xDirection=1,t._yDirection=1,t}f.MeasureDrawing=t,f.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(l){"use strict";var t,e="scxMeasureTool",i=(t=l.Drawing,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"measureTool"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),o.prototype.bounds=function(){var t=this.cartesianPoints();return t.length<this.pointsNeeded?null:{left:Math.min(t[0].x,t[1].x),top:Math.min(t[0].y,t[1].y),width:Math.abs(t[0].x-t[1].x),height:Math.abs(t[0].y-t[1].y)}},o.prototype._createInfoControls=function(){var t;this._infoControls||(t=this.chartPanel.container.scxAppend("div",e),this._infoControls={rootDiv:t,firstPoint:t.scxAppend("div"),lastPoint:t.scxAppend("div"),range:t.scxAppend("div"),bars:t.scxAppend("div")})},o.prototype._finishUserDrawing=function(){t.prototype._finishUserDrawing.call(this),this.remove()},o.prototype.remove=function(){return this._infoControls&&(this._infoControls.rootDiv.remove(),this._infoControls=null),t.prototype.remove.call(this)},o.prototype.draw=function(){var t,e;!this.visible||0!==(t=this.cartesianPoints()).length&&(1<t.length&&((e=this.renderer).polylinePath(t),e.stroke(this.actualTheme.line)),this._drawSelectionMarkersIfSelected(t),this._drawValues(t),this._drawInfo())},o.prototype._drawValues=function(t){var e=this.renderer,i=this.projection,o=this.actualTheme,r=this._getSelectionMarkerWidth(o)+5,n=this.chartPoints,a=n[0].getValue(i),a=this.chartPanel.formatValue(a);e.textOptions({baseline:l.TextBaseline.BOTTOM}),e.textTheme(o.text),e.fillText(a,t[0].x,t[0].y-r),1<n.length&&(i=n[1].getValue(i),i=this.chartPanel.formatValue(i),e.fillText(i,t[1].x,t[1].y-r))},o.prototype._drawInfo=function(){this._createInfoControls();var t=this.actualTheme,e=this.projection,i=this._infoControls,o=this.chartPoints,r=this.chartPanel,n=r.chart.dateScale,a=o[0].getDate(e),l=o[0].getValue(e);i.firstPoint.text(n.formatDate(a)+" "+r.formatValue(l)),1<o.length&&(a=o[1].getDate(e),e=o[1].getValue(e),i.lastPoint.text(n.formatDate(a)+" "+r.formatValue(e)),e=e-l,(l=this.chart.instrument)&&l.tickSize?i.range.text("Range (Pips) "+r.formatValue(e/l.tickSize)):i.range.text("Range "+r.formatValue(e)),o=this.chart.barsBetweenPoints(o[0],o[1]),i.bars.text("Bars "+o)),i.rootDiv.scxPosition(this.chartPanel.contentFrame.left,0).scxTextStyle(t.text).scxFill(t.fill)},o);function o(){return null!==t&&t.apply(this,arguments)||this}l.MeasureToolDrawing=i,l.Drawing.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";r.FibonacciLevelTextHorPosition={LEFT:"left",CENTER:"center",RIGHT:"right"},r.FibonacciLevelTextVerPosition={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},r.FibonacciLevelLineExtension={NONE:"none",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",BOTH:"both"};var n,t,e={createPointBehavior:null,levels:[{value:.382},{value:.5},{value:.618},{value:1}],showTrendLine:!0,showLevelLines:!0,showLevelBackgrounds:!0,showLevelValues:!0,showLevelPrices:!0,showLevelPercents:!0,levelTextHorPosition:r.FibonacciLevelTextHorPosition.RIGHT,levelTextVerPosition:r.FibonacciLevelTextVerPosition.BOTTOM};(t=n=r.DrawingEvent||(r.DrawingEvent={})).LEVELS_CHANGED="drawingLevelsChanged",t.SHOW_TREND_LINE_CHANGED="drawingShowTrendLineChanged",t.SHOW_LEVEL_LINES_CHANGED="drawingShowLevelLinesChanged",t.SHOW_LEVEL_BACKGROUNDS_CHANGED="drawingShowLevelBackgroundsChanged",t.SHOW_LEVEL_VALUES_CHANGED="drawingShowLevelValuesChanged",t.SHOW_LEVEL_PRICES_CHANGED="drawingShowLevelPricesChanged",t.SHOW_LEVEL_PERCENTS_CHANGED="drawingShowLevelPercentsChanged",t.LEVEL_TEXT_HOR_POSITION_CHANGED="drawingLevelTextHorPositionChanged",t.LEVEL_TEXT_VER_POSITION_CHANGED="drawingLevelTextVerPositionChanged",t.LEVEL_LINES_EXTENSION_CHANGED="drawingLevelLinesExtensionChanged",t.REVERSE_CHANGED="drawingReverseChanged";var i,e=(i=r.Drawing,__extends(o,i),Object.defineProperty(o,"subClassName",{get:function(){return"fibonacci"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"levels",{get:function(){return this._optionValue("levels")||o.defaults.levels},set:function(t){if(null!=t&&!Array.isArray(t))throw new TypeError("Levels must be an array of numbers.");for(var e=0,i=t.length;e<i-1;e++)for(var o,r=e+1;r<i;r++)t[e].value>t[r].value&&(o=t[e],t[e]=t[r],t[r]=o);this._options.levels=t,this.fire(n.LEVELS_CHANGED,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showTrendLine",{get:function(){var t=this._optionValue("showTrendLine");return null!=t?t:o.defaults.showTrendLine},set:function(t){this._setOption("showTrendLine",t,n.SHOW_TREND_LINE_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showLevelLines",{get:function(){var t=this._optionValue("showLevelLines");return null!=t?t:o.defaults.showLevelLines},set:function(t){this._setOption("showLevelLines",t,n.SHOW_LEVEL_LINES_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showLevelBackgrounds",{get:function(){var t=this._optionValue("showLevelBackgrounds");return null!=t?t:o.defaults.showLevelBackgrounds},set:function(t){this._setOption("showLevelBackgrounds",t,n.SHOW_LEVEL_BACKGROUNDS_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showLevelValues",{get:function(){var t=this._optionValue("showLevelValues");return null!=t?t:o.defaults.showLevelValues},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showLevels",{set:function(t){this._setOption("showLevelValues",t,n.SHOW_LEVEL_VALUES_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showLevelPrices",{get:function(){var t=this._optionValue("showLevelPrices");return null!=t?t:o.defaults.showLevelPrices},set:function(t){this._setOption("showLevelPrices",t,n.SHOW_LEVEL_PRICES_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"showLevelPercents",{get:function(){var t=this._optionValue("showLevelPercents");return null!=t?t:o.defaults.showLevelPercents},set:function(t){this._setOption("showLevelPercents",t,n.SHOW_LEVEL_PERCENTS_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"levelTextHorPosition",{get:function(){var t=this._optionValue("levelTextHorPosition");return null!=t?t:o.defaults.levelTextHorPosition},set:function(t){this._setOption("levelTextHorPosition",t,n.LEVEL_TEXT_HOR_POSITION_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"levelTextVerPosition",{get:function(){var t=this._optionValue("levelTextVerPosition");return null!=t?t:o.defaults.levelTextVerPosition},set:function(t){this._setOption("levelTextVerPosition",t,n.LEVEL_TEXT_VER_POSITION_CHANGED)},enumerable:!0,configurable:!0}),o.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},o.prototype._showSettingsDialog=function(){var e=this;this.chart&&r.UI.ViewLoader.fibonacciDrawingSettingsDialog(function(t){t.show({chart:e.chart,drawing:e})})},o.prototype._applyTextPosition=function(){var t=this.renderer,e=this._textBaselineFromVerPosition(),i=this._graphicsTextAlign();t.textOptions({align:i,baseline:e})},o.prototype._textBaselineFromVerPosition=function(){var t=r.FibonacciLevelTextVerPosition,e=r.TextBaseline;switch(this.levelTextVerPosition){case t.MIDDLE:return e.MIDDLE;case t.TOP:return e.BOTTOM;case t.BOTTOM:return e.TOP;default:throw new Error("Unsupported level text vertical position: "+this.levelTextVerPosition)}},o.prototype._graphicsTextAlign=function(){var t=r.FibonacciLevelTextHorPosition,e=r.TextAlign;switch(this.levelTextHorPosition){case t.CENTER:return e.CENTER;case t.LEFT:return e.RIGHT;case t.RIGHT:return e.LEFT;default:throw new Error("Unsupported level text horizontal position: "+this.levelTextHorPosition)}},o.prototype._isLevelVisible=function(t){return null==t.visible||t.visible},o.prototype._adjustXWithTextOffset=function(t){switch(this.levelTextHorPosition){case r.FibonacciLevelTextHorPosition.LEFT:return t-this._textOffset;case r.FibonacciLevelTextHorPosition.RIGHT:return t+this._textOffset;default:return t}},o.prototype._adjustYWithTextOffset=function(t){switch(this.levelTextVerPosition){case r.FibonacciLevelTextVerPosition.TOP:return t-this._textOffset;case r.FibonacciLevelTextVerPosition.BOTTOM:return t+this._textOffset;default:return t}},o.prototype._formatLevelValue=function(t){return this.showLevelPercents?Number(100*t.value).toFixed(2)+"%":Number(t.value).toFixed(3)},o.prototype._formatPriceAtY=function(t){return Number(this.projection.valueByY(t)).toFixed(3)},o.prototype._levelValueOffsetFromVerPosition=function(t,e){var i=r.FibonacciLevelTextVerPosition,o=(t||e).line.width;switch(this.levelTextVerPosition){case i.TOP:return-o/2;case i.BOTTOM:return o/2;default:return 0}},o.prototype._levelValueOffsetFromHorPosition=function(t,e){var i=r.FibonacciLevelTextHorPosition,o=(t||e).line.width;switch(this.levelTextHorPosition){case i.LEFT:return-o/2;case i.RIGHT:return o/2;default:return 0}},o.defaults=e,o);function o(t){t=i.call(this,t)||this;return t._textOffset=2,t}r.FibonacciDrawingBase=e}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(d){"use strict";var t,e=(t=d.FibonacciDrawingBase,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"fibonacciArcs"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var i=this,t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=d.Geometry.length(t[0],t[1]),o=this.levels.reduce(function(t,e){return i._isLevelVisible(e)?Math.max(t,e.value):t},Number.MIN_VALUE),o=Math.round(e*o);return{left:t[0].x-o,top:t[0].y-o,width:2*o,height:2*o}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();if(e.length<this.pointsNeeded)return!1;if(this.showTrendLine&&d.Geometry.isPointNearPolyline(t,e))return!0;if(this.showLevelLines||this.showLevelBackgrounds)for(var i=d.Geometry.length(e[0],e[1]),o=0,r=this.levels;o<r.length;o++){var n=r[o];if(this._isLevelVisible(n)){n=Math.round(i*n.value);if(d.Geometry.isPointNearCircle(t,e[0],n))return!0}}return this.selected&&d.Geometry.isPointNearPoint(t,e)},i.prototype._handlePanGesture=function(t,e){switch(t.state){case d.GestureState.STARTED:var i=this.cartesianPoint(1);if(i&&d.Geometry.isPointNearPoint(e.pointerPosition,i))return this._setDragPoint(1),this.changeCursor(d.DrawingCursorClass.RESIZE),!0;break;case d.GestureState.CONTINUED:if(1===this._dragPoint)return this.chartPoints[1].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){if(this.visible){var t=this.cartesianPoints();if(0!==t.length){var e=this.renderer,i=this.actualTheme;if(1<t.length){var o=d.Geometry.length(t[0],t[1]),r=t[0].x,n=t[0].y,a=void 0;this._applyTextPosition();for(var l=0,s=this.levels;l<s.length;l++){var c,h,u,f=s[l];this._isLevelVisible(f)&&(u=f.theme||i,c=Math.round(o*f.value),this.showLevelBackgrounds&&(h=u.fill||i.fill,e.circlePath(r,n,c),a?(e.circle(r,n,a),e.fill(h,!"evenodd","evenodd")):e.fill(h,!0)),this.showLevelLines&&(e.circlePath(r,n,c),e.stroke(u.line||i.line)),this.showLevelValues&&(h=this._formatLevelValue(f),f=this._levelValueOffsetFromVerPosition(u,i),u=u.text||i.text,e.fillText(h,r,n+c+f,u)),a=c)}this.showTrendLine&&(e.polylinePath(t),e.stroke(i.trendLine))}this._drawSelectionMarkersIfSelected(t)}}},i);function i(){return null!==t&&t.apply(this,arguments)||this}d.FibonacciArcsDrawing=e,d.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(y){"use strict";var t,e=(t=y.FibonacciDrawingBase,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"fibonacciEllipses"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var i=this,t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=y.Geometry.xProjectionLength(t[0],t[1]),o=y.Geometry.yProjectionLength(t[0],t[1]),r=this.levels.reduce(function(t,e){return i._isLevelVisible(e)?Math.max(t,e.value):t},Number.MIN_VALUE),e=Math.round(e*r),r=Math.round(o*r);return{left:t[0].x-e,top:t[0].y-r,width:2*e,height:2*r}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();if(e.length<this.pointsNeeded)return!1;if(this.showTrendLine&&y.Geometry.isPointNearPolyline(t,e))return!0;if(this.showLevelLines||this.showLevelBackgrounds)for(var i=y.Geometry.xProjectionLength(e[0],e[1]),o=y.Geometry.yProjectionLength(e[0],e[1]),r=0,n=this.levels;r<n.length;r++){var a=n[r];if(this._isLevelVisible(a)){var l=Math.round(i*a.value),a=Math.round(o*a.value);if(y.Geometry.isPointNearEllipseWithRadiuses(t,e[0],l,a))return!0}}return this.selected&&y.Geometry.isPointNearPoint(t,e)},i.prototype._handlePanGesture=function(t,e){switch(t.state){case y.GestureState.STARTED:var i=this.cartesianPoint(1);if(i&&y.Geometry.isPointNearPoint(e.pointerPosition,i))return this._setDragPoint(1),this.changeCursor(y.DrawingCursorClass.RESIZE),!0;break;case y.GestureState.CONTINUED:if(1===this._dragPoint)return this.chartPoints[1].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){if(this.visible){var t=this.cartesianPoints();if(0!==t.length){var e=this.renderer,i=this.actualTheme;if(1<t.length){var o=t[0].x,r=t[0].y,n=y.Geometry.xProjectionLength(t[0],t[1]),a=y.Geometry.yProjectionLength(t[0],t[1]),l=void 0;this._applyTextPosition();for(var s=0,c=this.levels;s<c.length;s++){var h,u,f,d,p=c[s];this._isLevelVisible(p)&&(d=p.theme||i,f=Math.round(n*p.value),h=Math.round(a*p.value),this.showLevelBackgrounds&&(u=d.fill||i.fill,e.save(),e.beginPath(),e.translate(o,r),f!==h&&e.scale(1,h/f),e.circle(0,0,f),l?(e.circle(0,0,l),e.fill(u,!1,"evenodd")):e.fill(u),e.restore(),l=f),this.showLevelLines&&(e.ellipsePath(o,r,f,h),e.stroke(d.line||i.line)),this.showLevelValues&&(f=this._formatLevelValue(p),p=this._levelValueOffsetFromVerPosition(d,i),d=d.text||i.text,e.fillText(f,o,r+h+p,d)))}this.showTrendLine&&(e.polylinePath(t),e.stroke(i.trendLine))}this._drawSelectionMarkersIfSelected(t)}}},i);function i(){return null!==t&&t.apply(this,arguments)||this}y.FibonacciEllipsesDrawing=e,y.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(l){"use strict";var t,e={levels:[{value:0},{value:.2361},{value:.382},{value:.5},{value:.618},{value:.764},{value:1}],reverse:!1,levelTextVerPosition:l.FibonacciLevelTextVerPosition.MIDDLE,levelLinesExtension:l.FibonacciLevelLineExtension.NONE},e=(t=l.FibonacciDrawingBase,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"fibonacciRetracements"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reverse",{get:function(){var t=this._optionValue("reverse");return null!=t?t:i.defaults.reverse},set:function(t){this._setOption("reverse",t,l.DrawingEvent.REVERSE_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"levelLinesExtension",{get:function(){var t=this._optionValue("levelLinesExtension");return null!=t?t:i.defaults.levelLinesExtension},set:function(t){this._setOption("levelLinesExtension",t,l.DrawingEvent.LEVEL_LINES_EXTENSION_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var i=this,t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=this._linesXRange(t),o=this.levels.reduce(function(t,e){return i._isLevelVisible(e)?Math.max(t,e.value):t},Number.MIN_VALUE),r=this.reverse?Math.round((t[0].y-t[1].y)*o+t[1].y):Math.round((t[1].y-t[0].y)*o+t[0].y),o={x:e.min,y:r},r={x:e.max,y:r};return{left:Math.min(t[0].x,t[1].x,o.x,r.x),top:Math.min(t[0].y,t[1].y,o.y,r.y),width:Math.abs(Math.max(t[0].x,t[1].x)-Math.min(t[0].x,t[1].x)),height:Math.abs(Math.max(t[0].y,t[1].y,o.y,r.y)-Math.min(t[0].y,t[1].y,o.y,r.y))}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();if(e.length<this.pointsNeeded)return!1;if(this.showTrendLine&&l.Geometry.isPointNearPolyline(t,e))return!0;if(this.showLevelLines||this.showLevelBackgrounds)for(var i=this._linesXRange(e),o=0,r=this.levels;o<r.length;o++){var n=r[o];if(this._isLevelVisible(n)){var a=this.reverse?Math.round((e[0].y-e[1].y)*n.value+e[1].y):Math.round((e[1].y-e[0].y)*n.value+e[0].y),n={x:i.min,y:a},a={x:i.max,y:a};if(l.Geometry.isPointNearLine(t,n,a))return!0}}return this.selected&&l.Geometry.isPointNearPoint(t,e)},i.prototype._handlePanGesture=function(t,e){switch(t.state){case l.GestureState.STARTED:var i=this.cartesianPoints();if(1<i.length)for(var o=0;o<i.length;o++)if(l.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this.changeCursor(l.DrawingCursorClass.RESIZE),!0;break;case l.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){if(this.visible){var t=this.cartesianPoints();if(0!==t.length){var e=this.renderer,i=this.actualTheme;if(1<t.length){var o=this._linesXRange(t),r=void 0,n=void 0;this.showLevelValues&&(n=this._levelTextX(o),this._applyTextPosition());for(var a=0,l=this.levels;a<l.length;a++){var s,c,h,u=l[a];this._isLevelVisible(u)&&(h=u.theme||i,s=this.reverse?Math.round((t[0].y-t[1].y)*u.value+t[1].y):Math.round((t[1].y-t[0].y)*u.value+t[0].y),this.showLevelBackgrounds&&(r&&(e.polygonPath(o.min,r,o.max,r,o.max,s,o.min,s),e.fill(h.fill||i.fill)),r=s),this.showLevelLines&&(e.linePath(o.min,s,o.max,s),e.stroke(h.line||i.line)),this.showLevelValues&&(c=this._formatLevelValue(u),u=this._levelValueOffsetFromHorPosition(h,i),this.showLevelPrices&&(c+=" ("+this._formatPriceAtY(s)+")"),e.textTheme(h.text||i.text),(h=this._levelTextAlign())&&e.textOptions({align:h}),e.fillText(c,n,this._adjustYWithTextOffset(s)+u)))}}1<t.length&&this.showTrendLine&&(e.polylinePath(t),e.stroke(i.trendLine)),this._drawSelectionMarkersIfSelected(t)}}},i.prototype._levelTextX=function(t){var e,i=l.FibonacciLevelTextHorPosition;switch(this.levelTextHorPosition){case i.CENTER:e=(t.min+t.max)/2;break;case i.LEFT:e=t.min;break;case i.RIGHT:e=t.max;break;default:throw new Error("Unknown text horizontal position: "+this.levelTextHorPosition)}return e=this._adjustXWithTextOffset(e)},i.prototype._levelTextAlign=function(){var t=this.levelLinesExtension,e=l.FibonacciLevelLineExtension,i=l.FibonacciLevelTextHorPosition;switch(this.levelTextHorPosition){case i.RIGHT:if(t===e.RIGHT||t===e.BOTH)return l.TextAlign.RIGHT;break;case i.LEFT:if(t===e.LEFT||t===e.BOTH)return l.TextAlign.LEFT}},i.prototype._linesXRange=function(t){var e=l.FibonacciLevelLineExtension,i=this.chartPanel.contentFrame,o=Math.min(t[0].x,t[1].x),r=Math.max(t[0].x,t[1].x);switch(this.levelLinesExtension){case e.NONE:break;case e.LEFT:o=i.left;break;case e.RIGHT:r=i.right;break;case e.BOTH:o=i.left,r=i.right;break;default:throw new Error("Unknown level lines extension: "+this.levelLinesExtension)}return{min:o,max:r}},i.prototype._adjustXWithTextOffset=function(t){var e=t,i=l.FibonacciLevelLineExtension,o=this.levelLinesExtension,t=l.FibonacciLevelTextHorPosition;switch(this.levelTextHorPosition){case t.LEFT:o===i.LEFT||o===i.BOTH?e+=this._textOffset:e-=this._textOffset;break;case t.RIGHT:o===i.RIGHT||o===i.BOTH?e-=this._textOffset:e+=this._textOffset}return e},i.defaults=e,i);function i(){return null!==t&&t.apply(this,arguments)||this}l.FibonacciRetracementsDrawing=e,l.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(v){"use strict";var t,e=(t=v.FibonacciDrawingBase,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"fibonacciFan"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var i=this,t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=t[0].x,o=t[0].y,r=t[1].x,n=t[1].y,a=this.chartPanel.contentFrame,l=r<e?a.left:a.right,s=this.levels.reduce(function(t,e){return i._isLevelVisible(e)?Math.max(t,e.value):t},Number.MIN_VALUE),a=this.levels.reduce(function(t,e){return i._isLevelVisible(e)?Math.min(t,e.value):t},Number.MAX_VALUE),a=Math.round((o-n)*a+n),a=Math.round(o+(l-e)*(a-o)/(r-e)),n=Math.round((o-n)*s+n),e=Math.round(o+(l-e)*(n-o)/(r-e));return{left:Math.min(t[0].x,t[1].x,l),top:Math.min(t[0].y,t[1].y,e,a),width:Math.abs(Math.max(t[0].x,t[1].x,l)-Math.min(t[0].x,t[1].x,l)),height:Math.abs(Math.max(t[0].y,t[1].y,e,a)-Math.min(t[0].y,t[1].y,e,a))}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();if(e.length<this.pointsNeeded)return!1;var i=e[0].x,o=e[0].y,r=e[1].x,n=e[1].y,a=this.chartPanel.contentFrame.right;if(this.showTrendLine&&v.Geometry.isPointNearPolyline(t,e))return!0;if(this.showLevelLines||this.showLevelBackgrounds)for(var l=0,s=this.levels;l<s.length;l++){var c=s[l];if(this._isLevelVisible(c)){c=Math.round((o-n)*c.value+n),c=Math.round(o+(a-i)*(c-o)/(r-i));if(v.Geometry.isPointNearLine(t,{x:i,y:o},{x:a,y:c}))return!0}}return this.selected&&v.Geometry.isPointNearPoint(t,e[1])},i.prototype._handlePanGesture=function(t,e){switch(t.state){case v.GestureState.STARTED:var i=this.cartesianPoints();if(1<i.length)for(var o=0;o<i.length;o++)if(v.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this.changeCursor(v.DrawingCursorClass.RESIZE),!0;break;case v.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){if(this.visible){var t=this.cartesianPoints();if(0!==t.length){var e=this.renderer,i=this.actualTheme;if(1<t.length){var o=t[0].x,r=t[0].y,n=t[1].x,a=t[1].y,l=this.chartPanel.contentFrame,s=n<o,c=s?l.left:l.right,h=[],l=this._textBaselineFromVerPosition();e.textOptions({align:s?v.TextAlign.LEFT:v.TextAlign.RIGHT,baseline:l});for(var u=0,f=0,d=this.levels;f<d.length;f++){var p,y,m,_,C,b,g,S=d[f];this._isLevelVisible(S)&&(g=S.theme||i,b=Math.round((r-a)*S.value+a),p=Math.round(r+(c-o)*(b-r)/(n-o)),this.showLevelBackgrounds&&(2===h.length?(e.polygonPath(h[0].x,h[0].y,h[1].x,h[1].y,o,r,c,p),e.fill(g.fill||i.fill),h[0]={x:c,y:p},h[1]={x:o,y:r}):(h.push({x:c,y:p}),h.push({x:o,y:r}))),this.showLevelLines&&(e.linePath(o,r,c,p),e.stroke(g.line||i.line)),y=g.text||i.text,this.showLevelValues&&(m=v.HtmlUtil.getFontSize(y),_=this.chartPanel.contentFrame.width,C=this.chartPanel.contentFrame.height,g=b=void 0,g=p<m?(b=s?Math.abs(o)*Math.abs(p)/(Math.abs(p)+Math.abs(r)):_-(_-Math.abs(o))*Math.abs(p)/(Math.abs(p)+Math.abs(r)),m):(b=s?c+3:c-3,p),C-m<p&&(b=s?o*(p-C)/(p-r):_-(_-o)*(p-C)/(p-r),g=C-m),S=this._formatLevelValue(S),this.showLevelPrices&&(S+=" ("+this._formatPriceAtY(p)+")"),g+=u,u+=m+m/10,r<g&&(g-=2*(m+m/10)),e.fillText(S,b,g,y)))}}1<t.length&&this.showTrendLine&&(e.polylinePath(t),e.stroke(i.trendLine)),this._drawSelectionMarkersIfSelected(t)}}},i.defaults={levels:[{value:.382},{value:.5},{value:.618}],levelTextVerPosition:v.FibonacciLevelTextVerPosition.MIDDLE},i);function i(){return null!==t&&t.apply(this,arguments)||this}v.FibonacciFanDrawing=e,v.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(d){"use strict";var t,e={levels:[{value:0},{value:1},{value:2},{value:3},{value:5},{value:8},{value:13},{value:21},{value:34},{value:55},{value:89}],levelLinesExtension:d.FibonacciLevelLineExtension.BOTH},e=(t=d.FibonacciDrawingBase,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"fibonacciTimeZones"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"levelLinesExtension",{get:function(){var t=this._optionValue("levelLinesExtension");return null!=t?t:i.defaults.levelLinesExtension},set:function(t){this._setOption("levelLinesExtension",t,d.DrawingEvent.LEVEL_LINES_EXTENSION_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var i=this,t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=this.levels.reduce(function(t,e){return i._isLevelVisible(e)?Math.max(t,e.value):t},Number.MIN_VALUE),e=Math.round((t[1].x-t[0].x)*e+t[0].x);return{left:Math.min(t[0].x,e),top:this.chartPanel.frame.top,width:Math.abs(Math.max(t[0].x,e)-Math.min(t[0].x,e)),height:this.chartPanel.frame.height}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();if(e.length<2)return!1;if(this.showTrendLine&&d.Geometry.isPointNearPolyline(t,e))return!0;if(this.showLevelLines||this.showLevelBackgrounds)for(var i=this._linesYRange(e),o=0,r=this.levels;o<r.length;o++){var n=r[o];if(this._isLevelVisible(n)){var a=Math.round((e[1].x-e[0].x)*n.value+e[0].x),n={x:a,y:i.max},a={x:a,y:i.min};if(d.Geometry.isPointNearLine(t,n,a))return!0}}return this.selected&&d.Geometry.isPointNearPoint(t,e)},i.prototype._handlePanGesture=function(t,e){switch(t.state){case d.GestureState.STARTED:var i=this.cartesianPoints();if(1<i.length)for(var o=0;o<i.length;o++)if(d.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this.changeCursor(d.DrawingCursorClass.RESIZE),!0;break;case d.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){if(this.visible){var t=this.cartesianPoints();if(0!==t.length){var e=this.renderer,i=this.actualTheme;if(1<t.length){var o=this._linesYRange(t),r=void 0,n=void 0;if(this.showLevelValues){this._applyTextPosition();var a=void 0;switch(this.levelTextVerPosition){case d.FibonacciLevelTextVerPosition.MIDDLE:n=(o.min+o.max)/2;break;case d.FibonacciLevelTextVerPosition.TOP:n=o.min,a=d.TextBaseline.TOP;break;case d.FibonacciLevelTextVerPosition.BOTTOM:n=o.max,a=d.TextBaseline.BOTTOM}a&&e.textOptions({baseline:a})}for(var l=0,s=this.levels;l<s.length;l++){var c,h,u,f=s[l];this._isLevelVisible(f)&&(u=f.theme||i,c=Math.round((t[1].x-t[0].x)*f.value+t[0].x),this.showLevelBackgrounds&&(r&&(e.polygonPath(r,o.min,r,o.max,c,o.max,c,o.min),e.fill(u.fill||i.fill)),r=c),this.showLevelLines&&(e.linePath(c,o.min,c,o.max),e.stroke(u.line||i.line)),this.showLevelValues&&(h=Number(f.value).toFixed(0),f=this._levelValueOffsetFromHorPosition(u,i),u=u.text||i.text,e.fillText(h,this._adjustXWithTextOffset(c)+f,n,u)))}}1<t.length&&this.showTrendLine&&(e.polylinePath(t),e.stroke(i.trendLine)),this._drawSelectionMarkersIfSelected(t)}}},i.prototype._linesYRange=function(t){var e=d.FibonacciLevelLineExtension,i=this.chartPanel.contentFrame,o=Math.max(t[0].y,t[1].y),r=Math.min(t[0].y,t[1].y);switch(this.levelLinesExtension){case e.NONE:break;case e.TOP:r=0;break;case e.BOTTOM:o=i.height;break;case e.BOTH:r=0,o=i.height;break;default:throw new Error("Unknown level lines extension: "+this.levelLinesExtension)}return{min:r,max:o}},i.defaults=e,i);function i(){return null!==t&&t.apply(this,arguments)||this}d.FibonacciTimeZonesDrawing=e,d.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(l){"use strict";var t,e={levels:[{value:0},{value:.2361},{value:.382},{value:.5},{value:.618},{value:.764},{value:1},{value:1.618},{value:2.618},{value:3.618},{value:4.236}],reverse:!1,levelTextVerPosition:l.FibonacciLevelTextVerPosition.MIDDLE,levelLinesExtension:l.FibonacciLevelLineExtension.NONE},e=(t=l.FibonacciDrawingBase,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"fibonacciExtensions"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reverse",{get:function(){var t=this._optionValue("reverse");return null!=t?t:i.defaults.reverse},set:function(t){this._setOption("reverse",t,l.DrawingEvent.REVERSE_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"levelLinesExtension",{get:function(){var t=this._optionValue("levelLinesExtension");return null!=t?t:i.defaults.levelLinesExtension},set:function(t){this._setOption("levelLinesExtension",t,l.DrawingEvent.LEVEL_LINES_EXTENSION_CHANGED)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 3},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.middle","drawing.all.dialog.end"]},i.prototype.bounds=function(){var i=this,t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=this.levels.reduce(function(t,e){return i._isLevelVisible(e)?Math.max(t,e.value):t},Number.MIN_VALUE),e=this.reverse?Math.round((t[0].y-t[1].y)*e+t[2].y):Math.round((t[1].y-t[0].y)*e+t[2].y);return{left:Math.min(t[0].x,t[1].x,t[2].x),top:Math.min(t[0].y,t[1].y,t[2].y,e),width:Math.abs(Math.max(t[0].x,t[1].x,t[2].x)-Math.min(t[0].x,t[1].x,t[2].x)),height:Math.abs(Math.max(t[0].y,t[1].y,t[2].y,e)-Math.min(t[0].y,t[1].y,t[2].y,e))}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();if(e.length<this.pointsNeeded)return!1;if(this.showTrendLine&&l.Geometry.isPointNearPolyline(t,e))return!0;if(this.showLevelLines||this.showLevelBackgrounds)for(var i=this._linesXRange(e),o=0,r=this.levels;o<r.length;o++){var n=r[o];if(this._isLevelVisible(n)){var a=this.reverse?Math.round((e[0].y-e[1].y)*n.value+e[2].y):Math.round((e[1].y-e[0].y)*n.value+e[2].y),n={x:i.min,y:a},a={x:i.max,y:a};if(l.Geometry.isPointNearLine(t,n,a))return!0}}return this.selected&&l.Geometry.isPointNearPoint(t,e)},i.prototype._handlePanGesture=function(t,e){switch(t.state){case l.GestureState.STARTED:var i=this.cartesianPoints();if(1<i.length)for(var o=0;o<i.length;o++)if(l.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this.changeCursor(l.DrawingCursorClass.RESIZE),!0;break;case l.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){if(this.visible){var t=this.cartesianPoints();if(0!==t.length){var e=this.renderer,i=this.actualTheme;if(2<t.length){var o=this._linesXRange(t),r=void 0,n=void 0;this.showLevelValues&&(r=this._valueTextX(o),this._applyTextPosition());for(var a=0,l=this.levels;a<l.length;a++){var s,c,h,u,f=l[a];this._isLevelVisible(f)&&(u=f.theme||i,s=this.reverse?Math.round((t[0].y-t[1].y)*f.value+t[2].y):Math.round((t[1].y-t[0].y)*f.value+t[2].y),this.showLevelBackgrounds&&(n&&(e.polygonPath(o.min,n,o.max,n,o.max,s,o.min,s),e.fill(u.fill||i.fill)),n=s),this.showLevelLines&&(e.linePath(o.min,s,o.max,s),e.stroke(u.line||i.line)),this.showLevelValues&&(c=this._formatLevelValue(f),h=this._levelValueOffsetFromVerPosition(u,i),this.showLevelPrices&&(c+=" ("+this._formatPriceAtY(s)+")"),(f=this._levelTextAlign())&&e.textOptions({align:f}),u=u.text||i.text,e.fillText(c,r,this._adjustYWithTextOffset(s)+h,u)))}}1<t.length&&this.showTrendLine&&(e.polylinePath(t),e.stroke(i.trendLine)),this.selected&&this._drawSelectionMarkers(t)}}},i.prototype._levelTextAlign=function(){var t=this.levelLinesExtension,e=l.FibonacciLevelLineExtension,i=l.FibonacciLevelTextHorPosition;switch(this.levelTextHorPosition){case i.RIGHT:if(t===e.RIGHT||t===e.BOTH)return l.TextAlign.RIGHT;break;case i.LEFT:if(t===e.LEFT||t===e.BOTH)return l.TextAlign.LEFT}},i.prototype._linesXRange=function(t){var e=l.FibonacciLevelLineExtension,i=this.chartPanel.contentFrame,o=Math.min(t[1].x,t[2].x),r=Math.max(t[1].x,t[2].x);switch(this.levelLinesExtension){case e.NONE:break;case e.LEFT:o=i.left;break;case e.RIGHT:r=i.right;break;case e.BOTH:o=i.left,r=i.right;break;default:throw new Error("Unknown level lines extension: "+this.levelLinesExtension)}return{min:o,max:r}},i.prototype._valueTextX=function(t){var e,i=l.FibonacciLevelTextHorPosition;switch(this.levelTextHorPosition){case i.CENTER:e=(t.min+t.max)/2;break;case i.LEFT:e=t.min;break;case i.RIGHT:e=t.max;break;default:throw new Error("Unknown text horizontal position: "+this.levelTextHorPosition)}return e=this._adjustXWithTextOffset(e)},i.prototype._adjustXWithTextOffset=function(t){var e=t,i=l.FibonacciLevelLineExtension,o=this.levelLinesExtension,t=l.FibonacciLevelTextHorPosition;switch(this.levelTextHorPosition){case t.LEFT:o===i.LEFT||o===i.BOTH?e+=this._textOffset:e-=this._textOffset;break;case t.RIGHT:o===i.RIGHT||o===i.BOTH?e-=this._textOffset:e+=this._textOffset}return e},i.defaults=e,i);function i(){return null!==t&&t.apply(this,arguments)||this}l.FibonacciExtensionsDrawing=e,l.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(_){"use strict";var t,e=(t=_.Drawing,__extends(i,t),Object.defineProperty(i,"className",{get:function(){return"andrewsPitchfork"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 3},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.middle","drawing.all.dialog.end"]},i.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=t[0],i=t[1],o=t[2],r=e.x,n=e.y,a=i.x,l=i.y,s=o.x,c=o.y,h=(s-a)/2+a,e=(c-l)/2+l,i=a-(r-h),o=l-(n-e),h=s-(r-h),n=c-(n-e),e=Math.sqrt(a*i+l*o),l={x:a+(i-a)*e,y:l+(o-l)*e},e=Math.sqrt(s*h+c*n),e={x:s+(h-s)*e,y:c+(n-c)*e};return{left:Math.min(t[0].x,t[1].x,t[2].x,l.x,e.x),top:Math.min(t[0].y,t[1].y,t[2].y,l.y,e.y),width:Math.abs(Math.max(t[0].x,t[1].x,t[2].x,l.x,e.x)-Math.min(t[0].x,t[1].x,t[2].x,l.x,e.x)),height:Math.abs(Math.max(t[0].y,t[1].y,t[2].y,l.y,e.y))-Math.min(t[0].y,t[1].y,t[2].y,l.y,e.y)}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();if(e.length<3)return!1;var i=e[0],o=e[1],r=e[2],n=i.x,a=i.y,l=o.x,s=o.y,c=r.x,h=r.y,u=(c-l)/2+l,f=(h-s)/2+s,d=l-(n-u),p=s-(a-f),y=c-(n-u),m=h-(a-f),e=Math.sqrt(n*u+a*f),a={x:n+(u-n)*e,y:a+(f-a)*e},e=Math.sqrt(l*d+s*p),s={x:l+(d-l)*e,y:s+(p-s)*e},e=Math.sqrt(c*y+h*m),e={x:c+(y-c)*e,y:h+(m-h)*e};return _.Geometry.isPointNearLine(t,o,r)||_.Geometry.isPointNearLine(t,i,a)||_.Geometry.isPointNearLine(t,o,s)||_.Geometry.isPointNearLine(t,r,e)},i.prototype._handlePanGesture=function(t,e){switch(t.state){case _.GestureState.STARTED:var i=this.cartesianPoints();if(1<i.length)for(var o=0;o<i.length;o++)if(_.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this.changeCursor(_.DrawingCursorClass.RESIZE),!0;break;case _.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){var t,e,i,o,r,n,a,l,s,c,h,u,f,d,p,y;!this.visible||0!==(t=this.cartesianPoints()).length&&(e=this.renderer,i=this.actualTheme,2<t.length?(o=t[0].x,r=t[0].y,n=t[1].x,a=t[1].y,f=n-(o-(h=((l=t[2].x)-n)/2+n)),d=a-(r-(u=((s=t[2].y)-a)/2+a)),p=l-(o-h),c=s-(r-u),h=o+(h-o)*(y=Math.sqrt(o*h+r*u)),u=r+(u-r)*y,f=n+(f-n)*(y=Math.sqrt(n*f+a*d)),d=a+(d-a)*y,p=l+(p-l)*(y=Math.sqrt(l*p+s*c)),y=s+(c-s)*y,e.linePath(o,r,h,u),e.line(n,a,f,d),e.line(l,s,p,y),e.line(n,a,l,s),e.stroke(i.line)):1<t.length&&(e.polylinePath(t),e.stroke(i.line)),this._drawSelectionMarkersIfSelected(t))},i);function i(){return null!==t&&t.apply(this,arguments)||this}_.AndrewsPitchforkDrawing=e,_.Drawing.register(e)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(p){"use strict";var e,t=(e=p.Drawing,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"trendChannel"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.middle","drawing.all.dialog.end"]},i.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=t[0].x,i=t[0].y,o=t[1].x,r=t[1].y,n=t[2].x,a=t[2].y,l=n+(o-e),s=r+(a-i),c=e-(n-e),h=i-(a-i),o=o-e+c,e=r-(a-i),r=Math.sqrt(n*l+a*s),i=Math.round(n+(l-n)*r),n=Math.round(a+(s-a)*r),a=Math.sqrt(c*o+h*e),r=Math.round(c+(o-c)*a),a=Math.round(h+(e-h)*a);return{left:Math.min(t[0].x,t[1].x,t[2].x,i,r,l,c,o),top:Math.min(t[0].y,t[1].y,t[2].y,n,a,s,h,e),width:Math.abs(Math.max(t[0].x,t[1].x,t[2].x,l,c,o,i,r)-Math.min(t[0].x,t[1].x,t[2].x,l,c,o,i,r)),height:Math.abs(Math.max(t[0].y,t[1].y,t[2].y,s,h,e,n,a)-Math.min(t[0].y,t[1].y,t[2].y,s,h,e,n,a))}},i.prototype._finishUserDrawing=function(){e.prototype._finishUserDrawing.call(this);var t=this.cartesianPoints(),t=p.ChartPoint.convert({x:t[0].x,y:t[0].y-20},this.createPointBehavior,this.projection);this.appendChartPoint(t)},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.cartesianPoints();if(e.length<this.pointsNeeded)return!1;var i=e[0].x,o=e[0].y,r=e[1].x,n=e[1].y,a=e[2].x,l=e[2].y,s=a+(r-i),c=n+(l-o),h=i-(a-i),u=o-(l-o),f=r-i+h,d=n-(l-o),e=Math.sqrt(i*r+o*n),r=Math.round(i+(r-i)*e),n=Math.round(o+(n-o)*e),e=Math.sqrt(a*s+l*c),s=Math.round(a+(s-a)*e),c=Math.round(l+(c-l)*e),e=Math.sqrt(h*f+u*d),f=Math.round(h+(f-h)*e),e=Math.round(u+(d-u)*e);return p.Geometry.isPointNearLine(t,{x:i,y:o},{x:r,y:n})||p.Geometry.isPointNearLine(t,{x:a,y:l},{x:s,y:c})||p.Geometry.isPointNearLine(t,{x:h,y:u},{x:f,y:e})},i.prototype._handlePanGesture=function(t,e){switch(t.state){case p.GestureState.STARTED:var i=this.cartesianPoints();if(1<i.length)for(var o=0;o<i.length;o++)if(p.Geometry.isPointNearPoint(e.pointerPosition,i[o]))return this._setDragPoint(o),this.changeCursor(p.DrawingCursorClass.RESIZE),!0;break;case p.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),0===this._dragPoint&&this.chartPoints[2].translate(t.moveOffset.x,t.moveOffset.y,this.projection),!0}return!1},i.prototype.draw=function(){var t,e,i,o,r,n,a,l,s,c,h,u,f,d,p,y;!this.visible||0!==(t=this.cartesianPoints()).length&&(e=this.renderer,i=this.actualTheme,2<t.length?(o=t[0].x,r=t[0].y,h=t[1].x,u=t[1].y,f=(n=t[2].x)+(h-o),d=u+((a=t[2].y)-r),s=r-(a-r),p=h-o+(l=o-(n-o)),c=u-(a-r),y=Math.sqrt(o*h+r*u),h=Math.round(o+(h-o)*y),u=Math.round(r+(u-r)*y),y=Math.sqrt(n*f+a*d),f=Math.round(n+(f-n)*y),d=Math.round(a+(d-a)*y),y=Math.sqrt(l*p+s*c),p=Math.round(l+(p-l)*y),y=Math.round(s+(c-s)*y),e.linePath(o,r,h,u),e.line(n,a,f,d),e.line(l,s,p,y),e.stroke(i.line)):1<t.length&&(e.polylinePath(t),e.stroke(i.line)),this._drawSelectionMarkersIfSelected(t))},i);function i(){return null!==e&&e.apply(this,arguments)||this}p.TrendChannelDrawing=t,p.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(g){"use strict";var e=g.DrawingEvent||(g.DrawingEvent={});e.RANGE_RATIO_CHANGED="drawingRangeRatioChanged";var i,t=(i=g.Drawing,__extends(o,i),Object.defineProperty(o,"className",{get:function(){return"errorChannel"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"rangeRatio",{get:function(){return this._optionValue("rangeRatio")||o.defaults.rangeRatio},set:function(t){if("number"!=typeof t)throw new TypeError("Range ratio must be a number.");if(!g.JsUtil.isPositiveNumber(t))throw new Error("Range ratio must be a number greater than 0.");this._options.rangeRatio=t,this.fire(e.RANGE_RATIO_CHANGED,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),o.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},o.prototype.bounds=function(){var t=this._drawingPoints;return!t||t.length<6?null:{left:Math.min(t[0].x,t[1].x),top:Math.min(t[0].y,t[1].y,t[2].y,t[3].y,t[4].y,t[5].y),width:Math.abs(t[1].x-t[0].x),height:Math.abs(Math.max(t[0].y,t[1].y,t[2].y,t[3].y,t[4].y,t[5].y)-Math.min(t[0].y,t[1].y,t[2].y,t[3].y,t[4].y,t[5].y))}},o.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;if(this.chartPoints.length<this.pointsNeeded)return!1;var e=this._drawingPoints;return!!e&&(g.Geometry.isPointNearLine(t,e[0],e[1])||g.Geometry.isPointNearLine(t,e[2],e[3])||g.Geometry.isPointNearLine(t,e[4],e[5]))},o.prototype._handlePanGesture=function(t,e){switch(t.state){case g.GestureState.STARTED:if(g.Geometry.isPointNearPoint(this.cartesianPoint(0),e.pointerPosition))this._setDragPoint(0);else{if(!g.Geometry.isPointNearPoint(this.cartesianPoint(1),e.pointerPosition))return!1;this._setDragPoint(1)}return this.changeCursor(g.DrawingCursorClass.RESIZE),!0;case g.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},o.prototype._finishUserDrawing=function(){i.prototype._finishUserDrawing.call(this);var t=this.cartesianPoints();t.length<2||(t[0].x>t[1].x&&(this.chartPoints[0].moveToPoint(t[1],this.projection),this.chartPoints[1].moveToPoint(t[0],this.projection)),this._drawingPoints=this._calculateDrawingPoints(t))},o.prototype.draw=function(){var t,e,i;!this.visible||0!==(t=this.cartesianPoints()).length&&(1<t.length&&(e=t[0].x,t[1].x<e&&(i=t[1],t[1]=t[0],t[0]=i),e=this._drawingPoints=this._calculateDrawingPoints(t),this._moveMainLineYPoint(e[2].y,e[3].y),(i=this.renderer).beginPath(),i.line(e[0].x,e[0].y,e[1].x,e[1].y),i.line(e[2].x,e[2].y,e[3].x,e[3].y),i.line(e[4].x,e[4].y,e[5].x,e[5].y),i.stroke(this.actualTheme.line),t=this._getMainLinePoints()),this._drawSelectionMarkersIfSelected(t))},o.prototype._calculateDrawingPoints=function(t){for(var e=t[0],i=t[1],o=this.projection,r=this.chart.primaryBarDataSeries(),n=o.recordByX(e.x),a=o.recordByX(i.x),l=Math.min(n,a),s=Math.max(n,a),c=r.high,h=0,u=l;u<=s;u++)c.valueAtIndex(u)>h&&(h=c.valueAtIndex(u));for(var f=r.low,d=h,u=l;u<=s;u++)f.valueAtIndex(u)<d&&(d=f.valueAtIndex(u));for(var p=(h-d)*this.rangeRatio,y=s-l+1,m=[],u=0;u<y;u++)m.push(r.low.valueAtIndex(l+u));var _=g.DrawingCalculationUtil.calculateLinearRegression(m),C=_.slope,b=_.firstValue,t=b+C*(y-1),n=o.yByValue(b+p),a=o.yByValue(t+p),_=o.yByValue(b),C=o.yByValue(t),b=o.yByValue(b-p),p=o.yByValue(t-p);return[{x:e.x,y:n},{x:i.x,y:a},{x:e.x,y:_},{x:i.x,y:C},{x:e.x,y:b},{x:i.x,y:p}]},o.prototype._getMainLinePoints=function(){return[this._drawingPoints[2],this._drawingPoints[3]]},o.prototype._moveMainLineYPoint=function(t,e){this.chartPoints[0].moveToY(t,this.projection),this.chartPoints[1].moveToY(e,this.projection)},o.defaults={rangeRatio:.5},o);function o(){return null!==i&&i.apply(this,arguments)||this}g.ErrorChannelDrawing=t,g.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(b){"use strict";var e,t=(e=b.Drawing,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"quadrantLines"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"drawingPoints",{get:function(){return this._drawingPoints||(this._drawingPoints=this._calculateDrawingPoints(this.cartesianPoints())),this._drawingPoints},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},i.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=this.drawingPoints;return{left:Math.min(t[0].x,t[1].x),top:e[0][0].y,width:Math.abs(t[0].x-t[1].x),height:Math.abs(e[4][0].y-e[0][0].y)}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;if(this.chartPoints.length<2)return!1;for(var e=this.drawingPoints,i=0;i<5;i++)if(b.Geometry.isPointNearLine(t,e[i][0],e[i][1]))return!0;return!1},i.prototype._handlePanGesture=function(t,e){switch(t.state){case b.GestureState.STARTED:if(b.Geometry.isPointNearPoint(this.cartesianPoint(0),e.pointerPosition))this._setDragPoint(0);else{if(!b.Geometry.isPointNearPoint(this.cartesianPoint(1),e.pointerPosition))return!1;this._setDragPoint(1)}return this.changeCursor(b.DrawingCursorClass.RESIZE),!0;case b.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype._finishUserDrawing=function(){e.prototype._finishUserDrawing.call(this);var t=this.cartesianPoints();t[0].x>t[1].x&&(this.chartPoints[0].moveToPoint(t[1],this.projection),this.chartPoints[1].moveToPoint(t[0],this.projection)),this._drawingPoints=this._calculateDrawingPoints(t)},i.prototype.draw=function(){if(this.visible){var t=this.cartesianPoints();if(0!==t.length){if(1<t.length){var e=this.renderer,i=this._drawingPoints=this._calculateDrawingPoints(t);this._moveMainLineYPoint(i[2][0].y,i[2][1].y),e.beginPath();for(var o=0;o<5;o++)e.line(i[o][0].x,i[o][0].y,i[o][1].x,i[o][1].y);e.stroke(this.actualTheme.line)}this.selected&&this._drawSelectionMarkers(this.cartesianPoints())}}},i.prototype._calculateDrawingPoints=function(t){for(var e=t[0],i=t[1],o=this.projection,r=o.recordByX(e.x),n=o.recordByX(i.x),t=Math.min(r,n),a=Math.max(r,n),l=0,s=this.chart.primaryDataSeries(b.DataSeriesSuffix.HIGH),c=t;c<=a;c++){var h=s.valueAtIndex(c);l<h&&(l=h)}for(var u=l,f=this.chart.primaryDataSeries(b.DataSeriesSuffix.LOW),c=t;c<=a;c++){var d=f.valueAtIndex(c);d<u&&(u=d)}for(var p=l+(l-u)/4,y=[],c=0;c<5;c++){p-=(l-u)/4;var m=o.yByValue(p),_=e.x,C=i.x;y.push([{x:_,y:m},{x:C,y:m}])}return y},i.prototype._moveMainLineYPoint=function(t,e){this.chartPoints[0].moveToY(t,this.projection),this.chartPoints[1].moveToY(e,this.projection)},i);function i(){return null!==e&&e.apply(this,arguments)||this}b.QuadrantLinesDrawing=t,b.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(w){"use strict";var e,t=(e=w.Drawing,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"raffRegression"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},i.prototype.bounds=function(){var t=this._drawingPoints;return!t||t.length<6?null:{left:Math.min(t[0].x,t[1].x),top:Math.min(t[0].y,t[1].y,t[2].y,t[3].y,t[4].y,t[5].y),width:Math.abs(t[1].x-t[0].x),height:i._calculateBoundsHeight(t)}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;if(this.chartPoints.length<this.pointsNeeded)return!1;var e=this._drawingPoints;return!!this._drawingPoints&&(w.Geometry.isPointNearLine(t,e[0],e[1])||w.Geometry.isPointNearLine(t,e[2],e[3])||w.Geometry.isPointNearLine(t,e[4],e[5]))},i.prototype._handlePanGesture=function(t,e){switch(t.state){case w.GestureState.STARTED:if(w.Geometry.isPointNearPoint(this.cartesianPoint(0),e.pointerPosition))this._setDragPoint(0);else{if(!w.Geometry.isPointNearPoint(this.cartesianPoint(1),e.pointerPosition))return!1;this._setDragPoint(1)}return this.changeCursor(w.DrawingCursorClass.RESIZE),!0;case w.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype._finishUserDrawing=function(){e.prototype._finishUserDrawing.call(this);var t=this.cartesianPoints();t[0].x>t[1].x&&(this.chartPoints[0].moveToPoint(t[1],this.projection),this.chartPoints[1].moveToPoint(t[0],this.projection)),this._drawingPoints=this._calculateDrawingPoints(t)},i.prototype.draw=function(){var t,e,i;this.visible&&((t=this.cartesianPoints()).length<1||(1<t.length&&(e=t[0].x,t[1].x<e&&(i=t[1],t[1]=t[0],t[0]=i),(e=this.renderer).beginPath(),i=this._drawingPoints=this._calculateDrawingPoints(t),this._moveMainLineYPoint(i[2].y,i[3].y),e.line(i[0].x,i[0].y,i[1].x,i[1].y),e.line(i[2].x,i[2].y,i[3].x,i[3].y),e.line(i[4].x,i[4].y,i[5].x,i[5].y),t=this._getMainLinePoints(),e.stroke(this.actualTheme.line)),this._drawSelectionMarkersIfSelected(t)))},i.prototype._calculateDrawingPoints=function(t){for(var e=t[0],i=t[1],o=this.projection,r=o.recordByX(e.x),n=o.recordByX(i.x),a=this.chart.primaryBarDataSeries(),l=Math.min(r,n),s=Math.min(Math.max(r,n),a.date.length-1),c=s-l+1,h=[],u=0;u<c;u++)h.push(a.close.valueAtIndex(l+u));for(var f=w.DrawingCalculationUtil.calculateLinearRegression(h),d=f.slope,p=f.firstValue,y=p+d*(c-1),m=0,_=0,u=l,C=0;u<=s;u++,C++){var b=p+d*C,g=a.high.valueAtIndex(u)-b,b=b-a.low.valueAtIndex(u);0<g&&m<g&&(m=g),0<b&&_<b&&(_=b)}var S=Math.max(m,_),v=o.yByValue(p+S),t=o.yByValue(y+S),r=o.yByValue(p),n=o.yByValue(y),f=o.yByValue(p-S),S=o.yByValue(y-S);return[{x:e.x,y:v},{x:i.x,y:t},{x:e.x,y:r},{x:i.x,y:n},{x:e.x,y:f},{x:i.x,y:S}]},i.prototype._getMainLinePoints=function(){return[this._drawingPoints[2],this._drawingPoints[3]]},i.prototype._moveMainLineYPoint=function(t,e){this.chartPoints[0].moveToY(t,this.projection),this.chartPoints[1].moveToY(e,this.projection)},i._calculateBoundsHeight=function(t){var e=Math.min(t[0].y,t[1].y),t=Math.max(t[4].y,t[5].y);return Math.abs(e-t)},i);function i(){return null!==e&&e.apply(this,arguments)||this}w.RaffRegressionDrawing=t,w.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(y){"use strict";var e,t=(e=y.Drawing,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"tironeLevels"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"drawingPoints",{get:function(){return this._drawingPoints||(this._drawingPoints=this._calculateDrawingPoints(this.cartesianPoints())),this._drawingPoints},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),i.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},i.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<this.pointsNeeded)return null;var e=this.drawingPoints;return{left:t[0].x,top:e[0].y,width:t[1].x-t[0].x,height:Math.abs(e[0].y-e[5].y)}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;if(this.chartPoints.length<this.pointsNeeded)return!1;var e=this.drawingPoints;return y.Geometry.isPointNearLine(t,e[0],e[1])||y.Geometry.isPointNearLine(t,e[2],e[3])||y.Geometry.isPointNearLine(t,e[4],e[5])},i.prototype._handlePanGesture=function(t,e){switch(t.state){case y.GestureState.STARTED:if(y.Geometry.isPointNearPoint(this.cartesianPoint(0),e.pointerPosition))this._setDragPoint(0);else{if(!y.Geometry.isPointNearPoint(this.cartesianPoint(1),e.pointerPosition))return!1;this._setDragPoint(1)}return this.changeCursor(y.DrawingCursorClass.RESIZE),!0;case y.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype._finishUserDrawing=function(){e.prototype._finishUserDrawing.call(this);var t=this.cartesianPoints();t[0].x>t[1].x&&(this.chartPoints[0].moveToPoint(t[1],this.projection),this.chartPoints[1].moveToPoint(t[0],this.projection)),this._drawingPoints=this._calculateDrawingPoints(t)},i.prototype.draw=function(){var t,e,i;!this.visible||0!==(t=this.cartesianPoints()).length&&(1<t.length&&(e=this._drawingPoints=this._calculateDrawingPoints(t),this._moveMainLineYPoint(e[2].y,e[3].y),(i=this.renderer).beginPath(),i.line(e[0].x,e[0].y,e[1].x,e[1].y),i.line(e[2].x,e[2].y,e[3].x,e[3].y),i.line(e[4].x,e[4].y,e[5].x,e[5].y),i.stroke(this.actualTheme.line),t=this._getMainLinePoints()),this._drawSelectionMarkersIfSelected(t))},i.prototype._calculateDrawingPoints=function(t){for(var e=t[0],i=t[1],o=this.projection,r=o.recordByX(e.x),n=o.recordByX(i.x),a=Math.min(r,n),l=Math.max(r,n),s=this.chart.primaryDataSeries(y.DataSeriesSuffix.HIGH),c=0,h=a;h<=l;h++){var u=s.valueAtIndex(h);c<u&&(c=u)}for(var f=this.chart.primaryDataSeries(y.DataSeriesSuffix.LOW),d=c,h=a;h<=l;h++){var p=f.valueAtIndex(h);p<d&&(d=p)}t=o.yByValue(c-(c-d)/3),r=t,n=o.yByValue(d+(c-d)/2),a=n,o=o.yByValue(d+(c-d)/3);return[{x:e.x,y:t},{x:i.x,y:r},{x:e.x,y:n},{x:i.x,y:a},{x:e.x,y:o},{x:i.x,y:o}]},i.prototype._getMainLinePoints=function(){var t=this.drawingPoints;return[t[2],t[3]]},i.prototype._moveMainLineYPoint=function(t,e){this.chartPoints[0].moveToY(t,this.projection),this.chartPoints[1].moveToY(e,this.projection)},i);function i(){return null!==e&&e.apply(this,arguments)||this}y.TironeLevelsDrawing=t,y.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var e,t=(e=i.Drawing,__extends(o,e),Object.defineProperty(o,"className",{get:function(){return"speedLines"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"extend",{get:function(){return this._extend},set:function(t){this._extend=t},enumerable:!0,configurable:!0}),o.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},o.prototype.bounds=function(){var t=this._drawingPoints;return!t||t.length<6?null:{left:Math.min(t[0].x,t[1].x),top:Math.min(t[0].y,t[1].y,t[2].y,t[3].y,t[4].y,t[5].y),width:Math.abs(t[1].x-t[0].x),height:Math.abs(Math.max(t[0].y,t[1].y,t[2].y,t[3].y,t[4].y,t[5].y)-Math.min(t[0].y,t[1].y,t[2].y,t[3].y,t[4].y,t[5].y))}},o.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;if(this.chartPoints.length<this.pointsNeeded)return!1;var e=this._drawingPoints;return!!this._drawingPoints&&(i.Geometry.isPointNearLine(t,e[0],e[1])||i.Geometry.isPointNearLine(t,e[2],e[3])||i.Geometry.isPointNearLine(t,e[4],e[5]))},o.prototype._handlePanGesture=function(t,e){switch(t.state){case i.GestureState.STARTED:if(i.Geometry.isPointNearPoint(this._markersPoints[0],e.pointerPosition))this._setDragPoint(0);else{if(!i.Geometry.isPointNearPoint(this._markersPoints[1],e.pointerPosition))return!1;this._setDragPoint(1)}return this.changeCursor(i.DrawingCursorClass.RESIZE),!0;case i.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},o.prototype.draw=function(){var t,e,i;!this.visible||0!==(t=this.cartesianPoints()).length&&(1<t.length&&(e=this.renderer,i=this._drawingPoints=this._calculateDrawingPoints(t),e.beginPath(),e.line(i[0].x,i[0].y,i[1].x,i[1].y),e.line(i[2].x,i[2].y,i[3].x,i[3].y),e.line(i[4].x,i[4].y,i[5].x,i[5].y),e.stroke(this.actualTheme.line),t=this._markersPoints),this._drawSelectionMarkersIfSelected(t))},o.prototype._calculateDrawingPoints=function(t){var e,i=t[0].x,o=t[0].y,r=t[1].x,n=t[1].y,a=this.chart.primaryBarDataSeries(),l=a.high,s=a.low,c=l.valueAtIndex(this.projection.recordByX(i)),h=s.valueAtIndex(this.projection.recordByX(i)),u=l.valueAtIndex(this.projection.recordByX(r)),f=s.valueAtIndex(this.projection.recordByX(r)),a=h<u,l=0,s=0;return s=(l=(a=a&&f<c?n<o:a)?(o=this.projection.yByValue(h),n=this.projection.yByValue(u),e=h+.333*(u-h),this.projection.yByValue(h+.667*(u-h))):(o=this.projection.yByValue(c),n=this.projection.yByValue(f),e=c-.333*(c-f),this.projection.yByValue(c-.667*(c-f))),this.projection.yByValue(e)),i=this.projection.xByRecord(this.projection.recordByX(t[0].x)),r=this.projection.xByRecord(this.projection.recordByX(t[1].x)),this._markersPoints=[{x:i,y:o},{x:r,y:n}],this.extend&&(e=r-i,t=Math.sqrt(i*r+o*n),r=Math.round(i+e*t),n=Math.round(o-(o-n)*t),l=Math.round(o-(o-l)*t),s=Math.round(o-(o-s)*t)),[{x:i,y:o},{x:r,y:n},{x:i,y:o},{x:r,y:l},{x:i,y:o},{x:r,y:s}]},o);function o(){var t=null!==e&&e.apply(this,arguments)||this;return t._extend=!0,t}i.SpeedLinesDrawing=t,i.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";var e;(i=e=r.DrawingEvent||(r.DrawingEvent={})).ANGLES_CHANGED="drawingAnglesChanged",i.SHOW_ANGLE_LINE_CHANGED="drawingShowAngleLineChanged";var t,i=(t=r.Drawing,__extends(o,t),Object.defineProperty(o,"className",{get:function(){return"gannFan"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"angles",{get:function(){return this._optionValue("angles")||o.defaults.angles},set:function(t){if(null!=t&&!Array.isArray(t))throw new TypeError("Angles must be an array of numbers.");this._options.angles=t,this.fire(e.ANGLES_CHANGED,t)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),o.prototype.pointsLocalizationKeys=function(){return["drawing.all.dialog.start","drawing.all.dialog.end"]},o.prototype.bounds=function(){var t=this.cartesianPoints();if(t.length<2)return null;this._drawingPoints=this._calculateDrawingPoints(t);var e=this._drawingPoints[0][1],i=this._drawingPoints[this._drawingPoints.length-1][1];return{left:Math.min(t[0].x,t[1].x,e.x,i.x),top:Math.min(t[0].y,t[1].y,e.y,i.y),width:Math.abs(Math.max(t[0].x,t[1].x,e.x,i.x)-Math.min(t[0].x,t[1].x,e.x,i.x)),height:Math.abs(Math.max(t[0].y,t[1].y,e.y,i.y)-Math.min(t[0].y,t[1].y,e.y,i.y))}},o.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;if(this.cartesianPoints().length<this.pointsNeeded)return!1;for(var e=0,i=this._drawingPoints;e<i.length;e++){var o=i[e];if(r.Geometry.isPointNearLine(t,o[0],o[1]))return!0}return!1},o.prototype._handlePanGesture=function(t,e){switch(t.state){case r.GestureState.STARTED:if(r.Geometry.isPointNearPoint(this.cartesianPoint(0),e.pointerPosition))this._setDragPoint(0);else{if(!r.Geometry.isPointNearPoint(this.cartesianPoint(1),e.pointerPosition))return!1;this._setDragPoint(1)}return this.changeCursor(r.DrawingCursorClass.RESIZE),!0;case r.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},o.prototype.draw=function(){if(this.visible){var t=this.cartesianPoints();if(0!==t.length){if(1<t.length){var e=this.renderer;e.beginPath(),this._drawingPoints=this._calculateDrawingPoints(t);for(var i=0,o=this._drawingPoints;i<o.length;i++){var r=o[i];e.line(r[0].x,r[0].y,r[1].x,r[1].y)}e.stroke(this.actualTheme.line)}this._drawSelectionMarkersIfSelected(t)}}},o.prototype._calculateDrawingPoints=function(t){for(var e=t[0].x,i=t[0].y,o=t[1].x,r=t[1].y,n=this.chartPanel.contentFrame,a=o<e?n.left:n.right,l=[],s=0,c=this.angles;s<c.length;s++){var h=c[s],r=i-Math.round(i-t[1].y)*h.value;l.push([{x:e,y:i},{x:o,y:r}])}for(var u=0,f=l;u<f.length;u++){var d=f[u],i=d[0].y;r=d[1].y,e=d[0].x,o=d[1].x,d[1].x=a,d[1].y=Math.round(i+(a-e)*(r-i)/(o-e))}return l},o.defaults={angles:[{value:.125},{value:.25},{value:.3333},{value:.5},{value:1},{value:2},{value:3},{value:4},{value:8}]},o);function o(){return null!==t&&t.apply(this,arguments)||this}r.GannFanDrawing=i,r.Drawing.register(i)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){"use strict";var e,t=(e=n.Drawing,__extends(i,e),Object.defineProperty(i,"className",{get:function(){return"trendAngle"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointsNeeded",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"radius",{get:function(){return this._options.radius||i.defaults.radius},set:function(t){this._setOption("radius",t)},enumerable:!0,configurable:!0}),i.prototype.bounds=function(){var t=this.cartesianPoints();return t.length<this.pointsNeeded?null:{left:Math.min(t[0].x,t[1].x),top:Math.min(t[0].y,t[1].y),width:Math.abs(t[0].x-t[1].x),height:Math.abs(t[0].y-t[1].y)}},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e,i=this.cartesianPoints();return null==this._dragPoint&&null!=this._arctan&&(this._angleCorrection=!0,e=Math.tan(this._arctan)*(i[0].x-i[1].x)+i[0].y,i[0].x===i[1].x&&i[0].y===e||(i[1].y=e)),1<i.length&&n.Geometry.isPointNearPolyline(t,i)},i.prototype._handlePanGesture=function(t,e){switch(t.state){case n.GestureState.STARTED:if(n.Geometry.isPointNearPoint(this.cartesianPoint(0),e.pointerPosition)&&null==this._arctan)this._setDragPoint(0);else{var i,o,r;if(!n.Geometry.isPointNearPoint(this.cartesianPoint(1),e.pointerPosition))return null!=this._arctan&&(i=this.cartesianPoints(),r=(o=Math.tan(this._arctan))*(i[0].x-i[1].x)+i[0].y,(i[0].x!==i[1].x||i[0].y!==r)&&o<this._tanMax&&o>this._tanMin&&(this.chartPoints[1].value=this.projection.valueByY(r))),!1;this._setDragPoint(1)}return this.changeCursor(n.DrawingCursorClass.RESIZE),!0;case n.GestureState.CONTINUED:if(0<=this._dragPoint)return this.chartPoints[this._dragPoint].moveToPoint(e.pointerPosition,this.projection),!0}return!1},i.prototype.draw=function(){var t,e,i;this.visible&&(t=this.cartesianPoints(),null==this._dragPoint&&this._arctan&&this._angleCorrection&&(i=(e=Math.tan(this._arctan))*(t[0].x-t[1].x)+t[0].y,(t[0].x!==t[1].x||t[0].y!==i)&&e<this._tanMax&&e>this._tanMin&&(t[1].y=i)),1<t.length&&((i=this.renderer).polylinePath(t),i.stroke(this.actualTheme.line),this._calculateAngle(t)),this._drawSelectionMarkersIfSelected(t))},i.prototype._calculateAngle=function(t){var e=Math.atan((t[1].y-t[0].y)/(t[0].x-t[1].x)),i=isNaN(e)?90:Math.round(e*(180/Math.PI));this._arctan=e;var o=-i*Math.PI/180,e=!1;i<=0&&t[1].x<=t[0].x&&(i=180+i,o+=Math.PI),0<i&&t[1].x<=t[0].x&&t[1].y>t[0].y&&(i-=180,o+=Math.PI,e=!0),i<0&&t[1].x>t[0].x&&(e=!0),this._drawTrendAngle(i.toFixed(0),o,e,t)},i.prototype._drawTrendAngle=function(t,e,i,o){var r=this.renderer;r.horLinePath(o[0].x,o[0].x+this.radius,o[0].y),r.stroke(this.actualTheme.horizontalLine),r.arcPath(o[0].x,o[0].y,this.radius,e,0,i),r.stroke(this.actualTheme.arc),r.fillText(t.toString()+"°",o[0].x+this._textOffset+this.radius,o[0].y+this._textOffset,this.actualTheme.text)},i.defaults={radius:30},i);function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._tanMax=0x3a052cf8639b6a,t._tanMin=-0x3a052cf8639b6a,t._textOffset=4,t._angleCorrection=!1,t}n.TrendAngleDrawing=t,n.Drawing.register(t)}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(i){"use strict";var o;(t=o=i.TradingToolState||(i.TradingToolState={}))[t.NONE=0]="NONE",t[t.MOVING=1]="MOVING";var r,t=(r=i.ChartPanelObject,__extends(e,r),Object.defineProperty(e.prototype,"locked",{get:function(){return this._locked},set:function(t){this._locked=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canHandleEvents",{get:function(){return this.visible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canMove",{get:function(){return!this.locked},enumerable:!0,configurable:!0}),e.prototype._onChartPanelChanged=function(t){var e=this;this.chartPanel&&(this._initButtonsInternal(),this.chart.on(i.ChartEvent.THEME_CHANGED,function(){return e._changeButtonsTheme()},this),this.update(),r.prototype._onChartPanelChanged.call(this,t))},e.prototype.update=function(){},e.prototype.initButtons=function(){return null},e.prototype._initButtonsInternal=function(){var t=this.initButtons();t&&(this._eventHandlers=new i.HandlersEvents(t))},e.prototype._changeButtonsTheme=function(){var e=this;this._eventHandlers&&this.chart&&this._eventHandlers.handlers.forEach(function(t){return t.chartTheme=e.chart.theme})},e.prototype._initGestures=function(){this._gestures=new i.GestureArray([new i.DoubleClickGesture({handler:this._handleDoubleClickGesture,hitTest:this.hitTest}),new i.PanGesture({handler:this._handlePanGestureInternal,hitTest:this._panGestureHitTest,button:i.MouseButton.LEFT})],this)},e.prototype._handleDoubleClickGesture=function(t,e){return!1},e.prototype._panGestureHitTest=function(t){return this.visible&&this.canMove&&this.hitTest(t)},e.prototype._handlePanGestureInternal=function(t,e){if(this._handlePanGesture(t,e))switch(t.state){case i.GestureState.STARTED:this.changeCursor(i.DrawingCursorClass.RESIZE_NS);break;case i.GestureState.CONTINUED:this._tradingToolState=o.MOVING;break;case i.GestureState.FINISHED:this._tradingToolState=o.NONE,this.changeCursor()}this.setNeedsUpdatePanel()},e.prototype.hitTest=function(t){return!1},e.prototype.handleEvent=function(t){return!(!this._eventHandlers||!this._eventHandlers.handleEvent(t))||this._gestures.handleEvent(t)},e.prototype._handlePanGesture=function(t,e){return!1},e.prototype.remove=function(){var t=this.chartPanel;return!!t&&(this.chart.off(i.ChartEvent.THEME_CHANGED,this),t.removeObjects(this),this.setNeedsUpdatePanel(),this.destroy(),!0)},e.prototype.draw=function(){this._eventHandlers&&this._eventHandlers.draw(),r.prototype.draw.call(this)},e.prototype.setNeedsUpdatePanel=function(){var t=this.chartPanel;t&&t.setNeedsUpdate()},e.prototype.destroy=function(){this._eventHandlers&&this._eventHandlers.destroy(),r.prototype.destroy.call(this)},e);function e(){var t=r.call(this,{})||this;return t._tradingToolState=o.NONE,t.visible=!0,t._initGestures(),t.locked=!1,t.zIndex=300,t}i.TradingTool=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(r){"use strict";r.TradingPanelEvents={TRADING_AREA_CLICKED:"TRADING_AREA_CLICKED"},r.TradingPanelUnit={Pixels:"pixels",Percents:"percent"},Object.freeze(r.TradingPanelUnit);var o,t=(o=r.TradingTool,__extends(e,o),Object.defineProperty(e.prototype,"theme",{get:function(){return this.chart.theme.tradingPanel},enumerable:!0,configurable:!0}),e.prototype.drawValueMarkers=function(){this.valueMarkerConfig&&this.visible&&this.chart.valueMarker.draw(this.valueMarkerConfig.price,this.chart.mainPanel.valueScale,r.getDefaultValueMarkerTheme(this.valueMarkerBackground,this.theme.markerFontColor))},e.prototype._initGestures=function(){this._gestures=new r.GestureArray([new r.ClickGesture({handler:this._handleClick,hitTest:this.hitTest}),new r.MouseHoverGesture({handler:this._handleHover,hitTest:function(){return!0}})],this)},e.prototype.hitTest=function(t){var e=this.chartPanel.contentFrame;return this.visible&&t.x>=e.right&&t.x<=e.width+2*this.chart.tradingPanelWidth&&t.y>e.top&&t.y<e.height},e.prototype._handleClick=function(t,e){var i=this.chartPanel.contentFrame,o=this.projection.valueByY(e.pointerPosition.y);this._isInSellArea(i,e.pointerPosition)?this.fire(r.TradingPanelEvents.TRADING_AREA_CLICKED,{price:o,event:e,side:r.OrderAction.SELL}):this._isInBuyArea(i,e.pointerPosition)&&this.fire(r.TradingPanelEvents.TRADING_AREA_CLICKED,{price:o,event:e,side:r.OrderAction.BUY})},e.prototype._handleHover=function(t,e){var i=this.chartPanel.contentFrame;this.valueMarkerConfig=e.pointerPosition;var o=this.theme;this._isInSellArea(i,e.pointerPosition)?(this.shouldChartUpdate=!0,this.valueMarkerBackground=o.sellMarkerBackground,this.isSell=!0,this._setPrice()):this._isInBuyArea(i,e.pointerPosition)?(this.valueMarkerBackground=o.buyMarkerBackground,this.shouldChartUpdate=!0,this.isSell=!1,this._setPrice()):(this.shouldChartUpdate&&(this.shouldChartUpdate=!1,this.chart.setNeedsUpdate()),this.valueMarkerConfig=null),this.shouldChartUpdate&&this.chart.setNeedsUpdate()},e.prototype._setPrice=function(){var t=this.projection.valueByY(this.valueMarkerConfig.y),e=1/this.chart.instrument.tickSize,t=Math.ceil(t*e)/e;this.valueMarkerConfig.y=this.projection.yByValue(t),this.valueMarkerConfig.price=t},e.prototype._isInSellArea=function(t,e){t=t.right+this.chart.tradingPanelWidth;return e.x>=t&&e.x<=t+this.chart.tradingPanelWidth},e.prototype._isInBuyArea=function(t,e){return e.x>=t.right&&e.x<=t.right+this.chart.tradingPanelWidth},e.prototype.draw=function(){var t,e,i;this.chart&&this.visible&&(t=this.renderer,e=this.chartPanel.contentFrame,i=this.theme,t.save(),t.beginPath(),t.rectPath(e.right,0,this.chart.tradingPanelWidth,e.height),t.fill({fillColor:i.buyPanelBackground}),t.rectPath(e.right+this.chart.tradingPanelWidth,0,this.chart.tradingPanelWidth,e.height),t.fill({fillColor:i.sellPanelBackground}),t.closePath(),t.restore(),this._drawHoverLine(t,e),o.prototype.draw.call(this))},e.prototype._drawHoverLine=function(t,e){var i;this.valueMarkerConfig&&(i=e.right,this.isSell&&(i+=this.chart.tradingPanelWidth),e=this.valueMarkerConfig.y,t.beginPath(),t.moveTo(i,e),t.lineTo(i+this.chart.tradingPanelWidth,e),t.stroke({width:1,strokeColor:this.valueMarkerBackground}),t.closePath())},e);function e(){return null!==o&&o.apply(this,arguments)||this}r.TradingPanel=t}(StockChartX=StockChartX||{});var __extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__awaiter=this&&this.__awaiter||function(n,a,l,s){return new(l=l||Promise)(function(t,e){function i(t){try{r(s.next(t))}catch(t){e(t)}}function o(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new l(function(t){t(e.value)}).then(i,o)}r((s=s.apply(n,a||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(n,e[1])).done)return a;switch(n=0,(e=a?[0,a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,n=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],n=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},LengthUnit={Percents:"percents",Pixels:"pixels"};Object.freeze(LengthUnit);var LengthType={Solid:"solid",Dotted:"dotted",Dashed:"dashed"};Object.freeze(LengthType);var _a,LineTypeMap=((_a={})[LengthType.Solid]=StockChartX.LineStyle.SOLID,_a[LengthType.Dashed]=StockChartX.LineStyle.DASH,_a[LengthType.Dotted]=StockChartX.LineStyle.DOT,_a),defaultTheme={ocoStopLimit:"rgb(0,51,233,1)",ocoStopOrder:"rgb(255,108,28,1)",orderBarLength:25,orderBarUnit:"percent",buy:{limit:{length:3,lengthUnit:"pixels",lineColor:"rgb(255,230,142,1)",lineType:"dashed"},market:{length:1,lengthUnit:"pixels",lineColor:"rgb(255,161,109,1)",lineType:"dashed"},stop:{length:2,lengthUnit:"pixels",lineColor:"rgb(255,238,180,1)",lineType:"solid"},stopLimit:{length:2,lengthUnit:"percents",lineColor:null,lineType:"dotted"}},sell:{limit:{length:3,lengthUnit:"pixels",lineColor:"rgb(255,230,142,1)",lineType:"dashed"},market:{length:1,lengthUnit:"pixels",lineColor:"rgb(255,161,109,1)",lineType:"dashed"},stop:{length:2,lengthUnit:"pixels",lineColor:"rgb(255,238,180,1)",lineType:"solid"},stopLimit:{length:2,lengthUnit:"percents",lineColor:null,lineType:"dotted"}}};!function(f){"use strict";f.OrderAction={BUY:"buy",SELL:"sell"},Object.freeze(f.OrderAction),f.OrderKind={MARKET:"market",STOP:"stop",LIMIT:"limit",STOP_LIMIT:"stopLimit"},Object.freeze(f.OrderKind);var e=((t={})[f.OrderKind.STOP]="SM",t[f.OrderKind.MARKET]="M",t[f.OrderKind.LIMIT]="L",t[f.OrderKind.STOP_LIMIT]="SL",t);f.OrderState={PENDING_SUBMIT:"pendingSubmit",PENDING_CANCEL:"pendingCancel",PENDING_REPLACE:"pendingReplace",SUBMITTED:"submitted",ACCEPTED:"accepted"},Object.freeze(f.OrderState),f.OrderTimeInForce={GOOD_TILL_DATE:"goodTillDate",DAY:"day",FOK:"FOK",IOC:"IOC",GOOD_TILL_CANCEL:"goodTillCanceled"},Object.freeze(f.OrderTimeInForce),f.OrderBarEvents={CREATE_ORDER_SETTINGS_CLICKED:"createOrderSettingsClicked",ORDER_CREATED:"orderCreated",ORDER_UPDATED:"orderUpdated",ORDER_SETTINGS_CLICKED:"orderSettingsClicked",ACCEPT_ORDER_CLICKED:"acceptOrderClicked",CANCEL_ORDER_CLICKED:"cancelOrderClicked",ORDER_PRICE_CHANGED:"orderPriceChanged"};var d,t,p=0,y=5,t=(d=f.TradingTool,__extends(i,d),Object.defineProperty(i.prototype,"textWidth",{get:function(){return this.textMargin+y+p+this.xPadding},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"theme",{get:function(){return this._theme||this.defaultTheme},set:function(t){this._theme=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actualTheme",{get:function(){return this.theme[this.order.action][this.order.kind]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"defaultTheme",{get:function(){return this.chart.theme.orderBar},enumerable:!0,configurable:!0}),i.prototype._getCancelButtonOptions=function(){return this._cancelButtonOptions},i.prototype._onCancelButtonClick=function(t){this.fire(f.OrderBarEvents.CANCEL_ORDER_CLICKED,{order:this.order,event:t}),this.autoRemove&&this.remove()},i.prototype._handleDoubleClickGesture=function(t,e){return this.modifyOrder=!0,this.fire(f.OrderBarEvents.ORDER_SETTINGS_CLICKED),d.prototype._handleDoubleClickGesture.call(this,t,e)},i.prototype._handlePanGesture=function(t,e){switch(t.state){case f.GestureState.STARTED:this._oldOrder=f.JsUtil.clone(this._order);break;case f.GestureState.CONTINUED:var i=this.projection.valueByY(e.pointerPosition.y);this.order.price=i,this.order.stopPrice=i;break;case f.GestureState.FINISHED:this._oldOrder.price!==this.order.price&&this.fire(f.OrderBarEvents.ORDER_PRICE_CHANGED,this.order,this._oldOrder)}return!0},i.prototype.initButtons=function(){var t=this.chart.theme,e=this.renderer,i=this._getColors.bind(this),t=new f.Button({renderer:e,type:f.ButtonType.CANCEL,chartTheme:t,options:this._getCancelButtonOptions.bind(this),onClick:this._onCancelButtonClick.bind(this)});return t.theme={line:{strokeColor:"#fff"},get fill(){return{fillColor:i().fillColor}}},[t]},i.prototype._getLineWidth=function(){var t=this.theme,e=t.orderBarLength;return t.orderBarUnit!==LengthUnit.Percents?e:(100<e?100:e)/100*(this.chartPanel.contentFrame.right-this.figureOffset-this.cancelSize-this.textWidth)},i.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.projection.yByValue(this.order.price),i=this.chartPanel.contentFrame.width,o=i-this._getLineWidth()-this.textMargin-y-p;return f.Geometry.isValueNearValue(t.y,e)&&(t.x>=o||t.x<=i)},i.prototype.draw=function(){var t,e,i,o,r,n,a,l,s,c,h,u;this.chart&&this.visible&&this.order&&(t=this.renderer,s=this.chartPanel.contentFrame,h=this.order,e=s.right,i=this.actualTheme,u=this.projection.yByValue(h.price),o=this.order.kind,c=this.figureOffset,l=this.cancelSize,r=e-this._getLineWidth()-c-l,n=this._getColors(),t.beginPath(),this._cancelButtonOptions={position:{x:e-l/2,y:u},size:l},e-=l,t.textOptions({baseline:f.TextBaseline.MIDDLE,align:f.TextAlign.CENTER}),a=y+this.textMargin+p,s=this.xPadding,t.rectPath((l=r-a)-s,u-c,a+2*s,2*c),r+=c,t.fillStroke({fillColor:n.fillColor},{strokeColor:n.figureColor}),c={fillColor:"#fff",fontWeight:"600",fontSize:10},t.fillText(h.quantity.toString(),l,u,c),h=t.textWidth(h.quantity.toString()),t.fillText(m(o),l+h+this.textMargin,u,c),t.horLinePath(r,e,u),u=LineTypeMap[i.lineType],t.stroke({width:i.length,strokeColor:n.strokeColor,lineStyle:u},!0),t.closePath(),d.prototype.draw.call(this))},i.prototype._getColors=function(){var t=this.actualTheme,e=t.lineColor;return this.order.isOco&&(e="stop"===this.order.kind?this.theme.ocoStopOrder:this.theme.ocoStopLimit),{fillColor:t.lineColor,strokeColor:t.lineColor,figureColor:e}},i.prototype.drawValueMarkers=function(){var t,e,i;this.order&&this.visible&&(t=this.chart.valueMarker,e=this.panelValueScale,i={fill:{fillColor:this._getColors().fillColor},text:{fillColor:"#fff",fontSize:11}},t.draw(this.order.price,e,i))},i.prototype.update=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this._updateTextWidth(),this.setNeedsUpdatePanel(),[2]})})},i.prototype._updateTextWidth=function(){var t,e;this.chart&&(e=this.renderer,t=this.order.kind,t=Math.round(e.textWidth(m(t))),e=Math.round(e.textWidth(this.order.quantity.toString())),y<e&&(y=e),p<t&&(p=t))},i.prototype.destroy=function(){var t=this;y=p=0,this.chartPanel.orders.forEach(function(e){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){return[2,e.update()]})})}),d.prototype.destroy.call(this)},i);function i(t){var e=d.call(this)||this;e.textMargin=3,e.xPadding=9,e.cancelSize=11,e.figureOffset=10,e.modifyOrder=!1;var i=t.order;if(!i)throw e.remove(),new Error("Order is not assigned.");return e.order=i,e.autoRemove=!!t.autoRemove,e}function m(t){return e[t]||t}f.OrderBar=t}(StockChartX=StockChartX||{});__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__awaiter=this&&this.__awaiter||function(n,a,l,s){return new(l=l||Promise)(function(t,e){function i(t){try{r(s.next(t))}catch(t){e(t)}}function o(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new l(function(t){t(e.value)}).then(i,o)}r((s=s.apply(n,a||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,a,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=n[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(n,e[1])).done)return a;switch(n=0,(e=a?[0,a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,n=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(!(a=0<(a=l.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){l.label=e[1];break}if(6===e[0]&&l.label<a[1]){l.label=a[1],a=e;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(e);break}a[2]&&l.ops.pop(),l.trys.pop();continue}e=o.call(i,l)}catch(t){e=[6,t],n=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};!function(h){"use strict";h.PositionKind={SHORT:"short",LONG:"long"},Object.freeze(h.PositionKind),h.PositionBarEvents={CLOSE_POSITION_CLICKED:"closePositionClicked"};var u,f=0,d=0,t=(u=h.TradingTool,__extends(e,u),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"theme",{get:function(){return this._theme},set:function(t){this._theme=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actualTheme",{get:function(){return this.theme||this.defaultTheme},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultTheme",{get:function(){return this.chart.theme.positionBar[this.position.kind]},enumerable:!0,configurable:!0}),e.prototype._getCloseButtonOptions=function(){return this._closeButtonOptions},e.prototype._onCloseButtonClick=function(){this.fire(h.PositionBarEvents.CLOSE_POSITION_CLICKED,this),this.autoRemove&&this.remove()},e.prototype.initButtons=function(){return[new h.Button({renderer:this.renderer,type:h.ButtonType.CANCEL,chartTheme:this.chart.theme,options:this._getCloseButtonOptions.bind(this),onClick:this._onCloseButtonClick.bind(this)})]},e.prototype.hitTest=function(t){if(!this.canHandleEvents)return!1;var e=this.projection.yByValue(this.position.price);return h.Geometry.isValueNearValue(t.y,e)},e.prototype.draw=function(){var t,e,i,o,r,n,a,l,s,c;this.visible&&(t=this.renderer,i=.1*(e=this.chartPanel.contentFrame).width,o=.04*e.width,r=this.position,n=e.width,a=this.actualTheme,l=this.projection.yByValue(r.price),s=this._localizedKind||this.position.kind,this._tradingToolState===h.TradingToolState.NONE?(c=n,t.horLinePath(c,n-=i,l),t.stroke(a.line),n-=o,t.textOptions({baseline:h.TextBaseline.MIDDLE,align:h.TextAlign.CENTER}),t.fillText(r.quantity.toString(),n-d/2,l,a.quantity.text),n-=d,t.fillText(s,(n-=o)-f/2,l,a.kind.text),n-=f,this._closeButtonOptions={position:{x:(n-=o)-5,y:l},size:10},n-=10):this._closeButtonOptions=null,t.horLinePath(e.left,n,l),t.stroke(a.line),u.prototype.draw.call(this))},e.prototype.drawValueMarkers=function(){var t,e;this.position&&this.visible&&(t=this.chart.valueMarker,e=this.panelValueScale,t.draw(this.position.price,e,this.actualTheme.price))},e.prototype.update=function(e){return void 0===e&&(e=!0),__awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e?[4,this._localizeValues()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this._updateTextWidth(),this.setNeedsUpdatePanel(),[2]}})})},e.prototype._updateTextWidth=function(){var t,e=this.renderer;e&&(t=this._localizedKind||this.position.kind,t=Math.round(e.textWidth(t)),e=Math.round(e.textWidth(this.position.quantity.toString())),d<e&&(d=e),f<t&&(f=t))},e.prototype._localizeValues=function(){return __awaiter(this,void 0,void 0,function(){var e,i;return __generator(this,function(t){switch(t.label){case 0:return e="trading.position.kind."+this.position.kind,[4,this.chart.localizeText(e)];case 1:return i=t.sent(),this._localizedKind=i!==e?i:this.position.kind,[2]}})})},e.prototype.destroy=function(){var t=this;d=f=0,this.chartPanel.positions.forEach(function(e){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){return[2,e.update(!1)]})})}),u.prototype.destroy.call(this)},e);function e(t){var e=u.call(this)||this,i=t.position;if(!i)throw e.remove(),new Error("Position is not assigned.");return e.position=i,e.autoRemove=!!t.autoRemove,e}h.PositionBar=t}(StockChartX=StockChartX||{});var StockChartX,__extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();!function(n){"use strict";n.ButtonType={ACCEPT:"accept",CANCEL:"cancel",NONE:"none"},Object.freeze(n.ButtonType);var i,t=(i=n.Control,__extends(e,i),Object.defineProperty(e.prototype,"options",{get:function(){return this._options()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"theme",{get:function(){return this._theme||this.defaultTheme},set:function(t){this._theme=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chartTheme",{set:function(t){this._chartTheme=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultTheme",{get:function(){return this._chartTheme.button[this.type]},enumerable:!0,configurable:!0}),e.prototype._initGestures=function(){return new n.GestureArray([new n.PanGesture({handler:this._handlePanGesture,button:n.MouseButton.LEFT}),new n.MouseHoverGesture({handler:this._handleOnMouseHover})],this,this._hitTest)},e.prototype._hitTest=function(t){var e=this.options;if(!e)return!1;var i=e.position,o=e.size/2,e={x:i.x-o,y:i.y+o},o={x:i.x+o,y:i.y-o};return n.Geometry.isPointInsideOrNearRectPoints(t,e,o)},e.prototype._handleOnMouseHover=function(t){this.changeCursor(t.state!==n.GestureState.FINISHED)},e.prototype._handlePanGesture=function(t,e){t.state===n.GestureState.FINISHED&&this._hitTest(e.pointerPosition)&&this._onClick&&this._onClick(e)},e.prototype.draw=function(){var t=this.options;if(t){var e=this._renderer,i=t.size,o=i/2,r=t.position;switch(e.rectPath(r.x-o,r.y-o,i,i),e.fill(this.theme.fill),e.beginPath(),o-=.1*i,this.type){case n.ButtonType.ACCEPT:e.moveTo(r.x-o,r.y),e.lineTo(r.x,r.y+o),e.lineTo(r.x+o,r.y-o);break;case n.ButtonType.CANCEL:e.line(r.x-(o/=2),r.y-o,r.x+o,r.y+o),e.line(r.x-o,r.y+o,r.x+o,r.y-o)}e.stroke(this.theme.line)}},e.prototype.destroy=function(){this.changeCursor()},e.prototype.changeCursor=function(t){var e=$(".scxContainer");t?e.addClass("scxCursorPointer"):e.removeClass("scxCursorPointer")},e);function e(t){var e=i.call(this)||this;return e._renderer=t.renderer,e._options=t.options,e.type=t.type||n.ButtonType.NONE,e.chartTheme=t.chartTheme,e._onClick=t.onClick,e}n.Button=t}(StockChartX=StockChartX||{}),function(t){"use strict";var e=(Object.defineProperty(i.prototype,"handlers",{get:function(){return this._handlers},enumerable:!0,configurable:!0}),i.prototype.handleEvent=function(e){var i=!1;return this._handlers.forEach(function(t){t.handleEvent(e)&&(i=!0)}),i},i.prototype.destroy=function(){this._handlers.forEach(function(t){return t.destroy()})},i.prototype.draw=function(){this._handlers.forEach(function(t){return t.draw()})},i);function i(t){this._handlers=t}t.HandlersEvents=e}(StockChartX=StockChartX||{}),function(a){!function(n){"use strict";var t=(e.prototype.setHandler=function(){for(var t=0,e=this._tradingButton;t<e.length;t++)e[t].$control.scx().tradingContextMenu(this._menuConfig())},e.prototype._menuConfig=function(){var r=this;return{menuContainer:null,showOnClick:!0,crossHairView:this._crossHairView,chart:this._chart,quantity:a.DEFAULT_QUANTITY,onItemSelected:function(t,e){var i=t.data("id");switch(i){case n.TradingContextMenu.MenuItem.NEW_ORDER:r._handleNewOrder(!0,!1,a.OrderAction.BUY,a.OrderKind.MARKET);break;case n.TradingContextMenu.MenuItem.BUY:var o=r._crossHairView.isAboveMarket?a.OrderKind.LIMIT:a.OrderKind.STOP;r._handleNewOrder(!1,!0,a.OrderAction.BUY,o);break;case n.TradingContextMenu.MenuItem.SELL:o=r._crossHairView.isAboveMarket?a.OrderKind.STOP:a.OrderKind.LIMIT;r._handleNewOrder(!1,!0,a.OrderAction.SELL,o);break;case n.TradingContextMenu.MenuItem.BUY_MARKET:r._handleNewOrder(!1,!0,a.OrderAction.BUY,a.OrderKind.MARKET);break;case n.TradingContextMenu.MenuItem.SELL_MARKET:r._handleNewOrder(!1,!0,a.OrderAction.SELL,a.OrderKind.MARKET);break;case void 0:break;default:throw new Error("Unknown menu item '"+i+"'")}}}},e.prototype._handleNewOrder=function(t,e,i,o){var r=this._crossHairView.tradingPrice;r&&(i=new a.OrderBar({order:{price:r,quantity:a.DEFAULT_QUANTITY,stopPrice:r,kind:o,state:a.OrderState.PENDING_SUBMIT,timeInForce:a.OrderTimeInForce.GOOD_TILL_CANCEL,action:i}}),e&&(this._chart.mainPanel.addObjects(i),this._chart.fire(a.OrderBarEvents.ORDER_CREATED,{sender:this,type:a.OrderBarEvents.ORDER_CREATED,target:i})),t&&i.fire.call(this._chart.mainPanel,a.OrderBarEvents.CREATE_ORDER_SETTINGS_CLICKED,i))},e);function e(t){this._crossHairView=t.crossHairView,this._tradingButton=t.tradingButton,this._chart=t.crossHairView.chart}n.TradingCrossHairButton=t}(a.UI||(a.UI={}))}(StockChartX=StockChartX||{}),function(r){"use strict";var n=jQuery,t=(e.localize=function(t,e){t=t.locale;this._localize(t).then(function(){(e=e||n(document)).localize&&e.localize()})},e.localizeText=function(t,e,i){if(!e)return null;t=t instanceof r.Chart?t.locale:t||this.fallbackLocale;return this._localize(t).then(function(){if(i){var t={interpolation:{prefix:"{",suffix:"}"},replace:i.replace,defaultValue:i.defaultValue,context:i.context,count:i.count};return i18next.t(e,t)}return i18next.t(e)})},e._localize=function(t){var o=this;return new Promise(function(e,i){o._isInialized?i18next.language!==t?i18next.changeLanguage(t,function(){return e()}):e():(o._isInialized=!0,i18next.use(i18nextXHRBackend),i18next.init({debug:!1,lng:t,fallbackLng:o.fallbackLocale,backend:{loadPath:r.Environment.Path.locales+"{{lng}}.json"}},function(t){t?i():(jqueryI18next.init(i18next,n,{parseDefaultValueFromContent:!0,handleName:"localize"}),e())}))})},e._isInialized=!1,e.fallbackLocale="en",e);function e(){}r.Localization=t}(StockChartX=StockChartX||{});